(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63639,e=>{"use strict";var t=e.i(49973),r=e.i(18939),a=e.i(74117);e.i(8419);var n=e.i(11426),i=e.i(64583),s=e.i(47163),l=e.i(69742),o=e.i(66974),c=e.i(51407),d=e.i(28338),u=e.i(31351),h=e.i(8164);e.i(42550),e.i(45850),e.i(78152),e.i(54542),e.i(92423),e.i(83502),e.i(3760);let{abs:x,max:f,min:g}=Math;function p(e){return{type:e}}["w","e"].map(p),["n","s"].map(p),["n","w","e","s","nw","ne","sw","se"].map(p),e.i(50149);var m=e.i(11905);function y(e){return e.x}function b(e){return e.y}var v=Math.PI*(3-Math.sqrt(5));function k(e,t,r,a){if(isNaN(t)||isNaN(r))return e;var n,i,s,l,o,c,d,u,h,x=e._root,f={data:a},g=e._x0,p=e._y0,m=e._x1,y=e._y1;if(!x)return e._root=f,e;for(;x.length;)if((c=t>=(i=(g+m)/2))?g=i:m=i,(d=r>=(s=(p+y)/2))?p=s:y=s,n=x,!(x=x[u=d<<1|c]))return n[u]=f,e;if(l=+e._x.call(null,x.data),o=+e._y.call(null,x.data),t===l&&r===o)return f.next=x,n?n[u]=f:e._root=f,e;do n=n?n[u]=[,,,,]:e._root=[,,,,],(c=t>=(i=(g+m)/2))?g=i:m=i,(d=r>=(s=(p+y)/2))?p=s:y=s;while((u=d<<1|c)==(h=(o>=s)<<1|l>=i))return n[h]=x,n[u]=f,e}function w(e,t,r,a,n){this.node=e,this.x0=t,this.y0=r,this.x1=a,this.y1=n}function N(e){return e[0]}function j(e){return e[1]}function C(e,t,r){var a=new _(null==t?N:t,null==r?j:r,NaN,NaN,NaN,NaN);return null==e?a:a.addAll(e)}function _(e,t,r,a,n,i){this._x=e,this._y=t,this._x0=r,this._y0=a,this._x1=n,this._y1=i,this._root=void 0}function M(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var A=C.prototype=_.prototype;function z(e){return function(){return e}}function S(e){return(e()-.5)*1e-6}function T(e){return e.x+e.vx}function I(e){return e.y+e.vy}function E(e){return e.index}function D(e,t){var r=e.get(t);if(!r)throw Error("node not found: "+t);return r}A.copy=function(){var e,t,r=new _(this._x,this._y,this._x0,this._y0,this._x1,this._y1),a=this._root;if(!a)return r;if(!a.length)return r._root=M(a),r;for(e=[{source:a,target:r._root=[,,,,]}];a=e.pop();)for(var n=0;n<4;++n)(t=a.source[n])&&(t.length?e.push({source:t,target:a.target[n]=[,,,,]}):a.target[n]=M(t));return r},A.add=function(e){let t=+this._x.call(null,e),r=+this._y.call(null,e);return k(this.cover(t,r),t,r,e)},A.addAll=function(e){var t,r,a,n,i=e.length,s=Array(i),l=Array(i),o=1/0,c=1/0,d=-1/0,u=-1/0;for(r=0;r<i;++r)!(isNaN(a=+this._x.call(null,t=e[r]))||isNaN(n=+this._y.call(null,t)))&&(s[r]=a,l[r]=n,a<o&&(o=a),a>d&&(d=a),n<c&&(c=n),n>u&&(u=n));if(o>d||c>u)return this;for(this.cover(o,c).cover(d,u),r=0;r<i;++r)k(this,s[r],l[r],e[r]);return this},A.cover=function(e,t){if(isNaN(e*=1)||isNaN(t*=1))return this;var r=this._x0,a=this._y0,n=this._x1,i=this._y1;if(isNaN(r))n=(r=Math.floor(e))+1,i=(a=Math.floor(t))+1;else{for(var s,l,o=n-r||1,c=this._root;r>e||e>=n||a>t||t>=i;)switch(l=(t<a)<<1|e<r,(s=[,,,,])[l]=c,c=s,o*=2,l){case 0:n=r+o,i=a+o;break;case 1:r=n-o,i=a+o;break;case 2:n=r+o,a=i-o;break;case 3:r=n-o,a=i-o}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=a,this._x1=n,this._y1=i,this},A.data=function(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e},A.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},A.find=function(e,t,r){var a,n,i,s,l,o,c,d=this._x0,u=this._y0,h=this._x1,x=this._y1,f=[],g=this._root;for(g&&f.push(new w(g,d,u,h,x)),null==r?r=1/0:(d=e-r,u=t-r,h=e+r,x=t+r,r*=r);o=f.pop();)if((g=o.node)&&!((n=o.x0)>h)&&!((i=o.y0)>x)&&!((s=o.x1)<d)&&!((l=o.y1)<u))if(g.length){var p=(n+s)/2,m=(i+l)/2;f.push(new w(g[3],p,m,s,l),new w(g[2],n,m,p,l),new w(g[1],p,i,s,m),new w(g[0],n,i,p,m)),(c=(t>=m)<<1|e>=p)&&(o=f[f.length-1],f[f.length-1]=f[f.length-1-c],f[f.length-1-c]=o)}else{var y=e-this._x.call(null,g.data),b=t-this._y.call(null,g.data),v=y*y+b*b;if(v<r){var k=Math.sqrt(r=v);d=e-k,u=t-k,h=e+k,x=t+k,a=g.data}}return a},A.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e)))return this;var t,r,a,n,i,s,l,o,c,d,u,h,x=this._root,f=this._x0,g=this._y0,p=this._x1,m=this._y1;if(!x)return this;if(x.length)for(;;){if((c=i>=(l=(f+p)/2))?f=l:p=l,(d=s>=(o=(g+m)/2))?g=o:m=o,t=x,!(x=x[u=d<<1|c]))return this;if(!x.length)break;(t[u+1&3]||t[u+2&3]||t[u+3&3])&&(r=t,h=u)}for(;x.data!==e;)if(a=x,!(x=x.next))return this;return((n=x.next)&&delete x.next,a)?n?a.next=n:delete a.next:t?(n?t[u]=n:delete t[u],(x=t[0]||t[1]||t[2]||t[3])&&x===(t[3]||t[2]||t[1]||t[0])&&!x.length&&(r?r[h]=x:this._root=x)):this._root=n,this},A.removeAll=function(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this},A.root=function(){return this._root},A.size=function(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e},A.visit=function(e){var t,r,a,n,i,s,l=[],o=this._root;for(o&&l.push(new w(o,this._x0,this._y0,this._x1,this._y1));t=l.pop();)if(!e(o=t.node,a=t.x0,n=t.y0,i=t.x1,s=t.y1)&&o.length){var c=(a+i)/2,d=(n+s)/2;(r=o[3])&&l.push(new w(r,c,d,i,s)),(r=o[2])&&l.push(new w(r,a,d,c,s)),(r=o[1])&&l.push(new w(r,c,n,i,d)),(r=o[0])&&l.push(new w(r,a,n,c,d))}return this},A.visitAfter=function(e){var t,r=[],a=[];for(this._root&&r.push(new w(this._root,this._x0,this._y0,this._x1,this._y1));t=r.pop();){var n=t.node;if(n.length){var i,s=t.x0,l=t.y0,o=t.x1,c=t.y1,d=(s+o)/2,u=(l+c)/2;(i=n[0])&&r.push(new w(i,s,l,d,u)),(i=n[1])&&r.push(new w(i,d,l,o,u)),(i=n[2])&&r.push(new w(i,s,u,d,c)),(i=n[3])&&r.push(new w(i,d,u,o,c))}a.push(t)}for(;t=a.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},A.x=function(e){return arguments.length?(this._x=e,this):this._x},A.y=function(e){return arguments.length?(this._y=e,this):this._y};let R={trabalhando:{glowColor:"rgba(34, 211, 238, 0.5)",fillColor:"#083344",strokeColor:"#22d3ee",animate:!0,animationType:"pulse"},esperando_voce:{glowColor:"rgba(251, 191, 36, 0.5)",fillColor:"#422006",strokeColor:"#fbbf24",animate:!0,animationType:"breathe"},disponivel:{glowColor:"rgba(52, 211, 153, 0.2)",fillColor:"#064e3b",strokeColor:"#34d399",animate:!1},offline:{glowColor:"transparent",fillColor:"#1e293b",strokeColor:"#475569",animate:!1},erro:{glowColor:"rgba(244, 63, 94, 0.5)",fillColor:"#4c0519",strokeColor:"#f43f5e",animate:!0,animationType:"pulse"}},$={orchestrator:{radius:48,ringColor:"#f43f5e",ringStyle:"solid",glowIntensity:.8,iconSize:28},specialist:{radius:40,ringColor:"#8b5cf6",ringStyle:"solid",glowIntensity:.6,iconSize:24},analyzer:{radius:36,ringColor:"#06b6d4",ringStyle:"dashed",glowIntensity:.5,iconSize:22},tool:{radius:30,ringColor:"#22c55e",ringStyle:"dotted",glowIntensity:.3,iconSize:18},assistant:{radius:34,ringColor:"#3b82f6",ringStyle:"solid",glowIntensity:.4,iconSize:20}},B={nexo_import:"orchestrator",inventory_hub:"orchestrator",intake:"specialist",import:"specialist",compliance:"specialist",schema_mapper:"specialist",data_transformer:"specialist",inventory_analyst:"analyzer",observation:"analyzer",debug:"analyzer",file_analyzer:"tool",vision_analyzer:"tool"},L={tool_call:"#3b82f6",response:"#22c55e",delegation:"#a855f7",notification:"#f59e0b",unknown:"#6b7280"},O={centerStrength:.05,collisionRadius:80,linkStrength:.3,linkDistance:150,chargeStrength:-400,alphaDecay:.02,velocityDecay:.4};var q=e.i(62318),F=e.i(70856),W=e.i(98631);let H=(0,W.default)("cog",[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]]);var P=e.i(45680),Z=e.i(27205),V=e.i(72115),G=e.i(5300),U=e.i(11152);let Y={orchestrator:e.i(1057).Network,analyzer:F.Brain,processor:H,retriever:Z.FileSearch,transformer:G.Zap,validator:U.Shield,repair:V.Wrench,storage:P.Database,default:q.Bot},K=(0,r.memo)(function({node:e,isSelected:a,isHovered:n,onClick:i,onHoverEnter:l,onHoverLeave:o}){let{agent:c}=e,d=R[c.status],u=function(e){let t=e.toLowerCase();for(let[e,r]of Object.entries(Y))if(t.includes(e))return r;return Y.default}(c.friendlyName),h=function(e){if(B[e])return B[e];let t=e.toLowerCase();return t.includes("hub")||t.includes("nexo")||t.includes("orchestrat")?"orchestrator":t.includes("analyst")||t.includes("analyzer")||t.includes("debug")?"analyzer":t.includes("tool")||t.includes("vision")||t.includes("file")?"tool":"assistant"}(c.id),x=$[h],f=x.radius,g=x.iconSize,p=f+6,m=e.x??0,y=e.y??0,b="trabalhando"===c.status||"esperando_voce"===c.status,v=`glow-${c.status}-${e.id}`,k=(0,r.useMemo)(()=>d.animate?"pulse"===d.animationType?"animate-pulse":"breathe"===d.animationType?"animate-breathe":"":"",[d]),w=(0,r.useMemo)(()=>{switch(x.ringStyle){case"dashed":return"8 4";case"dotted":return"2 4";default:return"none"}},[x.ringStyle]);return(0,t.jsxs)("g",{transform:`translate(${m}, ${y})`,onClick:()=>i?.(e),onMouseEnter:()=>l?.(e),onMouseLeave:()=>o?.(),className:"cursor-pointer transition-transform duration-200",style:{transform:`translate(${m}px, ${y}px) scale(${n?1.1:1})`},children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("filter",{id:v,x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,t.jsx)("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),(0,t.jsxs)("feMerge",{children:[(0,t.jsx)("feMergeNode",{in:"coloredBlur"}),(0,t.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})}),(0,t.jsx)("circle",{r:p,fill:"none",stroke:x.ringColor,strokeWidth:"2.5",strokeDasharray:w,opacity:b?.9:.5,className:"orchestrator"===h?"animate-spin-slow":""}),b&&(0,t.jsx)("circle",{r:p+8,fill:"none",stroke:d.strokeColor,strokeWidth:"1.5",strokeDasharray:"4 6",opacity:.3,className:k,children:(0,t.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0",to:"360",dur:"8s",repeatCount:"indefinite"})}),a&&(0,t.jsx)("circle",{r:p+12,fill:"none",stroke:"#ffffff",strokeWidth:"2",strokeDasharray:"4 2",opacity:.6}),(0,t.jsx)("circle",{r:f,fill:d.fillColor,stroke:d.strokeColor,strokeWidth:a||n?3:2,filter:b?`url(#${v})`:void 0,style:{filter:b?`drop-shadow(0 0 ${12*x.glowIntensity}px ${d.glowColor})`:void 0}}),(0,t.jsx)("foreignObject",{x:-g/2,y:-g/2,width:g,height:g,className:"pointer-events-none",children:(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)(u,{size:g,className:(0,s.cn)("transition-colors",b?"text-white":"text-gray-400")})})}),(0,t.jsx)("circle",{cx:.7*f,cy:-(.7*f),r:Math.max(5,.18*f),fill:d.strokeColor,stroke:d.fillColor,strokeWidth:2,className:"esperando_voce"===c.status?"animate-pulse":""}),"esperando_voce"===c.status&&(0,t.jsx)("circle",{cx:.7*f,cy:-(.7*f),r:Math.max(5,.18*f),fill:"none",stroke:d.strokeColor,strokeWidth:1,className:"animate-ping",opacity:.6}),(0,t.jsx)("text",{y:f+18,textAnchor:"middle",className:"fill-gray-300 text-[10px] font-medium uppercase tracking-wider pointer-events-none",style:{fontFamily:"system-ui, sans-serif"},children:c.friendlyName.length>14?`${c.friendlyName.slice(0,12)}...`:c.friendlyName}),(0,t.jsx)("text",{y:f+30,textAnchor:"middle",className:"fill-gray-500 text-[8px] font-light uppercase tracking-widest pointer-events-none",style:{fontFamily:"system-ui, sans-serif"},children:h}),e.currentTask&&(0,t.jsx)("text",{y:f+42,textAnchor:"middle",className:"fill-gray-600 text-[7px] font-light pointer-events-none italic",style:{fontFamily:"system-ui, sans-serif"},children:e.currentTask.length>24?`${e.currentTask.slice(0,22)}...`:e.currentTask})]})});function X(e){return"string"==typeof e?null:{x:e.x??0,y:e.y??0}}K.displayName="AgentNode";let J=(0,r.memo)(function({edge:e,isHovered:r,onClick:a,onHoverEnter:n,onHoverLeave:i}){let s=X(e.source),l=X(e.target);if(!s||!l)return null;let{x:o,y:c}=s,{x:d,y:u}=l,h=L[e.messageType],x=d-o,f=u-c,g=36/Math.sqrt(x*x+f*f),p=o+x*g,m=c+f*g,y=d-x*g,b=u-f*g,v=`arrow-${e.id}`,k=`gradient-${e.id}`,w=e.isActive?1:.3,N=r?4:2;return(0,t.jsxs)("g",{onClick:()=>a?.(e),onMouseEnter:()=>n?.(e),onMouseLeave:()=>i?.(),className:"cursor-pointer",style:{opacity:w},children:[(0,t.jsxs)("defs",{children:[(0,t.jsx)("marker",{id:v,viewBox:"0 0 10 10",refX:"9",refY:"5",markerWidth:8,markerHeight:8,orient:"auto-start-reverse",children:(0,t.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:h,opacity:w})}),(0,t.jsxs)("linearGradient",{id:k,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:h,stopOpacity:.2}),(0,t.jsx)("stop",{offset:"50%",stopColor:h,stopOpacity:1}),(0,t.jsx)("stop",{offset:"100%",stopColor:h,stopOpacity:.2})]})]}),(0,t.jsx)("line",{x1:p,y1:m,x2:y,y2:b,stroke:"transparent",strokeWidth:16}),e.isActive&&(0,t.jsx)("line",{x1:p,y1:m,x2:y,y2:b,stroke:h,strokeWidth:N+12,strokeLinecap:"round",opacity:.15,style:{filter:"blur(8px)"}}),e.isActive&&(0,t.jsx)("line",{x1:p,y1:m,x2:y,y2:b,stroke:h,strokeWidth:N+6,strokeLinecap:"round",opacity:.25,style:{filter:"blur(4px)"}}),(0,t.jsx)("line",{x1:p,y1:m,x2:y,y2:b,stroke:h,strokeWidth:N,strokeLinecap:"round",strokeDasharray:e.isActive?"12 6":"4 4",markerEnd:`url(#${v})`,className:e.isActive?"animate-dash animate-edge-pulse":""}),r&&(0,t.jsxs)("g",{transform:`translate(${(o+d)/2}, ${(c+u)/2})`,children:[(0,t.jsx)("rect",{x:-60,y:-12,width:120,height:24,rx:4,fill:"rgba(0, 0, 0, 0.8)",stroke:h,strokeWidth:1}),(0,t.jsx)("text",{textAnchor:"middle",dominantBaseline:"central",className:"fill-white text-[9px] font-medium pointer-events-none",style:{fontFamily:"system-ui, sans-serif"},children:e.messageSummary.length>18?`${e.messageSummary.slice(0,16)}...`:e.messageSummary})]})]})});J.displayName="A2AEdge";var Q=e.i(13622),ee=e.i(24392),et=e.i(56625),er=e.i(49202),ea=e.i(7723),en=e.i(13862);let ei={trabalhando:"Trabalhando",esperando_voce:"Aguardando Você",disponivel:"Disponível",offline:"Offline",erro:"Erro"},es={read:er.FileText,write:P.Database,update:G.Zap,delete:et.AlertCircle};function el({op:e}){let r=es[e.type]||P.Database,a={read:"text-blue-400 bg-blue-500/10",write:"text-emerald-400 bg-emerald-500/10",update:"text-amber-400 bg-amber-500/10",delete:"text-rose-400 bg-rose-500/10"};return(0,t.jsxs)("div",{className:(0,s.cn)("flex items-center gap-1.5 px-2 py-1 rounded text-[10px] font-mono",a[e.type]||a.read),children:[(0,t.jsx)(r,{size:10}),(0,t.jsx)("span",{className:"uppercase",children:e.type}),(0,t.jsx)("span",{className:"text-gray-400 truncate max-w-[100px]",children:e.key})]})}function eo({data:e,containerBounds:r}){if(!e)return null;let{agent:a,currentTask:n,pendingDecision:i,dataContext:o,memoryOps:c,position:d}=e,u=R[a.status],h=d.x+20,x=d.y-20;return r&&h+280>r.right&&(h=d.x-280-20),r&&x+200>r.bottom&&(x=d.y-200),(0,t.jsx)(Q.AnimatePresence,{children:(0,t.jsxs)(l.motion.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{duration:.15},className:(0,s.cn)("fixed z-50 pointer-events-none","rounded-xl border border-white/10 backdrop-blur-xl","bg-black/80 shadow-2xl"),style:{left:h,top:x,width:280},children:[(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-white/5",style:{borderLeftColor:u.strokeColor,borderLeftWidth:3},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"text-sm font-bold text-white",children:a.friendlyName}),(0,t.jsx)("span",{className:(0,s.cn)("px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider",u.animate&&"animate-pulse"),style:{backgroundColor:`${u.strokeColor}20`,color:u.strokeColor},children:ei[a.status]||a.status})]}),a.description&&(0,t.jsx)("p",{className:"text-[11px] text-gray-400 mt-1",children:a.description})]}),(0,t.jsxs)("div",{className:"p-4 space-y-3",children:[n&&(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-[10px] text-gray-500 uppercase tracking-wider",children:[(0,t.jsx)(ee.Activity,{size:10}),(0,t.jsx)("span",{children:"Current Task"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-300 leading-relaxed",children:n})]}),i&&(0,t.jsxs)("div",{className:"space-y-1 p-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-[10px] text-amber-400 uppercase tracking-wider",children:[(0,t.jsx)(ea.HelpCircle,{size:10}),(0,t.jsx)("span",{children:"Awaiting Decision"})]}),(0,t.jsx)("p",{className:"text-xs text-amber-200",children:i})]}),o&&(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-[10px] text-gray-500 uppercase tracking-wider",children:[(0,t.jsx)(F.Brain,{size:10}),(0,t.jsx)("span",{children:"Data Context"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 font-mono bg-white/5 px-2 py-1 rounded",children:o.length>100?`${o.slice(0,97)}...`:o})]}),c&&c.length>0&&(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-[10px] text-gray-500 uppercase tracking-wider",children:[(0,t.jsx)(P.Database,{size:10}),(0,t.jsx)("span",{children:"Recent Memory Ops"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[c.slice(0,4).map((e,r)=>(0,t.jsx)(el,{op:e},`${e.key}-${r}`)),c.length>4&&(0,t.jsxs)("span",{className:"text-[10px] text-gray-500",children:["+",c.length-4," more"]})]})]}),!n&&!i&&!o&&(!c||0===c.length)&&(0,t.jsxs)("div",{className:"text-center py-2",children:[(0,t.jsx)(en.Clock,{size:16,className:"mx-auto text-gray-600 mb-1"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-500",children:"No recent activity"})]})]}),(0,t.jsx)("div",{className:"px-4 py-2 border-t border-white/5 text-center",children:(0,t.jsx)("span",{className:"text-[9px] text-gray-600",children:"Click to view full details"})})]})})}function ec({agents:e,liveFeed:a,selectedAgentId:n,onAgentSelect:i,onEdgeClick:x,className:f}){let g=(0,r.useRef)(null),p=(0,r.useRef)(null),k=function(e){let[t,a]=(0,r.useState)({width:0,height:0});return(0,r.useEffect)(()=>{let t=e.current;if(!t)return;let r=new ResizeObserver(e=>{for(let t of e){let{width:e,height:r}=t.contentRect;a({width:e,height:r})}});r.observe(t);let{width:n,height:i}=t.getBoundingClientRect();return a({width:n,height:i}),()=>{r.disconnect()}},[e]),t}(g),{state:w,selectNode:N,hoverNode:j,hoverEdge:_,reheat:M,getNode:A}=function({agents:e,liveFeed:t,dimensions:a,config:n,enabled:i=!0}){let s=(0,r.useRef)(null),l=(0,r.useRef)(new Map),o=(0,r.useRef)(new Map),c=(0,r.useRef)(new Map),[d,u]=(0,r.useState)({nodes:[],edges:[],isSimulating:!1,hoveredNodeId:null,selectedNodeId:null,hoveredEdgeId:null}),x=(0,r.useMemo)(()=>({...O,...n}),[n]),f=(0,r.useMemo)(()=>e.map(e=>e.friendlyName),[e]),g=(0,r.useCallback)(()=>{let r=l.current,n=new Set(e.map(e=>e.id));for(let e of r.keys())n.has(e)||r.delete(e);for(let n of e){let e=r.get(n.id);if(e){e.agent=n;let r=t.find(e=>e.agentName===n.friendlyName);r&&(e.currentTask=r.message.slice(0,100))}else{let e={id:n.id,agent:n,x:a.width/2+(Math.random()-.5)*200,y:a.height/2+(Math.random()-.5)*200};r.set(n.id,e)}}return Array.from(r.values())},[e,t,a.width,a.height]),p=(0,r.useCallback)(()=>{let r=o.current,a=c.current;for(let n of(l.current,t)){let t=e.find(e=>e.friendlyName===n.agentName);if(!t)continue;let i=function(e,t){let r=e.message;for(let e of t)if(r.includes(`to ${e}`)||r.includes(`→ ${e}`)||r.includes(`calling ${e}`)||r.includes(`delegating to ${e}`))return e;return null}(n,f);if(!i)continue;let s=e.find(e=>e.friendlyName===i);if(!s)continue;let l=`${t.id}->${s.id}-${n.id}`;if(r.has(l))continue;let o={id:l,source:t.id,target:s.id,messageType:function(e){let t=e.message.toLowerCase();return t.includes("tool_call")||t.includes("invoking")||t.includes("calling")?"tool_call":t.includes("response")||t.includes("returned")||t.includes("result")?"response":t.includes("delegat")||t.includes("forward")||t.includes("handoff")?"delegation":t.includes("notif")||t.includes("alert")||t.includes("broadcast")?"notification":"unknown"}(n),messageSummary:n.message.slice(0,80),fullMessage:n.message,timestamp:n.timestamp,isActive:!0,strength:.5};r.set(l,o);let c=setTimeout(()=>{let e=r.get(l);e&&(e.isActive=!1,setTimeout(()=>{r.delete(l),a.delete(l),u(e=>({...e,edges:Array.from(r.values())}))},3e4))},3e4);if(a.set(l,c),r.size>50){let e=r.keys().next().value;if(e){r.delete(e);let t=a.get(e);t&&(clearTimeout(t),a.delete(e))}}}return Array.from(r.values())},[t,e,f]);(0,r.useEffect)(()=>{if(!i||0===a.width||0===a.height)return;let e=g(),t=p();if(u(r=>({...r,nodes:e,edges:t})),s.current){let r=s.current;r.nodes(e);let n=r.force("link");n&&n.links(t);let i=r.force("center");i&&(i.x(a.width/2),i.y(a.height/2)),r.alpha(.3).restart()}else{let r=(function(e){let t;var r,a=1,n=.001,i=1-Math.pow(.001,1/300),s=0,l=.6,o=new Map,c=(0,m.timer)(x),d=(0,h.dispatch)("tick","end"),u=(t=1,()=>(t=(1664525*t+0x3c6ef35f)%0x100000000)/0x100000000);function x(){f(),d.call("tick",r),a<n&&(c.stop(),d.call("end",r))}function f(t){var n,c,d=e.length;void 0===t&&(t=1);for(var u=0;u<t;++u)for(a+=(s-a)*i,o.forEach(function(e){e(a)}),n=0;n<d;++n)null==(c=e[n]).fx?c.x+=c.vx*=l:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=l:(c.y=c.fy,c.vy=0);return r}function g(){for(var t,r=0,a=e.length;r<a;++r){if((t=e[r]).index=r,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var n=10*Math.sqrt(.5+r),i=r*v;t.x=n*Math.cos(i),t.y=n*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,u),t}return null==e&&(e=[]),g(),r={tick:f,restart:function(){return c.restart(x),r},stop:function(){return c.stop(),r},nodes:function(t){return arguments.length?(e=t,g(),o.forEach(p),r):e},alpha:function(e){return arguments.length?(a=+e,r):a},alphaMin:function(e){return arguments.length?(n=+e,r):n},alphaDecay:function(e){return arguments.length?(i=+e,r):+i},alphaTarget:function(e){return arguments.length?(s=+e,r):s},velocityDecay:function(e){return arguments.length?(l=1-e,r):1-l},randomSource:function(e){return arguments.length?(u=e,o.forEach(p),r):u},force:function(e,t){return arguments.length>1?(null==t?o.delete(e):o.set(e,p(t)),r):o.get(e)},find:function(t,r,a){var n,i,s,l,o,c=0,d=e.length;for(null==a?a=1/0:a*=a,c=0;c<d;++c)(s=(n=t-(l=e[c]).x)*n+(i=r-l.y)*i)<a&&(o=l,a=s);return o},on:function(e,t){return arguments.length>1?(d.on(e,t),r):d.on(e)}}})(e).force("center",(function(e,t){var r,a=1;function n(){var n,i,s=r.length,l=0,o=0;for(n=0;n<s;++n)l+=(i=r[n]).x,o+=i.y;for(l=(l/s-e)*a,o=(o/s-t)*a,n=0;n<s;++n)i=r[n],i.x-=l,i.y-=o}return null==e&&(e=0),null==t&&(t=0),n.initialize=function(e){r=e},n.x=function(t){return arguments.length?(e=+t,n):e},n.y=function(e){return arguments.length?(t=+e,n):t},n.strength=function(e){return arguments.length?(a=+e,n):a},n})(a.width/2,a.height/2).strength(x.centerStrength)).force("collision",(function(e){var t,r,a,n=1,i=1;function s(){for(var e,s,o,c,d,u,h,x=t.length,f=0;f<i;++f)for(e=0,s=C(t,T,I).visitAfter(l);e<x;++e)h=(u=r[(o=t[e]).index])*u,c=o.x+o.vx,d=o.y+o.vy,s.visit(g);function g(e,t,r,i,s){var l=e.data,x=e.r,f=u+x;if(l){if(l.index>o.index){var g=c-l.x-l.vx,p=d-l.y-l.vy,m=g*g+p*p;m<f*f&&(0===g&&(m+=(g=S(a))*g),0===p&&(m+=(p=S(a))*p),m=(f-(m=Math.sqrt(m)))/m*n,o.vx+=(g*=m)*(f=(x*=x)/(h+x)),o.vy+=(p*=m)*f,l.vx-=g*(f=1-f),l.vy-=p*f)}return}return t>c+f||i<c-f||r>d+f||s<d-f}}function l(e){if(e.data)return e.r=r[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function o(){if(t){var a,n,i=t.length;for(a=0,r=Array(i);a<i;++a)r[(n=t[a]).index]=+e(n,a,t)}}return"function"!=typeof e&&(e=z(null==e?1:+e)),s.initialize=function(e,r){t=e,a=r,o()},s.iterations=function(e){return arguments.length?(i=+e,s):i},s.strength=function(e){return arguments.length?(n=+e,s):n},s.radius=function(t){return arguments.length?(e="function"==typeof t?t:z(+t),o(),s):e},s})().radius(x.collisionRadius).strength(.8)).force("charge",(function(){var e,t,r,a,n,i=z(-30),s=1,l=1/0,o=.81;function c(r){var n,i=e.length,s=C(e,y,b).visitAfter(u);for(a=r,n=0;n<i;++n)t=e[n],s.visit(h)}function d(){if(e){var t,r,a=e.length;for(t=0,n=Array(a);t<a;++t)n[(r=e[t]).index]=+i(r,t,e)}}function u(e){var t,r,a,i,s,l=0,o=0;if(e.length){for(a=i=s=0;s<4;++s)(t=e[s])&&(r=Math.abs(t.value))&&(l+=t.value,o+=r,a+=r*t.x,i+=r*t.y);e.x=a/o,e.y=i/o}else{(t=e).x=t.data.x,t.y=t.data.y;do l+=n[t.data.index];while(t=t.next)}e.value=l}function h(e,i,c,d){if(!e.value)return!0;var u=e.x-t.x,h=e.y-t.y,x=d-i,f=u*u+h*h;if(x*x/o<f)return f<l&&(0===u&&(f+=(u=S(r))*u),0===h&&(f+=(h=S(r))*h),f<s&&(f=Math.sqrt(s*f)),t.vx+=u*e.value*a/f,t.vy+=h*e.value*a/f),!0;if(!e.length&&!(f>=l)){(e.data!==t||e.next)&&(0===u&&(f+=(u=S(r))*u),0===h&&(f+=(h=S(r))*h),f<s&&(f=Math.sqrt(s*f)));do e.data!==t&&(x=n[e.data.index]*a/f,t.vx+=u*x,t.vy+=h*x);while(e=e.next)}}return c.initialize=function(t,a){e=t,r=a,d()},c.strength=function(e){return arguments.length?(i="function"==typeof e?e:z(+e),d(),c):i},c.distanceMin=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.distanceMax=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c.theta=function(e){return arguments.length?(o=e*e,c):Math.sqrt(o)},c})().strength(x.chargeStrength).distanceMax(400)).force("link",(function(e){var t,r,a,n,i,s,l=E,o=function(e){return 1/Math.min(n[e.source.index],n[e.target.index])},c=z(30),d=1;function u(a){for(var n=0,l=e.length;n<d;++n)for(var o,c,u,h,x,f,g,p=0;p<l;++p)c=(o=e[p]).source,f=((f=Math.sqrt((h=(u=o.target).x+u.vx-c.x-c.vx||S(s))*h+(x=u.y+u.vy-c.y-c.vy||S(s))*x))-r[p])/f*a*t[p],h*=f,x*=f,u.vx-=h*(g=i[p]),u.vy-=x*g,c.vx+=h*(g=1-g),c.vy+=x*g}function h(){if(a){var s,o,c=a.length,d=e.length,u=new Map(a.map((e,t)=>[l(e,t,a),e]));for(s=0,n=Array(c);s<d;++s)(o=e[s]).index=s,"object"!=typeof o.source&&(o.source=D(u,o.source)),"object"!=typeof o.target&&(o.target=D(u,o.target)),n[o.source.index]=(n[o.source.index]||0)+1,n[o.target.index]=(n[o.target.index]||0)+1;for(s=0,i=Array(d);s<d;++s)o=e[s],i[s]=n[o.source.index]/(n[o.source.index]+n[o.target.index]);t=Array(d),x(),r=Array(d),f()}}function x(){if(a)for(var r=0,n=e.length;r<n;++r)t[r]=+o(e[r],r,e)}function f(){if(a)for(var t=0,n=e.length;t<n;++t)r[t]=+c(e[t],t,e)}return null==e&&(e=[]),u.initialize=function(e,t){a=e,s=t,h()},u.links=function(t){return arguments.length?(e=t,h(),u):e},u.id=function(e){return arguments.length?(l=e,u):l},u.iterations=function(e){return arguments.length?(d=+e,u):d},u.strength=function(e){return arguments.length?(o="function"==typeof e?e:z(+e),x(),u):o},u.distance=function(e){return arguments.length?(c="function"==typeof e?e:z(+e),f(),u):c},u})(t).id(e=>e.id).distance(x.linkDistance).strength(x.linkStrength)).alphaDecay(x.alphaDecay).velocityDecay(x.velocityDecay).on("tick",()=>{u(e=>({...e,nodes:[...l.current.values()],isSimulating:r.alpha()>.01}))}).on("end",()=>{u(e=>({...e,isSimulating:!1}))});s.current=r}return()=>{for(let e of(s.current&&s.current.stop(),c.current.values()))clearTimeout(e)}},[i,e,t,a,x,g,p]);let k=(0,r.useCallback)(e=>{u(t=>({...t,selectedNodeId:e}))},[]),w=(0,r.useCallback)(e=>{u(t=>({...t,hoveredNodeId:e}))},[]),N=(0,r.useCallback)(e=>{u(t=>({...t,hoveredEdgeId:e}))},[]),j=(0,r.useCallback)(()=>{s.current&&s.current.alpha(1).restart()},[]),_=(0,r.useCallback)(e=>{let t=l.current.get(e);t&&(t.fx=t.x,t.fy=t.y)},[]),M=(0,r.useCallback)(e=>{let t=l.current.get(e);t&&(t.fx=null,t.fy=null,s.current?.alpha(.3).restart())},[]);return{state:d,simulationRef:s,selectNode:k,hoverNode:w,hoverEdge:N,reheat:j,pinNode:_,unpinNode:M,getNode:(0,r.useCallback)(e=>l.current.get(e),[]),getEdge:(0,r.useCallback)(e=>o.current.get(e),[])}}({agents:e,liveFeed:a,dimensions:k,enabled:k.width>0&&k.height>0}),[R,$]=(0,r.useState)(null);(0,r.useEffect)(()=>{void 0!==n&&N(n)},[n,N]);let B=(0,r.useCallback)(e=>{let t=w.selectedNodeId===e.id?null:e.id;N(t),i&&i(t?e.agent:null)},[w.selectedNodeId,N,i]),L=(0,r.useCallback)(e=>{j(e.id);let t=g.current?.getBoundingClientRect(),r={x:(e.x??0)+(t?.left??0),y:(e.y??0)+(t?.top??0)};$({agent:e.agent,currentTask:e.currentTask,pendingDecision:e.pendingDecision,dataContext:e.dataContext,memoryOps:e.memoryOps,position:r})},[j]),q=(0,r.useCallback)(()=>{j(null),$(null)},[j]),F=(0,r.useCallback)(e=>{x&&x(e)},[x]),W=(0,r.useCallback)(e=>{_(e.id)},[_]),H=(0,r.useCallback)(()=>{_(null)},[_]),P=(0,r.useCallback)(()=>{N(null),i&&i(null)},[N,i]),[Z,V]=(0,r.useState)(1),G=(0,r.useCallback)(()=>{V(e=>Math.min(e+.25,2))},[]),U=(0,r.useCallback)(()=>{V(e=>Math.max(e-.25,.5))},[]),Y=(0,r.useCallback)(()=>{V(1)},[]),X=g.current?.getBoundingClientRect();return(0,t.jsxs)("div",{ref:g,className:(0,s.cn)("relative w-full h-full overflow-hidden bg-[#050505]",f),children:[(0,t.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-radial from-cyan-900/15 via-transparent to-transparent"}),(0,t.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:`
              radial-gradient(ellipse 70% 50% at 25% 35%, rgba(34, 211, 238, 0.08) 0%, transparent 60%),
              radial-gradient(ellipse 50% 70% at 75% 65%, rgba(168, 85, 247, 0.08) 0%, transparent 60%),
              radial-gradient(ellipse 60% 40% at 50% 80%, rgba(244, 63, 94, 0.06) 0%, transparent 50%)
            `}}),(0,t.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.04) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.04) 1px, transparent 1px)
            `,backgroundSize:"60px 60px"}})]}),(0,t.jsx)("svg",{ref:p,width:k.width,height:k.height,className:"absolute inset-0",onClick:P,children:(0,t.jsxs)("g",{transform:`translate(${k.width*(1-Z)/2}, ${k.height*(1-Z)/2}) scale(${Z})`,children:[(0,t.jsx)("g",{className:"edges-layer",children:w.edges.map(e=>(0,t.jsx)(J,{edge:e,isHovered:w.hoveredEdgeId===e.id,onClick:F,onHoverEnter:W,onHoverLeave:H},e.id))}),(0,t.jsx)("g",{className:"nodes-layer",children:w.nodes.map(e=>(0,t.jsx)(K,{node:e,isSelected:w.selectedNodeId===e.id,isHovered:w.hoveredNodeId===e.id,onClick:B,onHoverEnter:L,onHoverLeave:q},e.id))})]})}),(0,t.jsx)(eo,{data:R,containerBounds:X}),(0,t.jsxs)("div",{className:"absolute bottom-4 right-4 flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-black/60 border border-white/10 backdrop-blur-sm",children:[(0,t.jsx)("button",{onClick:U,className:"p-1.5 rounded hover:bg-white/10 transition-colors",title:"Zoom Out",children:(0,t.jsx)(u.ZoomOut,{size:14,className:"text-gray-400"})}),(0,t.jsxs)("span",{className:"text-[10px] text-gray-500 font-mono w-10 text-center",children:[Math.round(100*Z),"%"]}),(0,t.jsx)("button",{onClick:G,className:"p-1.5 rounded hover:bg-white/10 transition-colors",title:"Zoom In",children:(0,t.jsx)(d.ZoomIn,{size:14,className:"text-gray-400"})})]}),(0,t.jsx)("button",{onClick:M,className:(0,s.cn)("p-2 rounded-lg bg-black/60 border border-white/10 backdrop-blur-sm","hover:bg-white/10 transition-colors",w.isSimulating&&"animate-spin"),title:"Recalculate Layout",children:(0,t.jsx)(o.RefreshCw,{size:14,className:"text-gray-400"})}),(0,t.jsx)("button",{onClick:Y,className:"p-2 rounded-lg bg-black/60 border border-white/10 backdrop-blur-sm hover:bg-white/10 transition-colors",title:"Reset View",children:(0,t.jsx)(c.Maximize2,{size:14,className:"text-gray-400"})})]}),w.isSimulating&&(0,t.jsxs)("div",{className:"absolute top-4 left-4 flex items-center gap-2 px-3 py-1.5 rounded-full bg-cyan-900/20 border border-cyan-500/30",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-cyan-400 animate-pulse"}),(0,t.jsx)("span",{className:"text-[10px] text-cyan-400 font-medium uppercase tracking-wider",children:"Calculating"})]}),0===w.nodes.length&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,t.jsxs)(l.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[(0,t.jsx)("div",{className:"w-24 h-24 rounded-full border border-white/10 flex items-center justify-center mx-auto mb-4 bg-white/5",children:(0,t.jsx)(o.RefreshCw,{size:32,className:"text-gray-600 animate-pulse"})}),(0,t.jsx)("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-widest",children:"Awaiting Agents"}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Agent nodes will appear when connected"})]})})]})}var ed=e.i(98276),eu=e.i(31016);let eh={trabalhando:{label:"Working",color:"text-cyan-400",bgColor:"bg-cyan-500/20",Icon:ee.Activity},esperando_voce:{label:"Waiting",color:"text-amber-400",bgColor:"bg-amber-500/20",Icon:en.Clock},disponivel:{label:"Available",color:"text-emerald-400",bgColor:"bg-emerald-500/20",Icon:eu.CheckCircle},offline:{label:"Offline",color:"text-gray-400",bgColor:"bg-gray-500/20",Icon:ed.WifiOff},erro:{label:"Error",color:"text-rose-400",bgColor:"bg-rose-500/20",Icon:et.AlertCircle}};function ex({agents:e,isConnected:a,isFetching:n=!1,className:i}){let o=(0,r.useMemo)(()=>{let t={trabalhando:0,esperando_voce:0,disponivel:0,offline:0,erro:0};for(let r of e)r.status in t&&t[r.status]++;return t},[e]),c=(0,r.useMemo)(()=>Object.entries(o).filter(([e,t])=>t>0).sort((e,t)=>{let r=["trabalhando","esperando_voce","erro","disponivel","offline"];return r.indexOf(e[0])-r.indexOf(t[0])}),[o]);return(0,t.jsxs)(l.motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:(0,s.cn)("flex items-center gap-3 px-4 py-2 rounded-xl","bg-black/60 border border-white/10 backdrop-blur-xl",i),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(q.Bot,{size:16,className:"text-gray-400"}),(0,t.jsx)("span",{className:"text-xs font-bold text-gray-300",children:e.length})]}),(0,t.jsx)("div",{className:"w-px h-4 bg-white/10"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[c.map(([e,r])=>{let a=eh[e],n=a.Icon;return(0,t.jsxs)("div",{className:(0,s.cn)("flex items-center gap-1 px-2 py-0.5 rounded-full",a.bgColor),title:`${r} ${a.label}`,children:[(0,t.jsx)(n,{size:12,className:a.color}),(0,t.jsx)("span",{className:(0,s.cn)("text-[10px] font-bold",a.color),children:r})]},e)}),0===c.length&&(0,t.jsx)("span",{className:"text-[10px] text-gray-500",children:"No agents"})]}),(0,t.jsx)("div",{className:"w-px h-4 bg-white/10"}),(0,t.jsx)("div",{className:(0,s.cn)("flex items-center gap-1.5 px-2 py-0.5 rounded-full",a?"bg-emerald-500/20":"bg-rose-500/20"),children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,t.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),(0,t.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),(0,t.jsx)("span",{className:"text-[10px] font-medium text-emerald-400 uppercase tracking-wide",children:"Live"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ed.WifiOff,{size:10,className:"text-rose-400"}),(0,t.jsx)("span",{className:"text-[10px] font-medium text-rose-400 uppercase tracking-wide",children:"Offline"})]})}),n&&(0,t.jsx)("div",{className:"flex items-center gap-1 text-cyan-400",children:(0,t.jsx)(ee.Activity,{size:12,className:"animate-spin"})})]})}let ef=(0,W.default)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);var eg=e.i(23714),ep=e.i(86914),em=e.i(50601);let ey=(0,W.default)("octagon-alert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]),eb=(0,W.default)("fingerprint-pattern",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);var ev=e.i(54267);let ek=(0,r.memo)(function({decision:e,onDecision:a,isFocused:n=!1}){let i="critical"===e.priority||"high"===e.priority,o=(0,r.useCallback)(t=>{a(e.id,t)},[e.id,a]);return(0,t.jsxs)(l.motion.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:(0,s.cn)("relative overflow-hidden rounded-xl border p-5",i?"bg-rose-900/10 border-rose-500/40 shadow-[0_0_30px_rgba(244,63,94,0.15)]":"bg-white/5 border-white/10",n&&"ring-2 ring-white/30"),children:[i&&(0,t.jsx)("div",{className:"absolute inset-0 border-2 border-rose-500/20 rounded-xl animate-pulse pointer-events-none"}),(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4 relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[i?(0,t.jsx)(ey,{className:"w-5 h-5 text-rose-500 animate-pulse"}):(0,t.jsx)(eb,{className:"w-5 h-5 text-indigo-400"}),(0,t.jsx)("span",{className:(0,s.cn)("text-xs font-bold uppercase tracking-widest",i?"text-rose-400":"text-indigo-300"),children:i?"Critical Intervention":"Authorization Required"})]}),(0,t.jsxs)("span",{className:"text-[10px] text-gray-500 font-mono cursor-default",title:e.id,children:["ID: ",e.id.slice(0,6)]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-200 font-medium mb-6 relative z-10 leading-relaxed",children:e.question}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3 relative z-10",children:e.options.map(e=>{let r,a,n,{className:i,Icon:c}=(a=(r=e.action.toLowerCase()).includes("approve")||r.includes("yes")||r.includes("confirm")||r.includes("criar")||r.includes("aceitar"),n=r.includes("reject")||r.includes("no")||r.includes("cancel")||r.includes("ignorar"),a?{className:"bg-emerald-500/20 border-emerald-500/30 text-emerald-300 hover:bg-emerald-500/30 hover:shadow-[0_0_15px_rgba(16,185,129,0.3)]",Icon:ev.Check}:n?{className:"bg-rose-500/20 border-rose-500/30 text-rose-300 hover:bg-rose-500/30 hover:shadow-[0_0_15px_rgba(244,63,94,0.3)]",Icon:em.X}:{className:"bg-white/5 border-white/10 text-gray-300 hover:bg-white/10",Icon:ep.ChevronRight});return(0,t.jsxs)(l.motion.button,{onClick:()=>o(e.action),whileHover:{scale:1.02,translateY:-1},whileTap:{scale:.98,translateY:1},className:(0,s.cn)("group relative px-4 py-3 rounded-lg flex items-center justify-center gap-2","transition-all duration-200 border overflow-hidden",i),children:[(0,t.jsx)(c,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-xs font-bold uppercase tracking-wide",children:e.label}),(0,t.jsx)("div",{className:"absolute inset-0 -translate-x-full group-hover:animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/10 to-transparent z-0"})]},e.action)})}),(0,t.jsx)("div",{className:"mt-4 text-center",children:(0,t.jsxs)("span",{className:"text-[9px] text-gray-600",children:["Press ",(0,t.jsx)("kbd",{className:"px-1 py-0.5 rounded bg-white/10 font-mono",children:"Enter"})," to approve"," · ",(0,t.jsx)("kbd",{className:"px-1 py-0.5 rounded bg-white/10 font-mono",children:"Esc"})," to reject"]})})]})});function ew({decisions:e,onDecision:a,onDismiss:n,className:i}){let[o,c]=(0,r.useState)(0),[d,u]=(0,r.useState)(!1),h=(0,r.useRef)(null);(0,r.useEffect)(()=>{o>=e.length&&c(Math.max(0,e.length-1))},[e.length,o]);let x=(0,r.useCallback)(()=>{c(e=>Math.max(0,e-1))},[]),f=(0,r.useCallback)(()=>{c(t=>Math.min(e.length-1,t+1))},[e.length]);if((0,r.useEffect)(()=>{if(0===e.length||d)return;let t=t=>{let r=e[o];if(r)switch(t.key){case"ArrowLeft":t.preventDefault(),x();break;case"ArrowRight":t.preventDefault(),f();break;case"Enter":t.preventDefault();let i=r.options.find(e=>{let t=e.action.toLowerCase();return t.includes("approve")||t.includes("yes")||t.includes("confirm")||t.includes("criar")});i&&a(r.id,i.action);break;case"Escape":t.preventDefault();let s=r.options.find(e=>{let t=e.action.toLowerCase();return t.includes("reject")||t.includes("no")||t.includes("cancel")||t.includes("ignorar")});s?a(r.id,s.action):n&&n()}};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e,o,d,a,n,x,f]),(0,r.useEffect)(()=>{e.length>0&&!d&&h.current&&h.current.focus()},[e.length,d]),0===e.length)return null;let g=e[o],p=e.length>1;return(0,t.jsx)(Q.AnimatePresence,{children:d?(0,t.jsxs)(l.motion.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:()=>u(!1),className:(0,s.cn)("fixed bottom-8 left-1/2 -translate-x-1/2 z-50","flex items-center gap-2 px-4 py-2 rounded-full","bg-rose-500/20 border border-rose-500/40 backdrop-blur-xl","hover:bg-rose-500/30 transition-colors cursor-pointer","animate-pulse"),children:[(0,t.jsx)(ef,{className:"w-4 h-4 text-rose-400"}),(0,t.jsxs)("span",{className:"text-xs font-bold text-rose-300",children:[e.length," Pending"]})]}):(0,t.jsxs)(l.motion.div,{ref:h,initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:{type:"spring",damping:25,stiffness:300},className:(0,s.cn)("fixed bottom-8 left-1/2 -translate-x-1/2 z-50","w-full max-w-md",i),tabIndex:-1,children:[(0,t.jsx)("div",{className:"absolute -inset-4 bg-gradient-to-t from-rose-500/10 to-transparent rounded-3xl blur-xl pointer-events-none"}),(0,t.jsxs)("div",{className:"relative rounded-2xl border border-white/10 backdrop-blur-2xl bg-black/80 shadow-2xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-white/5 flex items-center justify-between bg-black/40",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ef,{className:"w-4 h-4 text-rose-400 animate-pulse"}),(0,t.jsx)("span",{className:"text-xs font-bold tracking-widest text-rose-100/70 uppercase",children:"Intervention Required"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[p&&(0,t.jsxs)("span",{className:"text-[10px] text-gray-500 font-mono",children:[o+1," / ",e.length]}),(0,t.jsx)("button",{onClick:()=>u(!0),className:"p-1 rounded hover:bg-white/10 transition-colors",title:"Minimize",children:(0,t.jsx)(em.X,{size:14,className:"text-gray-400"})})]})]}),(0,t.jsx)("div",{className:"p-4",children:g&&(0,t.jsx)(ek,{decision:g,onDecision:a,isFocused:!0})}),p&&(0,t.jsxs)("div",{className:"px-4 pb-4 flex items-center justify-between",children:[(0,t.jsxs)("button",{onClick:x,disabled:0===o,className:(0,s.cn)("flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs","border border-white/10 transition-all",0===o?"opacity-30 cursor-not-allowed":"hover:bg-white/10"),children:[(0,t.jsx)(eg.ChevronLeft,{size:14}),"Previous"]}),(0,t.jsx)("div",{className:"flex items-center gap-1.5",children:e.map((e,r)=>(0,t.jsx)("button",{onClick:()=>c(r),className:(0,s.cn)("w-2 h-2 rounded-full transition-all",r===o?"bg-rose-400 w-4":"bg-white/20 hover:bg-white/40")},r))}),(0,t.jsxs)("button",{onClick:f,disabled:o===e.length-1,className:(0,s.cn)("flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs","border border-white/10 transition-all",o===e.length-1?"opacity-30 cursor-not-allowed":"hover:bg-white/10"),children:["Next",(0,t.jsx)(ep.ChevronRight,{size:14})]})]})]})]})})}function eN({agents:e,liveFeed:a,pendingDecisions:n,isRealTime:i,isFetching:l=!1,onDecision:o,onAgentSelect:c,className:d}){let[u,h]=(0,r.useState)(null),x=(0,r.useCallback)(e=>{h(e),c&&c(e)},[c]),f=(0,r.useCallback)(e=>{console.log("[AgentRoomShell] Edge clicked:",e.id,e.messageSummary)},[]);return(0,t.jsxs)("div",{className:(0,s.cn)("fixed inset-0 bg-[#050505] overflow-hidden",d),children:[(0,t.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,t.jsx)("div",{className:"absolute inset-0",style:{background:`
              radial-gradient(ellipse 80% 50% at 20% 30%, rgba(34, 211, 238, 0.12) 0%, transparent 50%),
              radial-gradient(ellipse 60% 80% at 80% 70%, rgba(168, 85, 247, 0.10) 0%, transparent 50%),
              radial-gradient(ellipse 100% 60% at 50% 90%, rgba(244, 63, 94, 0.08) 0%, transparent 40%)
            `}}),(0,t.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.06) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.06) 1px, transparent 1px)
            `,backgroundSize:"60px 60px"}}),(0,t.jsx)("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E\")"}}),(0,t.jsx)("div",{className:"absolute inset-0",style:{background:"radial-gradient(ellipse at center, transparent 40%, rgba(0,0,0,0.4) 100%)"}})]}),(0,t.jsx)(ec,{agents:e,liveFeed:a,selectedAgentId:u?.id,onAgentSelect:x,onEdgeClick:f,className:"absolute inset-0"}),(0,t.jsx)("div",{className:"absolute top-4 left-4 z-40",children:(0,t.jsx)(ex,{agents:e,isConnected:i,isFetching:l})}),(0,t.jsx)("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-40",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 rounded-xl bg-black/40 border border-white/5 backdrop-blur-xl",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-cyan-400 animate-pulse"}),(0,t.jsx)("h1",{className:"text-sm font-bold tracking-[0.2em] text-white/60 uppercase",children:"Neural Command Center"})]})}),(0,t.jsx)(ew,{decisions:n,onDecision:o}),u&&(0,t.jsx)("div",{className:"absolute top-20 right-4 z-40 w-80",children:(0,t.jsxs)("div",{className:"rounded-xl border border-white/10 bg-black/80 backdrop-blur-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-white",children:u.friendlyName}),(0,t.jsx)("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-white transition-colors",children:"×"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:u.description}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("span",{className:(0,s.cn)("px-2 py-0.5 rounded text-[10px] font-bold uppercase","trabalhando"===u.status&&"bg-cyan-500/20 text-cyan-400","esperando_voce"===u.status&&"bg-amber-500/20 text-amber-400","disponivel"===u.status&&"bg-emerald-500/20 text-emerald-400","offline"===u.status&&"bg-gray-500/20 text-gray-400","erro"===u.status&&"bg-rose-500/20 text-rose-400"),children:u.statusLabel||u.status})})]})})]})}ek.displayName="DecisionCard";var ej=e.i(96493),eC=e.i(39257);(0,W.default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var e_=e.i(86235);e.i(4370),q.Bot,ee.Activity,ej.Cpu,U.Shield,P.Database,eC.Sparkles,G.Zap,e_.Radio,(0,W.default)("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]);var eM=e.i(21172),eA=e.i(55156);eA.MessageSquare,eu.CheckCircle,eM.AlertTriangle,eM.AlertTriangle,e.i(23750),e.i(67470);let ez=(0,W.default)("hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]);var eS=e.i(16024);(0,W.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);var eT=e.i(63745),eI=e.i(9020),eE=e.i(67477),eD=e.i(12452),eR=e.i(27700),e$=e.i(34315),eB=e.i(23145),eL=e.i(48162);let eO=(0,W.default)("file-image",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);q.Bot,er.FileText,eT.Upload,U.Shield,P.Database,F.Brain,eI.Package,eE.Scale,eD.Send,eR.Truck,e$.Bell,eA.MessageSquare,eB.Eye,eS.Search,eL.RotateCcw;e.i(60840),e.i(6975);"undefined"==typeof window||"onscrollend"in window;"undefined"!=typeof document?r.useLayoutEffect:r.useEffect;var eq=e.i(67881),eF=e.i(74515),eW=e.i(86094);(0,W.default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);eW.Info,eu.CheckCircle,eM.AlertTriangle,et.AlertCircle,ee.Activity,F.Brain,G.Zap,eF.BookOpen,ee.Activity;var eH=e.i(53668);let eP={critical:{bg:"bg-red-500/10",text:"text-red-400",border:"border-red-500/30",badge:"bg-red-500/20 text-red-400",glow:"shadow-[0_0_15px_rgba(239,68,68,0.3)]"},high:{bg:"bg-orange-500/10",text:"text-orange-400",border:"border-orange-500/30",badge:"bg-orange-500/20 text-orange-400",glow:"shadow-[0_0_15px_rgba(249,115,22,0.3)]"},normal:{bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500/20",badge:"bg-blue-500/20 text-blue-400",glow:""},low:{bg:"bg-neutral-500/10",text:"text-neutral-400",border:"border-white/10",badge:"bg-neutral-500/20 text-neutral-400",glow:""}};e.i(9958),e.i(54321);let eZ={info:{icon:eW.Info,color:"text-blue-400",bgColor:"bg-blue-500/10"},success:{icon:eu.CheckCircle,color:"text-green-400",bgColor:"bg-green-500/10"},warning:{icon:eM.AlertTriangle,color:"text-yellow-400",bgColor:"bg-yellow-500/10"},error:{icon:et.AlertCircle,color:"text-red-400",bgColor:"bg-red-500/10"},unknown:{icon:ee.Activity,color:"text-neutral-400",bgColor:"bg-neutral-500/10"}},eV={THINKING:F.Brain,ACTION:G.Zap,DECISION:ez,LEARNING:eF.BookOpen,AGENT_ACTIVITY:ee.Activity};function eG({event:e,className:t}){let a;return r.default.createElement((a=eV[e.eventType])||eZ[e.type]?.icon||ee.Activity,{className:t})}var eU=e.i(10307);eW.Info,eu.CheckCircle,eM.AlertTriangle,et.AlertCircle,ee.Activity,F.Brain,G.Zap,eF.BookOpen,ee.Activity,G.Zap,er.FileText;eM.AlertTriangle,eM.AlertTriangle,ea.HelpCircle,en.Clock;function eY(){let{agents:e,liveFeed:s,pendingDecisions:l,refetch:o,isFetching:c,isRealTime:d}=(0,n.useAgentRoom)(),{toast:u}=(0,a.useToast)(),h=(0,r.useCallback)(async(e,t)=>{let r=["approve","confirm","yes","criar","accept","ok"].some(e=>t.toLowerCase().includes(e));try{if(r){let r=await (0,i.approveTask)({task_id:e,notes:`Approved via Neural Command: ${t}`});u({title:"Authorization Granted",description:r.data.action_executed?"Access codes validated. Action executed.":"Protocol authorized.",variant:"default",className:"bg-emerald-900/90 border-emerald-500/50 text-emerald-100"})}else await (0,i.rejectTask)({task_id:e,reason:`Rejected via Neural Command: ${t}`}),u({title:"Authorization Denied",description:"Protocol execution aborted.",variant:"default",className:"bg-rose-900/90 border-rose-500/50 text-rose-100"});o()}catch(e){console.error("[AgentRoomShell] Decision sync failed:",e),u({title:"Transmission Error",description:"Uplink command failed. Retrying...",variant:"destructive"})}},[o,u]);return(0,t.jsx)(eN,{agents:e,liveFeed:s,pendingDecisions:l,isRealTime:d,isFetching:c,onDecision:h})}q.Bot,er.FileText,eT.Upload,U.Shield,P.Database,F.Brain,eI.Package,eE.Scale,eD.Send,eR.Truck,e$.Bell,eA.MessageSquare,eB.Eye,eS.Search,eL.RotateCcw,e.s(["default",()=>eY],63639)}]);