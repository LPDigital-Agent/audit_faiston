(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,66974,e=>{"use strict";let t=(0,e.i(98631).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],66974)},86914,e=>{"use strict";let t=(0,e.i(98631).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],86914)},54267,e=>{"use strict";let t=(0,e.i(98631).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],54267)},53668,e=>{"use strict";let t=(0,e.i(98631).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],53668)},50154,e=>{"use strict";let t=(0,e.i(98631).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],50154)},55156,e=>{"use strict";let t=(0,e.i(98631).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);e.s(["MessageSquare",()=>t],55156)},13862,e=>{"use strict";let t=(0,e.i(98631).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],13862)},9958,e=>{"use strict";let t=(0,e.i(98631).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["Filter",()=>t],9958)},5300,e=>{"use strict";let t=(0,e.i(98631).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>t],5300)},72200,e=>{"use strict";let t=(0,e.i(98631).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],72200)},10307,e=>{"use strict";let t=(0,e.i(98631).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>t],10307)},72115,e=>{"use strict";let t=(0,e.i(98631).default)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]);e.s(["Wrench",()=>t],72115)},56625,e=>{"use strict";let t=(0,e.i(98631).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],56625)},70856,e=>{"use strict";let t=(0,e.i(98631).default)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]);e.s(["Brain",()=>t],70856)},45680,e=>{"use strict";let t=(0,e.i(98631).default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);e.s(["Database",()=>t],45680)},23356,e=>{"use strict";let t=(0,e.i(98631).default)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["UserCheck",()=>t],23356)},55448,e=>{"use strict";let t=(0,e.i(98631).default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Ban",()=>t],55448)},90640,e=>{"use strict";var t=e.i(49973),a=e.i(47163),s=e.i(29126),i=e.i(53668),n=e.i(79278),r=e.i(21172),l=e.i(13862),o=e.i(55448),c=e.i(23356);let d={running:{label:"Running",color:"text-cyan-400",bgColor:"bg-cyan-400/15",Icon:n.Loader2},completed:{label:"Completed",color:"text-green-400",bgColor:"bg-green-400/15",Icon:s.CheckCircle2},failed:{label:"Failed",color:"text-red-400",bgColor:"bg-red-400/15",Icon:i.XCircle},cancelled:{label:"Cancelled",color:"text-gray-400",bgColor:"bg-gray-400/15",Icon:o.Ban},waiting_hil:{label:"Awaiting Input",color:"text-amber-400",bgColor:"bg-amber-400/15",Icon:c.UserCheck}},m={active:{label:"Active",color:"text-red-400",bgColor:"bg-red-400/15",Icon:r.AlertTriangle},acknowledged:{label:"Acknowledged",color:"text-amber-400",bgColor:"bg-amber-400/15",Icon:l.Clock},resolved:{label:"Resolved",color:"text-green-400",bgColor:"bg-green-400/15",Icon:s.CheckCircle2},muted:{label:"Muted",color:"text-gray-400",bgColor:"bg-gray-400/15",Icon:o.Ban}},x={critical:{label:"Critical",color:"text-red-400",bgColor:"bg-red-400/15",Icon:r.AlertTriangle},warning:{label:"Warning",color:"text-amber-400",bgColor:"bg-amber-400/15",Icon:r.AlertTriangle},info:{label:"Info",color:"text-blue-400",bgColor:"bg-blue-400/15",Icon:r.AlertTriangle}},h={sm:"px-2 py-0.5 text-xs gap-1",md:"px-2.5 py-1 text-sm gap-1.5"},u={sm:"w-3 h-3",md:"w-4 h-4"};function g({size:e="sm",showIcon:s=!0,animate:i=!1,className:n,...r}){let{label:l,color:o,bgColor:c,Icon:g}="run"===r.variant?d[r.status]:"alert"===r.variant?m[r.status]:x[r.status],p=i&&("run"===r.variant&&"running"===r.status||"alert"===r.variant&&"active"===r.status);return(0,t.jsxs)("span",{className:(0,a.cn)("inline-flex items-center rounded-full font-medium",h[e],c,o,n),children:[s&&(0,t.jsx)(g,{className:(0,a.cn)(u[e],p&&"animate-spin")}),(0,t.jsx)("span",{children:l})]})}e.s(["StatusBadge",()=>g])},27360,e=>{"use strict";var t=e.i(49973),a=e.i(18939),s=e.i(69742),i=e.i(13622),n=e.i(16024),r=e.i(9958),l=e.i(66974),o=e.i(50601),c=e.i(29126),d=e.i(53668),m=e.i(79278),x=e.i(23356),h=e.i(13862),u=e.i(47163),g=e.i(53557),p=e.i(96493),f=e.i(50154),w=e.i(86914),b=e.i(5300),y=e.i(56625),v=e.i(90640);function N(e){return e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}let j=(0,a.memo)(function({run:e,isSelected:a,onSelect:i}){var n;let r="running"===e.status||"waiting_hil"===e.status,l="failed"===e.status,o="waiting_hil"===e.status;return(0,t.jsxs)(g.GlassPanel,{variant:a?"elevated":"interactive",padding:"none",isActive:a,glowColor:a?o?"amber":l?"rose":r?"cyan":"none":"none",className:(0,u.cn)("cursor-pointer transition-all duration-200",a&&"ring-1 ring-white/20"),onClick:i,children:[(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-3",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(v.StatusBadge,{variant:"run",status:e.status,animate:r}),(0,t.jsx)("span",{className:"text-xs text-white/40 font-mono",children:e.id})]}),(0,t.jsx)("p",{className:"text-sm text-white/90 line-clamp-2",children:e.request})]}),(0,t.jsx)(s.motion.div,{animate:{rotate:90*!!a},transition:{duration:.2},children:(0,t.jsx)(w.ChevronRight,{className:"w-5 h-5 text-white/40"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-3",children:[(0,t.jsx)(p.Cpu,{className:"w-3.5 h-3.5 text-white/40 flex-shrink-0"}),(0,t.jsx)("div",{className:"flex items-center gap-1 flex-wrap",children:e.agentChain.map((a,s)=>(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-xs text-white/60",children:a}),s<e.agentChain.length-1&&(0,t.jsx)("span",{className:"text-white/30",children:"→"})]},a))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-white/50",children:[(0,t.jsx)(h.Clock,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{children:function(e){if(!e)return"—";if(e<1e3)return`${e}ms`;if(e<6e4)return`${(e/1e3).toFixed(1)}s`;let t=Math.floor(e/6e4),a=Math.floor(e%6e4/1e3);return`${t}m ${a}s`}(e.duration)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-white/50",children:[(0,t.jsx)(b.Zap,{className:"w-3.5 h-3.5"}),(0,t.jsxs)("span",{children:[e.totalTokens.toLocaleString()," tokens"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-white/50",children:[(0,t.jsx)(f.DollarSign,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{children:(n=e.totalCost)<.01?`$${n.toFixed(4)}`:`$${n.toFixed(2)}`})]}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)("span",{className:"text-white/40",children:function(e){let t=Math.floor((new Date().getTime()-e.getTime())/6e4);if(t<1)return"Just now";if(t<60)return`${t}m ago`;let a=Math.floor(t/60);if(a<24)return`${a}h ago`;let s=Math.floor(a/24);return`${s}d ago`}(e.startTime)})]}),l&&e.error&&(0,t.jsx)("div",{className:"mt-3 p-2 rounded-lg bg-red-500/10 border border-red-500/20",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(y.AlertCircle,{className:"w-4 h-4 text-red-400 flex-shrink-0 mt-0.5"}),(0,t.jsx)("p",{className:"text-xs text-red-300 line-clamp-2",children:e.error})]})}),o&&(0,t.jsx)("div",{className:"mt-3 p-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(x.UserCheck,{className:"w-4 h-4 text-amber-400 flex-shrink-0"}),(0,t.jsxs)("p",{className:"text-xs text-amber-300",children:["Waiting for human approval • ",e.steps.filter(e=>"pending"===e.status).length," pending decision(s)"]})]})})]}),a&&(0,t.jsx)(s.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-white/[0.08] px-4 py-2 bg-white/[0.02]",children:(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,t.jsxs)("span",{className:"text-white/50",children:["Started: ",N(e.startTime)]}),e.endTime&&(0,t.jsxs)("span",{className:"text-white/50",children:["Ended: ",N(e.endTime)]}),(0,t.jsxs)("span",{className:"text-white/60 font-medium",children:[e.steps.length," steps"]})]})})]})});var T=e.i(70856),k=e.i(72115),C=e.i(55156),D=e.i(45680),A=e.i(72200),O=e.i(98631);let S=(0,O.default)("arrow-down-to-line",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]),I=(0,O.default)("arrow-up-from-line",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);var M=e.i(10307),E=e.i(54267);function _(e){if(!e)return"";try{let t=JSON.parse(e);return JSON.stringify(t,null,2)}catch{return e}}function q({title:e,content:s,icon:i,iconColor:n,isError:r}){let[l,o]=(0,a.useState)(!1),c=async e=>{e.stopPropagation(),await navigator.clipboard.writeText(s),o(!0),setTimeout(()=>o(!1),2e3)};return s?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i,{className:(0,u.cn)("w-4 h-4",n)}),(0,t.jsx)("span",{className:"text-xs font-medium text-white/70",children:e})]}),(0,t.jsx)("button",{onClick:c,className:(0,u.cn)("flex items-center gap-1 px-2 py-1 rounded text-xs","text-white/40 hover:text-white/60 hover:bg-white/5","transition-colors"),children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.Check,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"Copied"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M.Copy,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"Copy"})]})})]}),(0,t.jsx)("pre",{className:(0,u.cn)("p-3 rounded-lg overflow-x-auto text-xs font-mono","bg-black/40 border border-white/5",r&&"border-red-500/20 bg-red-500/5"),children:(0,t.jsx)("code",{className:(0,u.cn)("text-white/70",r&&"text-red-300"),children:s})})]}):null}function X({label:e,value:a}){return(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,t.jsx)("span",{className:"text-white/40",children:e}),(0,t.jsx)("span",{className:"text-white/70 font-mono",children:a})]})}let L=(0,a.memo)(function({step:e,className:a}){let s=_(e.input),i=_(e.output),n=void 0!==e.tokens||void 0!==e.cost||void 0!==e.duration;return(0,t.jsxs)(g.GlassPanel,{variant:"subtle",padding:"md",className:(0,u.cn)("space-y-4",a),children:[n&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-white/50 uppercase tracking-wider",children:"Metadata"}),(0,t.jsxs)("div",{className:"space-y-1.5 p-3 rounded-lg bg-black/30",children:[void 0!==e.duration&&(0,t.jsx)(X,{label:"Duration",value:`${e.duration.toLocaleString()}ms`}),void 0!==e.tokens&&(0,t.jsx)(X,{label:"Tokens",value:e.tokens.toLocaleString()}),void 0!==e.cost&&(0,t.jsx)(X,{label:"Cost",value:`$${e.cost.toFixed(4)}`}),(0,t.jsx)(X,{label:"Start Time",value:e.startTime.toLocaleTimeString()}),e.endTime&&(0,t.jsx)(X,{label:"End Time",value:e.endTime.toLocaleTimeString()})]})]}),s&&(0,t.jsx)(q,{title:"Input",content:s,icon:S,iconColor:"text-cyan-400"}),i&&(0,t.jsx)(q,{title:"Output",content:i,icon:I,iconColor:"text-green-400"}),e.error&&(0,t.jsx)(q,{title:"Error",content:e.error,icon:y.AlertCircle,iconColor:"text-red-400",isError:!0}),!s&&!i&&!e.error&&!n&&(0,t.jsx)("p",{className:"text-xs text-white/40 text-center py-4",children:"No additional details available for this step"})]})}),R={llm_call:{icon:T.Brain,color:"text-violet-400",bgColor:"bg-violet-400/15",label:"LLM Call"},tool_call:{icon:k.Wrench,color:"text-cyan-400",bgColor:"bg-cyan-400/15",label:"Tool Call"},a2a_call:{icon:C.MessageSquare,color:"text-rose-400",bgColor:"bg-rose-400/15",label:"A2A Call"},memory_op:{icon:D.Database,color:"text-emerald-400",bgColor:"bg-emerald-400/15",label:"Memory Op"},decision:{icon:x.UserCheck,color:"text-amber-400",bgColor:"bg-amber-400/15",label:"Decision"},error:{icon:y.AlertCircle,color:"text-red-400",bgColor:"bg-red-400/15",label:"Error"}},P={pending:{icon:h.Clock,color:"text-amber-400"},running:{icon:m.Loader2,color:"text-cyan-400"},completed:{icon:c.CheckCircle2,color:"text-green-400"},failed:{icon:d.XCircle,color:"text-red-400"}};function $({step:e,isLast:a,isExpanded:n,onToggle:r,maxDuration:l}){let o=R[e.type],c=P[e.status],d=o.icon,m=c.icon,x="running"===e.status,h="failed"===e.status,g="pending"===e.status,p=e.duration?Math.min(e.duration/l*100,100):0;return(0,t.jsxs)("div",{className:"relative",children:[!a&&(0,t.jsx)("div",{className:(0,u.cn)("absolute left-[19px] top-10 w-0.5 h-[calc(100%-2rem)]",h||g?"bg-white/10":"bg-white/20")}),(0,t.jsxs)("div",{className:(0,u.cn)("relative flex gap-3 p-3 rounded-lg cursor-pointer transition-all duration-200","hover:bg-white/[0.03]",n&&"bg-white/[0.05]"),onClick:r,children:[(0,t.jsxs)("div",{className:(0,u.cn)("relative flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center",o.bgColor,x&&"animate-pulse"),children:[(0,t.jsx)(d,{className:(0,u.cn)("w-5 h-5",o.color)}),(0,t.jsx)("div",{className:(0,u.cn)("absolute -bottom-0.5 -right-0.5 w-4 h-4 rounded-full flex items-center justify-center","bg-gray-900 border border-white/10"),children:(0,t.jsx)(m,{className:(0,u.cn)("w-3 h-3",c.color,x&&"animate-spin")})})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:(0,u.cn)("text-xs font-medium",o.color),children:o.label}),(0,t.jsx)("span",{className:"text-xs text-white/40",children:"•"}),(0,t.jsx)("span",{className:"text-xs text-white/40",children:e.agentName})]}),(0,t.jsx)("p",{className:"text-sm text-white/80 line-clamp-1",children:e.description})]}),(0,t.jsx)(s.motion.div,{animate:{rotate:180*!!n},transition:{duration:.2},className:"flex-shrink-0",children:(0,t.jsx)(A.ChevronDown,{className:"w-4 h-4 text-white/40"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,t.jsx)("span",{className:"text-xs text-white/40",children:e.startTime.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}),void 0!==e.duration&&(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,t.jsx)("div",{className:"flex-1 h-1.5 bg-white/10 rounded-full overflow-hidden",children:(0,t.jsx)(s.motion.div,{className:(0,u.cn)("h-full rounded-full",h?"bg-red-400/60":"bg-white/30"),initial:{width:0},animate:{width:`${p}%`},transition:{duration:.3,delay:.1}})}),(0,t.jsx)("span",{className:"text-xs text-white/50 w-12 text-right",children:function(e){if(!e)return"—";if(e<1e3)return`${e}ms`;if(e<6e4)return`${(e/1e3).toFixed(1)}s`;let t=Math.floor(e/6e4),a=Math.floor(e%6e4/1e3);return`${t}m ${a}s`}(e.duration)})]}),x&&(0,t.jsx)("span",{className:"text-xs text-cyan-400 animate-pulse",children:"In progress..."}),g&&(0,t.jsx)("span",{className:"text-xs text-amber-400",children:"Awaiting input"}),void 0!==e.tokens&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-white/40",children:[(0,t.jsx)(b.Zap,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.tokens.toLocaleString()})]}),void 0!==e.cost&&(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-white/40",children:[(0,t.jsx)(f.DollarSign,{className:"w-3 h-3"}),(0,t.jsxs)("span",{children:["$",e.cost.toFixed(4)]})]})]}),h&&e.error&&!n&&(0,t.jsx)("p",{className:"mt-2 text-xs text-red-300 line-clamp-1",children:e.error})]})]}),(0,t.jsx)(i.AnimatePresence,{children:n&&(0,t.jsx)(s.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"ml-[52px] mr-3 mb-3",children:(0,t.jsx)(L,{step:e})})})]})}let F=(0,a.memo)(function({steps:e,expandedStepId:a,onExpandStep:s,className:i}){let n=Math.max(...e.filter(e=>e.duration).map(e=>e.duration),1e3);return 0===e.length?(0,t.jsx)("div",{className:(0,u.cn)("flex items-center justify-center p-8 text-white/40 text-sm",i),children:"No execution steps yet"}):(0,t.jsx)("div",{className:(0,u.cn)("space-y-1",i),children:e.map((i,r)=>(0,t.jsx)($,{step:i,isLast:r===e.length-1,isExpanded:a===i.id,onToggle:()=>s(a===i.id?null:i.id),maxDuration:n},i.id))})});function z(){let e=new Date,t=[[{id:"step-1-1",type:"llm_call",agentId:"nexo-orchestrator",agentName:"NEXO Orchestrator",description:"Analyzing user request and determining execution plan",status:"completed",startTime:new Date(e.getTime()-3e5),endTime:new Date(e.getTime()-3e5+1200),duration:1200,tokens:850,cost:.0042},{id:"step-1-2",type:"a2a_call",agentId:"nexo-orchestrator",agentName:"NEXO Orchestrator",description:"Delegating to DataTransformerAgent for file processing",status:"completed",startTime:new Date(e.getTime()-3e5+1300),endTime:new Date(e.getTime()-3e5+1500),duration:200},{id:"step-1-3",type:"tool_call",agentId:"data-transformer",agentName:"Data Transformer",description:"Downloading file from S3: inventory-upload-2026-01.xlsx",status:"completed",startTime:new Date(e.getTime()-3e5+1600),endTime:new Date(e.getTime()-3e5+3200),duration:1600,input:JSON.stringify({bucket:"faiston-uploads",key:"inventory-upload-2026-01.xlsx"}),output:JSON.stringify({rows:1247,columns:15})},{id:"step-1-4",type:"llm_call",agentId:"data-transformer",agentName:"Data Transformer",description:"Mapping columns to inventory schema",status:"completed",startTime:new Date(e.getTime()-3e5+3300),endTime:new Date(e.getTime()-3e5+5100),duration:1800,tokens:2340,cost:.0117},{id:"step-1-5",type:"memory_op",agentId:"data-transformer",agentName:"Data Transformer",description:"Storing transformation rules in long-term memory",status:"completed",startTime:new Date(e.getTime()-3e5+5200),endTime:new Date(e.getTime()-3e5+5400),duration:200},{id:"step-1-6",type:"tool_call",agentId:"data-transformer",agentName:"Data Transformer",description:"Inserting 1,247 items into Aurora PostgreSQL",status:"completed",startTime:new Date(e.getTime()-3e5+5500),endTime:new Date(e.getTime()-24e4),duration:6e4,output:JSON.stringify({inserted:1247,updated:0,errors:0})}],[{id:"step-2-1",type:"llm_call",agentId:"nexo-orchestrator",agentName:"NEXO Orchestrator",description:"Processing observation request for SKU analysis",status:"completed",startTime:new Date(e.getTime()-12e4),endTime:new Date(e.getTime()-12e4+980),duration:980,tokens:620,cost:.0031},{id:"step-2-2",type:"a2a_call",agentId:"nexo-orchestrator",agentName:"NEXO Orchestrator",description:"Delegating to ObservationAgent",status:"completed",startTime:new Date(e.getTime()-12e4+1e3),endTime:new Date(e.getTime()-12e4+1150),duration:150},{id:"step-2-3",type:"tool_call",agentId:"observation-agent",agentName:"Observation Agent",description:"Querying inventory database for SKU patterns",status:"running",startTime:new Date(e.getTime()-6e4)}],[{id:"step-3-1",type:"llm_call",agentId:"nexo-orchestrator",agentName:"NEXO Orchestrator",description:"Analyzing validation request",status:"completed",startTime:new Date(e.getTime()-9e5),endTime:new Date(e.getTime()-9e5+1100),duration:1100,tokens:720,cost:.0036},{id:"step-3-2",type:"a2a_call",agentId:"nexo-orchestrator",agentName:"NEXO Orchestrator",description:"Delegating to ValidationAgent",status:"completed",startTime:new Date(e.getTime()-9e5+1200),endTime:new Date(e.getTime()-9e5+1350),duration:150},{id:"step-3-3",type:"tool_call",agentId:"validation-agent",agentName:"Validation Agent",description:"Connecting to external ERP API",status:"failed",startTime:new Date(e.getTime()-9e5+1400),endTime:new Date(e.getTime()-9e5+31400),duration:3e4,error:"Connection timeout: ERP API at erp.example.com:443 did not respond within 30s"},{id:"step-3-4",type:"error",agentId:"validation-agent",agentName:"Validation Agent",description:"Run failed due to external service timeout",status:"failed",startTime:new Date(e.getTime()-9e5+31500),endTime:new Date(e.getTime()-9e5+31600),duration:100,error:"External service unavailable after 3 retry attempts"}],[{id:"step-4-1",type:"llm_call",agentId:"nexo-orchestrator",agentName:"NEXO Orchestrator",description:"Processing bulk delete request",status:"completed",startTime:new Date(e.getTime()-48e4),endTime:new Date(e.getTime()-48e4+1500),duration:1500,tokens:1100,cost:.0055},{id:"step-4-2",type:"a2a_call",agentId:"nexo-orchestrator",agentName:"NEXO Orchestrator",description:"Delegating to DataTransformerAgent",status:"completed",startTime:new Date(e.getTime()-48e4+1600),endTime:new Date(e.getTime()-48e4+1750),duration:150},{id:"step-4-3",type:"decision",agentId:"data-transformer",agentName:"Data Transformer",description:'Awaiting approval: Delete 847 items matching filter "category=discontinued"',status:"pending",startTime:new Date(e.getTime()-48e4+1800),input:JSON.stringify({action:"bulk_delete",filter:{category:"discontinued"},affected_count:847,estimated_impact:"High - irreversible operation"})}],[{id:"step-5-1",type:"llm_call",agentId:"nexo-orchestrator",agentName:"NEXO Orchestrator",description:"Processing inventory analysis request",status:"completed",startTime:new Date(e.getTime()-27e5),endTime:new Date(e.getTime()-27e5+1300),duration:1300,tokens:890,cost:.0045},{id:"step-5-2",type:"a2a_call",agentId:"nexo-orchestrator",agentName:"NEXO Orchestrator",description:"Delegating to ObservationAgent",status:"completed",startTime:new Date(e.getTime()-27e5+1400),endTime:new Date(e.getTime()-27e5+1550),duration:150},{id:"step-5-3",type:"tool_call",agentId:"observation-agent",agentName:"Observation Agent",description:"Executing SQL analysis query on inventory table",status:"completed",startTime:new Date(e.getTime()-27e5+1600),endTime:new Date(e.getTime()-27e5+4600),duration:3e3,input:JSON.stringify({query_type:"aggregation",metrics:["count","value","turnover"]}),output:JSON.stringify({total_items:15234,total_value:1247893.5,avg_turnover:12.4})},{id:"step-5-4",type:"llm_call",agentId:"observation-agent",agentName:"Observation Agent",description:"Generating insights from analysis results",status:"completed",startTime:new Date(e.getTime()-27e5+4700),endTime:new Date(e.getTime()-27e5+7200),duration:2500,tokens:1850,cost:.0093}]];return[{id:"run-001",request:"Import inventory from uploaded Excel file",status:"completed",rootAgentId:"nexo-orchestrator",rootAgentName:"NEXO Orchestrator",agentChain:["NEXO Orchestrator","Data Transformer"],startTime:new Date(e.getTime()-3e5),endTime:new Date(e.getTime()-24e4),duration:65e3,steps:t[0],totalTokens:3190,totalCost:.0159,output:"Successfully imported 1,247 inventory items from inventory-upload-2026-01.xlsx"},{id:"run-002",request:"Analyze SKU distribution patterns across categories",status:"running",rootAgentId:"nexo-orchestrator",rootAgentName:"NEXO Orchestrator",agentChain:["NEXO Orchestrator","Observation Agent"],startTime:new Date(e.getTime()-12e4),steps:t[1],totalTokens:620,totalCost:.0031},{id:"run-003",request:"Validate inventory against external ERP system",status:"failed",rootAgentId:"nexo-orchestrator",rootAgentName:"NEXO Orchestrator",agentChain:["NEXO Orchestrator","Validation Agent"],startTime:new Date(e.getTime()-9e5),endTime:new Date(e.getTime()-9e5+31600),duration:31600,steps:t[2],totalTokens:720,totalCost:.0036,error:"External service unavailable after 3 retry attempts"},{id:"run-004",request:"Bulk delete discontinued items from inventory",status:"waiting_hil",rootAgentId:"nexo-orchestrator",rootAgentName:"NEXO Orchestrator",agentChain:["NEXO Orchestrator","Data Transformer"],startTime:new Date(e.getTime()-48e4),steps:t[3],totalTokens:1100,totalCost:.0055},{id:"run-005",request:"Generate inventory value and turnover analysis report",status:"completed",rootAgentId:"nexo-orchestrator",rootAgentName:"NEXO Orchestrator",agentChain:["NEXO Orchestrator","Observation Agent"],startTime:new Date(e.getTime()-27e5),endTime:new Date(e.getTime()-27e5+7200),duration:7200,steps:t[4],totalTokens:2740,totalCost:.0138,output:"Analysis complete: 15,234 items valued at $1,247,893.50 with 12.4 average turnover rate"}]}let U={search:"",timeRange:"24h",agentIds:[],statuses:[]},V=[{value:"1h",label:"1 hour"},{value:"6h",label:"6 hours"},{value:"24h",label:"24 hours"},{value:"7d",label:"7 days"},{value:"30d",label:"30 days"}],B=[{value:"running",label:"Running",icon:m.Loader2},{value:"completed",label:"Completed",icon:c.CheckCircle2},{value:"failed",label:"Failed",icon:d.XCircle},{value:"waiting_hil",label:"Awaiting Input",icon:x.UserCheck}];function H({search:e,onSearchChange:c,timeRange:d,onTimeRangeChange:m,statusFilters:x,onStatusFilterChange:h,onRefresh:p,isLoading:f}){let[w,b]=(0,a.useState)(!1),y=x.length>0||"24h"!==d;return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(n.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/40"}),(0,t.jsx)("input",{type:"text",placeholder:"Search runs by request, ID, or agent...",value:e,onChange:e=>c(e.target.value),className:(0,u.cn)("w-full pl-10 pr-4 py-2 rounded-lg","bg-white/[0.03] border border-white/[0.08]","text-sm text-white/90 placeholder:text-white/40","focus:outline-none focus:ring-1 focus:ring-cyan-500/50 focus:border-cyan-500/50","transition-colors")}),e&&(0,t.jsx)("button",{onClick:()=>c(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/40 hover:text-white/60",children:(0,t.jsx)(o.X,{className:"w-4 h-4"})})]}),(0,t.jsx)("select",{value:d,onChange:e=>m(e.target.value),className:(0,u.cn)("px-3 py-2 rounded-lg","bg-white/[0.03] border border-white/[0.08]","text-sm text-white/90","focus:outline-none focus:ring-1 focus:ring-cyan-500/50","cursor-pointer"),children:V.map(e=>(0,t.jsx)("option",{value:e.value,className:"bg-gray-900",children:e.label},e.value))}),(0,t.jsxs)("button",{onClick:()=>b(!w),className:(0,u.cn)("flex items-center gap-2 px-3 py-2 rounded-lg","text-sm transition-colors",w||y?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-white/[0.03] border border-white/[0.08] text-white/70 hover:text-white/90"),children:[(0,t.jsx)(r.Filter,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Filters"}),y&&(0,t.jsx)("span",{className:"ml-1 px-1.5 py-0.5 rounded-full bg-cyan-500/30 text-xs",children:x.length+ +("24h"!==d)})]}),(0,t.jsx)("button",{onClick:p,disabled:f,className:(0,u.cn)("p-2 rounded-lg","bg-white/[0.03] border border-white/[0.08]","text-white/70 hover:text-white/90 hover:bg-white/[0.05]","transition-colors disabled:opacity-50"),children:(0,t.jsx)(l.RefreshCw,{className:(0,u.cn)("w-4 h-4",f&&"animate-spin")})})]}),(0,t.jsx)(i.AnimatePresence,{children:w&&(0,t.jsx)(s.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:(0,t.jsx)(g.GlassPanel,{variant:"subtle",padding:"sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("span",{className:"text-xs text-white/50 mr-2",children:"Status:"}),B.map(({value:e,label:a,icon:s})=>{let i=x.includes(e);return(0,t.jsxs)("button",{onClick:()=>{x.includes(e)?h(x.filter(t=>t!==e)):h([...x,e])},className:(0,u.cn)("flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg text-xs","transition-colors",i?"bg-white/10 text-white border border-white/20":"bg-white/[0.03] text-white/60 border border-white/[0.08] hover:bg-white/[0.05]"),children:[(0,t.jsx)(s,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{children:a})]},e)}),x.length>0&&(0,t.jsx)("button",{onClick:()=>h([]),className:"text-xs text-white/40 hover:text-white/60 ml-2",children:"Clear all"})]})})})})]})}function J({stats:e}){let a=[{label:"Total",value:e.total,color:"text-white/70"},{label:"Running",value:e.running,color:"text-cyan-400"},{label:"Completed",value:e.completed,color:"text-green-400"},{label:"Failed",value:e.failed,color:"text-red-400"},{label:"Awaiting",value:e.waitingHil,color:"text-amber-400"}];return(0,t.jsx)("div",{className:"flex items-center gap-6 text-xs",children:a.map(({label:e,value:a,color:s})=>(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsxs)("span",{className:"text-white/40",children:[e,":"]}),(0,t.jsx)("span",{className:(0,u.cn)("font-medium",s),children:a})]},e))})}function G({className:e}){let{runs:r,isLoading:l,selectedRun:c,expandedStepId:d,filters:x,selectRun:p,setExpandedStep:f,setFilters:w,refresh:b,stats:y}=function(e={}){let{refreshInterval:t=0}=e,[s,i]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[m,x]=(0,a.useState)(U),h=(0,a.useCallback)(()=>{r(!0),setTimeout(()=>{i(z()),r(!1)},300)},[]);(0,a.useEffect)(()=>{h()},[h]),(0,a.useEffect)(()=>{if(t<=0)return;let e=setInterval(()=>{i(z())},t);return()=>clearInterval(e)},[t]);let u=(0,a.useMemo)(()=>{let e=[...s];if(m.search){let t=m.search.toLowerCase();e=e.filter(e=>e.request.toLowerCase().includes(t)||e.id.toLowerCase().includes(t)||e.agentChain.some(e=>e.toLowerCase().includes(t)))}m.statuses.length>0&&(e=e.filter(e=>m.statuses.includes(e.status))),m.agentIds.length>0&&(e=e.filter(e=>e.agentChain.some(e=>m.agentIds.includes(e))));let t=new Date;if("custom"!==m.timeRange){let a=new Date(t.getTime()-({"1h":36e5,"6h":216e5,"24h":864e5,"7d":6048e5,"30d":2592e6,custom:0})[m.timeRange]);e=e.filter(e=>e.startTime>=a)}else m.startDate&&m.endDate&&(e=e.filter(e=>e.startTime>=m.startDate&&e.startTime<=m.endDate));return e.sort((e,t)=>t.startTime.getTime()-e.startTime.getTime()),e},[s,m]),g=(0,a.useMemo)(()=>l?s.find(e=>e.id===l)??null:null,[s,l]),p=(0,a.useMemo)(()=>({total:s.length,running:s.filter(e=>"running"===e.status).length,completed:s.filter(e=>"completed"===e.status).length,failed:s.filter(e=>"failed"===e.status).length,waitingHil:s.filter(e=>"waiting_hil"===e.status).length}),[s]),f=(0,a.useCallback)(e=>{o(e),d(null)},[]),w=(0,a.useCallback)(e=>{x(t=>({...t,...e}))},[]);return{runs:u,isLoading:n,selectedRun:g,expandedStepId:c,filters:m,selectRun:f,setExpandedStep:d,setFilters:w,resetFilters:(0,a.useCallback)(()=>{x(U)},[]),refresh:h,getRun:(0,a.useCallback)(e=>s.find(t=>t.id===e),[s]),stats:p}}({refreshInterval:3e4});return(0,t.jsxs)("div",{className:(0,u.cn)("h-full flex flex-col gap-4",e),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-semibold text-white/90",children:"Runs & Traces"}),(0,t.jsx)("p",{className:"text-sm text-white/50",children:"Monitor and debug agent execution traces"})]}),(0,t.jsx)(J,{stats:y})]}),(0,t.jsx)(H,{search:x.search,onSearchChange:e=>w({search:e}),timeRange:x.timeRange,onTimeRangeChange:e=>w({timeRange:e}),statusFilters:x.statuses,onStatusFilterChange:e=>w({statuses:e}),onRefresh:b,isLoading:l}),(0,t.jsxs)("div",{className:"flex-1 flex gap-4 min-h-0",children:[(0,t.jsx)("div",{className:"w-[400px] flex-shrink-0 overflow-y-auto space-y-2 pr-2",children:l&&0===r.length?(0,t.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,t.jsx)(m.Loader2,{className:"w-6 h-6 text-white/40 animate-spin"})}):0===r.length?(0,t.jsx)(g.GlassPanel,{variant:"subtle",padding:"lg",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(h.Clock,{className:"w-10 h-10 text-white/20 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-sm text-white/50",children:"No runs found"}),(0,t.jsx)("p",{className:"text-xs text-white/30 mt-1",children:"Try adjusting your filters or time range"})]})}):r.map(e=>(0,t.jsx)(j,{run:e,isSelected:c?.id===e.id,onSelect:()=>p(c?.id===e.id?null:e.id)},e.id))}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsx)(i.AnimatePresence,{mode:"wait",children:c?(0,t.jsx)(s.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"h-full",children:(0,t.jsxs)(g.GlassPanel,{variant:"elevated",padding:"md",className:"h-full flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4 pb-4 border-b border-white/[0.08]",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-white/90",children:"Execution Trace"}),(0,t.jsx)("p",{className:"text-sm text-white/50 mt-1",children:c.request})]}),(0,t.jsx)("button",{onClick:()=>p(null),className:"p-1.5 rounded-lg text-white/40 hover:text-white/60 hover:bg-white/5",children:(0,t.jsx)(o.X,{className:"w-5 h-5"})})]}),c.output&&(0,t.jsxs)("div",{className:"mb-4 p-3 rounded-lg bg-green-500/10 border border-green-500/20",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-green-400 mb-1",children:"Output"}),(0,t.jsx)("p",{className:"text-sm text-green-300",children:c.output})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,t.jsx)(F,{steps:c.steps,expandedStepId:d,onExpandStep:f})})]})},c.id):(0,t.jsx)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"h-full flex items-center justify-center",children:(0,t.jsx)(g.GlassPanel,{variant:"subtle",padding:"lg",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(n.Search,{className:"w-8 h-8 text-white/20"})}),(0,t.jsx)("p",{className:"text-sm text-white/50",children:"Select a run to view its execution trace"}),(0,t.jsx)("p",{className:"text-xs text-white/30 mt-1",children:"Click on any run card to see step-by-step details"})]})})},"empty")})})]})]})}e.s(["RunsPage",()=>G,"default",0,G],27360)}]);