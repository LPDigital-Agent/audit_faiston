(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4370,e=>{"use strict";var t=e.i(49973),s=e.i(47163),a=e.i(69742);let r={none:"",sm:"p-3",md:"p-4",lg:"p-6"};function i({ref:e,className:i,elevated:l=!1,gradientBorder:n=!1,hoverGlow:c=!0,padding:d="md",children:o,...m}){return(0,t.jsx)(a.motion.div,{ref:e,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},className:(0,s.cn)(l?"glass-elevated":"glass-card",r[d],c&&"ghost-border",n&&"gradient-border","transition-all duration-200",i),...m,children:o})}function l({className:e,children:a,...r}){return(0,t.jsx)("div",{className:(0,s.cn)("flex items-center justify-between mb-4",e),...r,children:a})}function n({className:e,children:a,...r}){return(0,t.jsx)("h3",{className:(0,s.cn)("text-h2 text-text-primary",e),...r,children:a})}function c({className:e,children:a,...r}){return(0,t.jsx)("div",{className:(0,s.cn)("text-body text-text-secondary",e),...r,children:a})}e.s(["GlassCard",()=>i,"GlassCardContent",()=>c,"GlassCardHeader",()=>l,"GlassCardTitle",()=>n])},66974,e=>{"use strict";let t=(0,e.i(98631).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],66974)},30209,e=>{"use strict";var t=e.i(18939),s=e.i(99973),a=e.i(89747),r=e.i(79743),i=e.i(4039),l=class extends r.Subscribable{#e;#t=void 0;#s;#a;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,i.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,i.hashKey)(t.mutationKey)!==(0,i.hashKey)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#r(),this.#i()}mutate(e,t){return this.#a=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#r(){let e=this.#s?.state??(0,s.getDefaultState)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){a.notifyManager.batch(()=>{if(this.#a&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#a.onSuccess?.(e.data,t,s,a),this.#a.onSettled?.(e.data,null,t,s,a)):e?.type==="error"&&(this.#a.onError?.(e.error,t,s,a),this.#a.onSettled?.(void 0,e.error,t,s,a))}this.listeners.forEach(e=>{e(this.#t)})})}},n=e.i(63257);function c(e,s){let r=(0,n.useQueryClient)(s),[c]=t.useState(()=>new l(r,e));t.useEffect(()=>{c.setOptions(e)},[c,e]);let d=t.useSyncExternalStore(t.useCallback(e=>c.subscribe(a.notifyManager.batchCalls(e)),[c]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),o=t.useCallback((e,t)=>{c.mutate(e,t).catch(i.noop)},[c]);if(d.error&&(0,i.shouldThrowError)(c.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:o,mutateAsync:d.mutate}}e.s(["useMutation",()=>c],30209)},54754,e=>{"use strict";let t=(0,e.i(98631).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],54754)},50154,e=>{"use strict";let t=(0,e.i(98631).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],50154)},5300,e=>{"use strict";let t=(0,e.i(98631).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>t],5300)},823,e=>{"use strict";let t=(0,e.i(98631).default)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);e.s(["Timer",()=>t],823)},84294,e=>{"use strict";let t=(0,e.i(98631).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],84294)},28781,e=>{"use strict";var t=e.i(49973),s=e.i(18939),a=e.i(91514),r=e.i(30209),i=e.i(4370),l=e.i(67881),n=e.i(94179),c=e.i(23750),d=e.i(27700),o=e.i(54754),m=e.i(16024),u=e.i(9020),x=e.i(823),h=e.i(50154),p=e.i(66974),b=e.i(21172),g=e.i(84294),j=e.i(98631);let v=(0,j.default)("plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),y=(0,j.default)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);var N=e.i(5300),f=e.i(64583);let C=[{value:"LOW",label:"Econômico",color:"bg-gray-500"},{value:"NORMAL",label:"Normal",color:"bg-blue-500"},{value:"HIGH",label:"Expresso",color:"bg-yellow-500"},{value:"URGENT",label:"Urgente",color:"bg-red-500"}],w={CORREIOS:(0,t.jsx)(u.Package,{className:"w-4 h-4"}),LOGGI:(0,t.jsx)(N.Zap,{className:"w-4 h-4"}),GOLLOG:(0,t.jsx)(v,{className:"w-4 h-4"}),TRANSPORTADORA:(0,t.jsx)(d.Truck,{className:"w-4 h-4"}),DEDICADO:(0,t.jsx)(y,{className:"w-4 h-4"})};function k(){let[e,u]=(0,s.useState)("04548-005"),[j,v]=(0,s.useState)(""),[y,N]=(0,s.useState)(1),[k,S]=(0,s.useState)(30),[M,O]=(0,s.useState)(20),[R,A]=(0,s.useState)(10),[G,I]=(0,s.useState)(500),[E,L]=(0,s.useState)("NORMAL"),[T,P]=(0,s.useState)(""),[H,F]=(0,s.useState)([]),[q,D]=(0,s.useState)(null),[K,_]=(0,s.useState)([]),[B,U]=(0,s.useState)(null),z=(0,r.useMutation)({mutationFn:async()=>(await (0,f.getShippingQuotes)({origin_cep:e,destination_cep:j,weight_kg:y,dimensions:{length:k,width:M,height:R},value:G,urgency:E})).data,onSuccess:e=>{F(e.quotes||[]),D(e.recommendation||null)}}),$=(0,r.useMutation)({mutationFn:async()=>(await (0,f.trackShipment)({tracking_code:T})).data,onSuccess:e=>{e.tracking&&(_(e.tracking.events||[]),U(e.tracking.status))}});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",asChild:!0,children:(0,t.jsxs)(a.default,{href:"/ferramentas/ativos/estoque/expedicao",children:[(0,t.jsx)(o.ArrowLeft,{className:"w-4 h-4 mr-1"}),"Expedição"]})})}),(0,t.jsxs)("h1",{className:"text-xl font-semibold text-text-primary flex items-center gap-2",children:[(0,t.jsx)(h.DollarSign,{className:"w-5 h-5 text-green-400"}),"Cotação de Frete"]}),(0,t.jsx)("p",{className:"text-sm text-text-muted mt-1",children:"Compare preços de transportadoras com recomendação AI"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(i.GlassCard,{children:[(0,t.jsx)(i.GlassCardHeader,{children:(0,t.jsx)(i.GlassCardTitle,{children:"Calcular Frete"})}),(0,t.jsx)(i.GlassCardContent,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-text-primary mb-2 block",children:"CEP Origem"}),(0,t.jsx)(c.Input,{placeholder:"00000-000",value:e,onChange:e=>u(e.target.value),className:"bg-white/5 border-border"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-text-primary mb-2 block",children:"CEP Destino *"}),(0,t.jsx)(c.Input,{placeholder:"00000-000",value:j,onChange:e=>v(e.target.value),className:"bg-white/5 border-border"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-text-primary mb-2 block",children:"Peso (kg)"}),(0,t.jsx)(c.Input,{type:"number",min:.1,step:.1,value:y,onChange:e=>N(parseFloat(e.target.value)||1),className:"bg-white/5 border-border"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-text-primary mb-2 block",children:"C (cm)"}),(0,t.jsx)(c.Input,{type:"number",min:1,value:k,onChange:e=>S(parseInt(e.target.value)||1),className:"bg-white/5 border-border"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-text-primary mb-2 block",children:"L (cm)"}),(0,t.jsx)(c.Input,{type:"number",min:1,value:M,onChange:e=>O(parseInt(e.target.value)||1),className:"bg-white/5 border-border"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-text-primary mb-2 block",children:"A (cm)"}),(0,t.jsx)(c.Input,{type:"number",min:1,value:R,onChange:e=>A(parseInt(e.target.value)||1),className:"bg-white/5 border-border"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-text-primary mb-2 block",children:"Valor Declarado (R$)"}),(0,t.jsx)(c.Input,{type:"number",min:0,value:G,onChange:e=>I(parseFloat(e.target.value)||0),className:"bg-white/5 border-border"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-text-primary mb-2 block",children:"Urgência"}),(0,t.jsx)("select",{className:"w-full px-3 py-2 bg-white/5 border border-border rounded-md text-sm text-text-primary",value:E,onChange:e=>L(e.target.value),children:C.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),z.error&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:[(0,t.jsx)(b.AlertTriangle,{className:"w-4 h-4 text-red-400"}),(0,t.jsx)("p",{className:"text-sm text-red-400",children:z.error.message})]}),(0,t.jsx)(l.Button,{className:"w-full",disabled:!j||z.isPending,onClick:()=>{j&&z.mutate()},children:z.isPending?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.RefreshCw,{className:"w-4 h-4 mr-2 animate-spin"}),"Consultando..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Search,{className:"w-4 h-4 mr-2"}),"Buscar Cotações"]})})]})})]}),(0,t.jsxs)(i.GlassCard,{children:[(0,t.jsx)(i.GlassCardHeader,{children:(0,t.jsx)(i.GlassCardTitle,{children:"Rastrear Envio"})}),(0,t.jsx)(i.GlassCardContent,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-text-primary mb-2 block",children:"Código de Rastreio"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(c.Input,{placeholder:"Ex: AA123456789BR",value:T,onChange:e=>P(e.target.value),className:"bg-white/5 border-border flex-1"}),(0,t.jsx)(l.Button,{disabled:!T||$.isPending,onClick:()=>{T&&$.mutate()},children:$.isPending?(0,t.jsx)(p.RefreshCw,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(m.Search,{className:"w-4 h-4"})})]})]}),B&&(0,t.jsxs)("div",{className:"p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-blue-400 mb-2",children:["Status: ",B]}),(0,t.jsx)("div",{className:"space-y-2",children:K.map((e,s)=>(0,t.jsxs)("div",{className:"text-xs text-text-muted",children:[(0,t.jsxs)("p",{children:[e.date," - ",e.location]}),(0,t.jsx)("p",{className:"text-text-primary",children:e.status})]},s))})]}),$.error&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-red-500/20 border border-red-500/30 rounded-lg",children:[(0,t.jsx)(b.AlertTriangle,{className:"w-4 h-4 text-red-400"}),(0,t.jsx)("p",{className:"text-sm text-red-400",children:$.error.message})]}),(0,t.jsx)("p",{className:"text-xs text-text-muted italic",children:"Nota: Rastreamento em tempo real requer integração com APIs das transportadoras."})]})})]})]}),H.length>0&&(0,t.jsxs)(i.GlassCard,{children:[(0,t.jsx)(i.GlassCardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(i.GlassCardTitle,{children:"Cotações Disponíveis"}),q&&(0,t.jsxs)(n.Badge,{variant:"outline",className:"text-green-400 border-green-400",children:[(0,t.jsx)(g.Star,{className:"w-3 h-3 mr-1"}),"Recomendado: ",q.carrier]})]})}),(0,t.jsxs)(i.GlassCardContent,{children:[q&&(0,t.jsxs)("div",{className:"p-4 bg-green-500/10 border border-green-500/30 rounded-lg mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(g.Star,{className:"w-5 h-5 text-green-400"}),(0,t.jsx)("p",{className:"text-sm font-medium text-green-400",children:"Recomendação NEXO AI"})]}),(0,t.jsxs)("p",{className:"text-sm text-text-primary mb-2",children:[(0,t.jsx)("strong",{children:q.carrier})," - ",q.modal]}),(0,t.jsx)("p",{className:"text-xs text-text-muted",children:q.reason}),q.price&&(0,t.jsxs)("p",{className:"text-lg font-bold text-green-400 mt-2",children:["R$ ",q.price.toFixed(2)]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:H.map((e,s)=>(0,t.jsxs)("div",{className:`p-4 border rounded-lg transition-all ${e.available?"bg-white/5 border-border hover:border-blue-500/50":"bg-white/2 border-border/50 opacity-50"} ${q?.carrier===e.carrier&&q?.modal===e.modal?"border-green-500/50 bg-green-500/5":""}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[w[e.carrier_type]||(0,t.jsx)(d.Truck,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"font-medium text-text-primary",children:e.carrier})]}),(0,t.jsx)(n.Badge,{variant:"outline",className:"mb-2",children:e.modal}),e.available?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-xl font-bold text-text-primary mt-2",children:["R$ ",e.price.toFixed(2)]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-text-muted mt-1",children:[(0,t.jsx)(x.Timer,{className:"w-3 h-3"}),e.delivery_days," dia",e.delivery_days>1?"s":""," úteis"]}),(0,t.jsxs)("p",{className:"text-xs text-text-muted mt-1",children:["Até ",e.delivery_date]}),(0,t.jsxs)("p",{className:"text-xs text-text-muted mt-2",children:["Limite: ",e.weight_limit,"kg / ",e.dimensions_limit]})]}):(0,t.jsx)("p",{className:"text-sm text-red-400 mt-2",children:e.reason||"Indisponível"})]},s))}),(0,t.jsx)("p",{className:"text-xs text-text-muted italic mt-4",children:"Nota: Cotações simuladas. Integração com APIs de transportadoras pendente."})]})]})]})}e.s(["default",()=>k],28781)}]);