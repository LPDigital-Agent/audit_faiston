(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56643,e=>{"use strict";var t,n,o,r,i,a,l,s,d,c,u,h,f,p,g,m,x=e.i(49973),y=e.i(18939);function b(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n=0,o;n<e.length;n++)""!==(o=b(e[n]))&&(t+=(t&&" ")+o);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}e.i(6975);var v=e.i(8164),w=e.i(92423),S=e.i(54542),M=e.i(16947),E=e.i(11975);let C=e=>()=>e;function N(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:i,x:a,y:l,dx:s,dy:d,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:c}})}function k(e){return!e.ctrlKey&&!e.button}function j(){return this.parentNode}function P(e,t){return null==t?{x:e.x,y:e.y}:t}function I(){return navigator.maxTouchPoints||"ontouchstart"in this}function A(){var e,t,n,o,r=k,i=j,a=P,l=I,s={},d=(0,v.dispatch)("start","drag","end"),c=0,u=0;function h(e){e.on("mousedown.drag",f).filter(l).on("touchstart.drag",m).on("touchmove.drag",x,E.nonpassive).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(a,l){if(!o&&r.call(this,a,l)){var s=b(this,i.call(this,a,l),a,l,"mouse");s&&((0,w.select)(a.view).on("mousemove.drag",p,E.nonpassivecapture).on("mouseup.drag",g,E.nonpassivecapture),(0,M.default)(a.view),(0,E.nopropagation)(a),n=!1,e=a.clientX,t=a.clientY,s("start",a))}}function p(o){if((0,E.default)(o),!n){var r=o.clientX-e,i=o.clientY-t;n=r*r+i*i>u}s.mouse("drag",o)}function g(e){(0,w.select)(e.view).on("mousemove.drag mouseup.drag",null),(0,M.yesdrag)(e.view,n),(0,E.default)(e),s.mouse("end",e)}function m(e,t){if(r.call(this,e,t)){var n,o,a=e.changedTouches,l=i.call(this,e,t),s=a.length;for(n=0;n<s;++n)(o=b(this,l,e,t,a[n].identifier,a[n]))&&((0,E.nopropagation)(e),o("start",e,a[n]))}}function x(e){var t,n,o=e.changedTouches,r=o.length;for(t=0;t<r;++t)(n=s[o[t].identifier])&&((0,E.default)(e),n("drag",e,o[t]))}function y(e){var t,n,r=e.changedTouches,i=r.length;for(o&&clearTimeout(o),o=setTimeout(function(){o=null},500),t=0;t<i;++t)(n=s[r[t].identifier])&&((0,E.nopropagation)(e),n("end",e,r[t]))}function b(e,t,n,o,r,i){var l,u,f,p=d.copy(),g=(0,S.pointer)(i||n,t);if(null!=(f=a.call(e,new N("beforestart",{sourceEvent:n,target:h,identifier:r,active:c,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),o)))return l=f.x-g[0]||0,u=f.y-g[1]||0,function n(i,a,d){var m,x=g;switch(i){case"start":s[r]=n,m=c++;break;case"end":delete s[r],--c;case"drag":g=(0,S.pointer)(d||a,t),m=c}p.call(i,e,new N(i,{sourceEvent:a,subject:f,target:h,identifier:r,active:m,x:g[0]+l,y:g[1]+u,dx:g[0]-x[0],dy:g[1]-x[1],dispatch:p}),o)}}return h.filter=function(e){return arguments.length?(r="function"==typeof e?e:C(!!e),h):r},h.container=function(e){return arguments.length?(i="function"==typeof e?e:C(e),h):i},h.subject=function(e){return arguments.length?(a="function"==typeof e?e:C(e),h):a},h.touchable=function(e){return arguments.length?(l="function"==typeof e?e:C(!!e),h):l},h.on=function(){var e=d.on.apply(d,arguments);return e===d?h:e},h.clickDistance=function(e){return arguments.length?(u=(e*=1)*e,h):Math.sqrt(u)},h}N.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e},e.i(50149);var $=e.i(53752),$=$,z=e.i(44200),z=z,_=z,R=e.i(74017),D=e.i(78152);let O=[[-1/0,-1/0],[1/0,1/0]],L=["Enter"," ","Escape"],B={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};(t=d||(d={})).Strict="strict",t.Loose="loose",(n=c||(c={})).Free="free",n.Vertical="vertical",n.Horizontal="horizontal",(o=u||(u={})).Partial="partial",o.Full="full";let T={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};(r=h||(h={})).Bezier="default",r.Straight="straight",r.Step="step",r.SmoothStep="smoothstep",r.SimpleBezier="simplebezier",(i=f||(f={})).Arrow="arrow",i.ArrowClosed="arrowclosed",(a=p||(p={})).Left="left",a.Top="top",a.Right="right",a.Bottom="bottom";let H={[p.Left]:p.Right,[p.Right]:p.Left,[p.Top]:p.Bottom,[p.Bottom]:p.Top};function V(e){return null===e?null:e?"valid":"invalid"}let F=e=>"id"in e&&"source"in e&&"target"in e,Z=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),W=(e,t=[0,0])=>{let{width:n,height:o}=eb(e),r=e.origin??t,i=n*r[0],a=o*r[1];return{x:e.position.x-i,y:e.position.y-a}},X=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},o=!1;return e.forEach(e=>{(void 0===t.filter||t.filter(e))&&(n=en(n,ea(e)),o=!0)}),o?er(n):{x:0,y:0,width:0,height:0}},K=(e,t,[n,o,r]=[0,0,1],i=!1,a=!1)=>{let l={...ef(t,[n,o,r]),width:t.width/r,height:t.height/r},s=[];for(let t of e.values()){let{measured:e,selectable:n=!0,hidden:o=!1}=t;if(a&&!n||o)continue;let r=e.width??t.width??t.initialWidth??null,d=e.height??t.height??t.initialHeight??null,c=es(l,ei(t)),u=(r??0)*(d??0),h=i&&c>0;(!t.internals.handleBounds||h||c>=u||t.dragging)&&s.push(t)}return s};async function Y({nodes:e,width:t,height:n,panZoom:o,minZoom:r,maxZoom:i},a){let l,s;if(0===e.size)return Promise.resolve(!0);let d=em(X((l=new Map,s=a?.nodes?new Set(a.nodes.map(e=>e.id)):null,e.forEach(e=>{e.measured.width&&e.measured.height&&(a?.includeHiddenNodes||!e.hidden)&&(!s||s.has(e.id))&&l.set(e.id,e)}),l)),t,n,a?.minZoom??r,a?.maxZoom??i,a?.padding??.1);return await o.setViewport(d,{duration:a?.duration,ease:a?.ease,interpolate:a?.interpolate}),Promise.resolve(!0)}function q({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:o=[0,0],nodeExtent:r,onError:i}){let a=n.get(e),l=a.parentId?n.get(a.parentId):void 0,{x:s,y:d}=l?l.internals.positionAbsolute:{x:0,y:0},c=a.origin??o,u=a.extent||r;if("parent"!==a.extent||a.expandParent)l&&ey(a.extent)&&(u=[[a.extent[0][0]+s,a.extent[0][1]+d],[a.extent[1][0]+s,a.extent[1][1]+d]]);else if(l){let e=l.measured.width,t=l.measured.height;e&&t&&(u=[[s,d],[s+e,d+t]])}else i?.("005","Only child nodes can use a parent extent.");let h=ey(u)?Q(t,u,a.measured):t;return(void 0===a.measured.width||void 0===a.measured.height)&&i?.("015","It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."),{position:{x:h.x-s+(a.measured.width??0)*c[0],y:h.y-d+(a.measured.height??0)*c[1]},positionAbsolute:h}}async function U({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:o,onBeforeDelete:r}){let i,a=new Set(e.map(e=>e.id)),l=[];for(let e of n){if(!1===e.deletable)continue;let t=a.has(e.id),n=!t&&e.parentId&&l.find(t=>t.id===e.parentId);(t||n)&&l.push(e)}let s=new Set(t.map(e=>e.id)),d=o.filter(e=>!1!==e.deletable),c=(i=new Set,l.forEach(e=>{i.add(e.id)}),d.filter(e=>i.has(e.source)||i.has(e.target)));for(let e of d)s.has(e.id)&&!c.find(t=>t.id===e.id)&&c.push(e);if(!r)return{edges:c,nodes:l};let u=await r({nodes:l,edges:c});return"boolean"==typeof u?u?{edges:c,nodes:l}:{edges:[],nodes:[]}:u}let G=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Q=(e={x:0,y:0},t,n)=>({x:G(e.x,t[0][0],t[1][0]-(n?.width??0)),y:G(e.y,t[0][1],t[1][1]-(n?.height??0))});function J(e,t,n){let{width:o,height:r}=eb(n),{x:i,y:a}=n.internals.positionAbsolute;return Q(e,[[i,a],[i+o,a+r]],t)}let ee=(e,t,n)=>e<t?G(Math.abs(e-t),1,t)/t:e>n?-G(Math.abs(e-n),1,t)/t:0,et=(e,t,n=15,o=40)=>[ee(e.x,o,t.width-o)*n,ee(e.y,o,t.height-o)*n],en=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),eo=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),er=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),ei=(e,t=[0,0])=>{let{x:n,y:o}=Z(e)?e.internals.positionAbsolute:W(e,t);return{x:n,y:o,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},ea=(e,t=[0,0])=>{let{x:n,y:o}=Z(e)?e.internals.positionAbsolute:W(e,t);return{x:n,y:o,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:o+(e.measured?.height??e.height??e.initialHeight??0)}},el=(e,t)=>er(en(eo(e),eo(t))),es=(e,t)=>Math.ceil(Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x))*Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y))),ed=e=>ec(e.width)&&ec(e.height)&&ec(e.x)&&ec(e.y),ec=e=>!isNaN(e)&&isFinite(e),eu=(e,t)=>{},eh=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),ef=({x:e,y:t},[n,o,r],i=!1,a=[1,1])=>{let l={x:(e-n)/r,y:(t-o)/r};return i?eh(l,a):l},ep=({x:e,y:t},[n,o,r])=>({x:e*r+n,y:t*r+o});function eg(e,t){if("number"==typeof e)return Math.floor((t-t/(1+e))*.5);if("string"==typeof e&&e.endsWith("px")){let t=parseFloat(e);if(!Number.isNaN(t))return Math.floor(t)}if("string"==typeof e&&e.endsWith("%")){let n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}let em=(e,t,n,o,r,i)=>{let a=function(e,t,n){if("string"==typeof e||"number"==typeof e){let o=eg(e,n),r=eg(e,t);return{top:o,right:r,bottom:o,left:r,x:2*r,y:2*o}}if("object"==typeof e){let o=eg(e.top??e.y??0,n),r=eg(e.bottom??e.y??0,n),i=eg(e.left??e.x??0,t),a=eg(e.right??e.x??0,t);return{top:o,right:a,bottom:r,left:i,x:i+a,y:o+r}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}(i,t,n),l=G(Math.min((t-a.x)/e.width,(n-a.y)/e.height),o,r),s=e.x+e.width/2,d=e.y+e.height/2,c=t/2-s*l,u=n/2-d*l,h=function(e,t,n,o,r,i){let{x:a,y:l}=ep(e,[t,n,o]),{x:s,y:d}=ep({x:e.x+e.width,y:e.y+e.height},[t,n,o]);return{left:Math.floor(a),top:Math.floor(l),right:Math.floor(r-s),bottom:Math.floor(i-d)}}(e,c,u,l,t,n),f={left:Math.min(h.left-a.left,0),top:Math.min(h.top-a.top,0),right:Math.min(h.right-a.right,0),bottom:Math.min(h.bottom-a.bottom,0)};return{x:c-f.left+f.right,y:u-f.top+f.bottom,zoom:l}},ex=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0;function ey(e){return null!=e&&"parent"!==e}function eb(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function ev(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function ew(e,t={width:0,height:0},n,o,r){let i={...e},a=o.get(n);if(a){let e=a.origin||r;i.x+=a.internals.positionAbsolute.x-(t.width??0)*e[0],i.y+=a.internals.positionAbsolute.y-(t.height??0)*e[1]}return i}function eS(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}function eM(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:o,containerBounds:r}){let{x:i,y:a}=ej(e),l=ef({x:i-(r?.left??0),y:a-(r?.top??0)},o),{x:s,y:d}=n?eh(l,t):l;return{xSnapped:s,ySnapped:d,...l}}let eE=e=>({width:e.offsetWidth,height:e.offsetHeight}),eC=e=>e?.getRootNode?.()||window?.document,eN=["INPUT","SELECT","TEXTAREA"];function ek(e){let t=e.composedPath?.()?.[0]||e.target;return t?.nodeType===1&&(eN.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey"))}let ej=(e,t)=>{let n="clientX"in e,o=n?e.clientX:e.touches?.[0].clientX,r=n?e.clientY:e.touches?.[0].clientY;return{x:o-(t?.left??0),y:r-(t?.top??0)}},eP=(e,t,n,o,r)=>{let i=t.querySelectorAll(`.${e}`);return i&&i.length?Array.from(i).map(t=>{let i=t.getBoundingClientRect();return{id:t.getAttribute("data-handleid"),type:e,nodeId:r,position:t.getAttribute("data-handlepos"),x:(i.left-n.left)/o,y:(i.top-n.top)/o,...eE(t)}}):null};function eI({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:i,targetControlX:a,targetControlY:l}){let s=.125*e+.375*r+.375*a+.125*n,d=.125*t+.375*i+.375*l+.125*o,c=Math.abs(s-e),u=Math.abs(d-t);return[s,d,c,u]}function eA(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function e$({pos:e,x1:t,y1:n,x2:o,y2:r,c:i}){switch(e){case p.Left:return[t-eA(t-o,i),n];case p.Right:return[t+eA(o-t,i),n];case p.Top:return[t,n-eA(n-r,i)];case p.Bottom:return[t,n+eA(r-n,i)]}}function ez({sourceX:e,sourceY:t,sourcePosition:n=p.Bottom,targetX:o,targetY:r,targetPosition:i=p.Top,curvature:a=.25}){let[l,s]=e$({pos:n,x1:e,y1:t,x2:o,y2:r,c:a}),[d,c]=e$({pos:i,x1:o,y1:r,x2:e,y2:t,c:a}),[u,h,f,g]=eI({sourceX:e,sourceY:t,targetX:o,targetY:r,sourceControlX:l,sourceControlY:s,targetControlX:d,targetControlY:c});return[`M${e},${t} C${l},${s} ${d},${c} ${o},${r}`,u,h,f,g]}function e_({sourceX:e,sourceY:t,targetX:n,targetY:o}){let r=Math.abs(n-e)/2,i=Math.abs(o-t)/2;return[n<e?n+r:n-r,o<t?o+i:o-i,r,i]}let eR=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`xy-edge__${e}${t||""}-${n}${o||""}`;function eD({sourceX:e,sourceY:t,targetX:n,targetY:o}){let[r,i,a,l]=e_({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,r,i,a,l]}let eO={[p.Left]:{x:-1,y:0},[p.Right]:{x:1,y:0},[p.Top]:{x:0,y:-1},[p.Bottom]:{x:0,y:1}},eL=({source:e,sourcePosition:t=p.Bottom,target:n})=>t===p.Left||t===p.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},eB=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function eT({sourceX:e,sourceY:t,sourcePosition:n=p.Bottom,targetX:o,targetY:r,targetPosition:i=p.Top,borderRadius:a=5,centerX:l,centerY:s,offset:d=20,stepPosition:c=.5}){let[u,h,f,g,m]=function({source:e,sourcePosition:t=p.Bottom,target:n,targetPosition:o=p.Top,center:r,offset:i,stepPosition:a}){let l,s,d=eO[t],c=eO[o],u={x:e.x+d.x*i,y:e.y+d.y*i},h={x:n.x+c.x*i,y:n.y+c.y*i},f=eL({source:u,sourcePosition:t,target:h}),g=0!==f.x?"x":"y",m=f[g],x=[],y={x:0,y:0},b={x:0,y:0},[,,v,w]=e_({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(d[g]*c[g]==-1){"x"===g?(l=r.x??u.x+(h.x-u.x)*a,s=r.y??(u.y+h.y)/2):(l=r.x??(u.x+h.x)/2,s=r.y??u.y+(h.y-u.y)*a);let e=[{x:l,y:u.y},{x:l,y:h.y}],t=[{x:u.x,y:s},{x:h.x,y:s}];x=d[g]===m?"x"===g?e:t:"x"===g?t:e}else{let r=[{x:u.x,y:h.y}],a=[{x:h.x,y:u.y}];if(x="x"===g?d.x===m?a:r:d.y===m?r:a,t===o){let t=Math.abs(e[g]-n[g]);if(t<=i){let o=Math.min(i-1,i-t);d[g]===m?y[g]=(u[g]>e[g]?-1:1)*o:b[g]=(h[g]>n[g]?-1:1)*o}}if(t!==o){let e="x"===g?"y":"x",t=d[g]===c[e],n=u[e]>h[e],o=u[e]<h[e];(1===d[g]&&(!t&&n||t&&o)||1!==d[g]&&(!t&&o||t&&n))&&(x="x"===g?r:a)}let f={x:u.x+y.x,y:u.y+y.y},p={x:h.x+b.x,y:h.y+b.y};Math.max(Math.abs(f.x-x[0].x),Math.abs(p.x-x[0].x))>=Math.max(Math.abs(f.y-x[0].y),Math.abs(p.y-x[0].y))?(l=(f.x+p.x)/2,s=x[0].y):(l=x[0].x,s=(f.y+p.y)/2)}return[[e,{x:u.x+y.x,y:u.y+y.y},...x,{x:h.x+b.x,y:h.y+b.y},n],l,s,v,w]}({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:r},targetPosition:i,center:{x:l,y:s},offset:d,stepPosition:c});return[u.reduce((e,t,n)=>e+(n>0&&n<u.length-1?function(e,t,n,o){let r=Math.min(eB(e,t)/2,eB(t,n)/2,o),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a){let t=e.x<n.x?-1:1,o=e.y<n.y?1:-1;return`L ${i+r*t},${a}Q ${i},${a} ${i},${a+r*o}`}let l=e.x<n.x?1:-1,s=e.y<n.y?-1:1;return`L ${i},${a+r*s}Q ${i},${a} ${i+r*l},${a}`}(u[n-1],t,u[n+1],a):`${0===n?"M":"L"}${t.x} ${t.y}`),""),h,f,g,m]}function eH(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function eV(e){if(!e)return null;let t=[],n=[];for(let o of e)o.width=o.width??1,o.height=o.height??1,"source"===o.type?t.push(o):"target"===o.type&&n.push(o);return{source:t,target:n}}function eF(e,t,n=p.Left,o=!1){let r=(t?.x??0)+e.internals.positionAbsolute.x,i=(t?.y??0)+e.internals.positionAbsolute.y,{width:a,height:l}=t??eb(e);if(o)return{x:r+a/2,y:i+l/2};switch(t?.position??n){case p.Top:return{x:r+a/2,y:i};case p.Right:return{x:r+a,y:i+l/2};case p.Bottom:return{x:r+a/2,y:i+l};case p.Left:return{x:r,y:i+l/2}}}function eZ(e,t){return e&&(t?e.find(e=>e.id===t):e[0])||null}function eW(e,t){if(!e)return"";if("string"==typeof e)return e;let n=t?`${t}__`:"";return`${n}${Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")}`}let eX={nodeOrigin:[0,0],nodeExtent:O,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},eK={...eX,checkEquality:!0};function eY(e,t){let n={...e};for(let e in t)void 0!==t[e]&&(n[e]=t[e]);return n}function eq(e){return"manual"===e}function eU(e,t,n,o={}){let r=eY(eK,o),i={i:0},a=new Map(t),l=r?.elevateNodesOnSelect&&!eq(r.zIndexMode)?1e3:0,s=e.length>0;for(let d of(t.clear(),n.clear(),e)){let e=a.get(d.id);if(r.checkEquality&&d===e?.internals.userNode)t.set(d.id,e);else{let n=Q(W(d,r.nodeOrigin),ey(d.extent)?d.extent:r.nodeExtent,eb(d));e={...r.defaults,...d,measured:{width:d.measured?.width,height:d.measured?.height},internals:{positionAbsolute:n,handleBounds:function(e,t){if(!e.handles)return e.measured?t?.internals.handleBounds:void 0;let n=[],o=[];for(let t of e.handles){let r={id:t.id,width:t.width??1,height:t.height??1,nodeId:e.id,x:t.x,y:t.y,position:t.position,type:t.type};"source"===t.type?n.push(r):"target"===t.type&&o.push(r)}return{source:n,target:o}}(d,e),z:eQ(d,l,r.zIndexMode),userNode:d}},t.set(d.id,e)}void 0!==e.measured&&void 0!==e.measured.width&&void 0!==e.measured.height||e.hidden||(s=!1),d.parentId&&eG(e,t,n,o,i)}return s}function eG(e,t,n,o,r){let{elevateNodesOnSelect:i,nodeOrigin:a,nodeExtent:l,zIndexMode:s}=eY(eX,o),d=e.parentId,c=t.get(d);if(!c)return void console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);!function(e,t){if(!e.parentId)return;let n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}(e,n),r&&!c.parentId&&void 0===c.internals.rootParentIndex&&"auto"===s&&(c.internals.rootParentIndex=++r.i,c.internals.z=c.internals.z+10*r.i),r&&void 0!==c.internals.rootParentIndex&&(r.i=c.internals.rootParentIndex);let{x:u,y:h,z:f}=function(e,t,n,o,r,i){let{x:a,y:l}=t.internals.positionAbsolute,s=eb(e),d=W(e,n),c=ey(e.extent)?Q(d,e.extent,s):d,u=Q({x:a+c.x,y:l+c.y},o,s);"parent"===e.extent&&(u=J(u,s,t));let h=eQ(e,r,i),f=t.internals.z??0;return{x:u.x,y:u.y,z:f>=h?f+1:h}}(e,c,a,l,i&&!eq(s)?1e3:0,s),{positionAbsolute:p}=e.internals,g=u!==p.x||h!==p.y;(g||f!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:g?{x:u,y:h}:p,z:f}})}function eQ(e,t,n){let o=ec(e.zIndex)?e.zIndex:0;return eq(n)?o:o+(e.selected?t:0)}function eJ(e,t,n,o=[0,0]){let r=[],i=new Map;for(let n of e){let e=t.get(n.parentId);if(!e)continue;let o=el(i.get(n.parentId)?.expandedRect??ei(e),n.rect);i.set(n.parentId,{expandedRect:o,parent:e})}return i.size>0&&i.forEach(({expandedRect:t,parent:i},a)=>{let l=i.internals.positionAbsolute,s=eb(i),d=i.origin??o,c=t.x<l.x?Math.round(Math.abs(l.x-t.x)):0,u=t.y<l.y?Math.round(Math.abs(l.y-t.y)):0,h=Math.max(s.width,Math.round(t.width)),f=Math.max(s.height,Math.round(t.height)),p=(h-s.width)*d[0],g=(f-s.height)*d[1];(c>0||u>0||p||g)&&(r.push({id:a,type:"position",position:{x:i.position.x-c+p,y:i.position.y-u+g}}),n.get(a)?.forEach(t=>{e.some(e=>e.id===t.id)||r.push({id:t.id,type:"position",position:{x:t.position.x+c,y:t.position.y+u}})})),(s.width<t.width||s.height<t.height||c||u)&&r.push({id:a,type:"dimensions",setAttributes:!0,dimensions:{width:h+(c?d[0]*c-p:0),height:f+(u?d[1]*u-g:0)}})}),r}async function e0({delta:e,panZoom:t,transform:n,translateExtent:o,width:r,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);let a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[r,i]],o);return Promise.resolve(!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]))}function e1(e,t,n,o,r,i){let a=r,l=o.get(a)||new Map;o.set(a,l.set(n,t)),a=`${r}-${e}`;let s=o.get(a)||new Map;if(o.set(a,s.set(n,t)),i){a=`${r}-${e}-${i}`;let l=o.get(a)||new Map;o.set(a,l.set(n,t))}}function e2(e,t,n){for(let o of(e.clear(),t.clear(),n)){let{source:n,target:r,sourceHandle:i=null,targetHandle:a=null}=o,l={edgeId:o.id,source:n,target:r,sourceHandle:i,targetHandle:a},s=`${n}-${i}--${r}-${a}`;e1("source",l,`${r}-${a}--${n}-${i}`,e,n,i),e1("target",l,s,e,r,a),t.set(o.id,o)}}function e5(e,t,n){let o=e;do{if(o?.matches?.(t))return!0;if(o===n)break;o=o?.parentElement}while(o)return!1}function e3({nodeId:e,dragItems:t,nodeLookup:n,dragging:o=!0}){let r=[];for(let[e,i]of t){let t=n.get(e)?.internals.userNode;t&&r.push({...t,position:i.position,dragging:o})}if(!e)return[r[0],r];let i=n.get(e)?.internals.userNode;return[i?{...i,position:t.get(e)?.position||i.position,dragging:o}:r[0],r]}function e4(e,t,n,o,r,i=!1){let a=o.get(e);if(!a)return null;let l="strict"===r?a.internals.handleBounds?.[t]:[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]],s=(n?l?.find(e=>e.id===n):l?.[0])??null;return s&&i?{...s,...eF(a,s,s.position,!0)}:s}function e6(e,t){return e?e:t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null}let e8=()=>!0;function e7(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:r,fromType:i,doc:a,lib:l,flowId:s,isValidConnection:c=e8,nodeLookup:u}){let h="target"===i,f=t?a.querySelector(`.${l}-flow__handle[data-id="${s}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:p,y:g}=ej(e),m=a.elementFromPoint(p,g),x=m?.classList.contains(`${l}-flow__handle`)?m:f,y={handleDomNode:x,isValid:!1,connection:null,toHandle:null};if(x){let e=e6(void 0,x),t=x.getAttribute("data-nodeid"),i=x.getAttribute("data-handleid"),a=x.classList.contains("connectable"),l=x.classList.contains("connectableend");if(!t||!e)return y;let s={source:h?t:o,sourceHandle:h?i:r,target:h?o:t,targetHandle:h?r:i};y.connection=s,y.isValid=a&&l&&(n===d.Strict?h&&"source"===e||!h&&"target"===e:t!==o||i!==r)&&c(s),y.toHandle=e4(t,e,i,u,n,!0)}return y}let e9=function(e,{connectionMode:t,connectionRadius:n,handleId:o,nodeId:r,edgeUpdaterType:i,isTarget:a,domNode:l,nodeLookup:s,lib:d,autoPanOnConnect:c,flowId:u,panBy:h,cancelConnection:f,onConnectStart:g,onConnect:m,onConnectEnd:x,isValidConnection:y=e8,onReconnectEnd:b,updateConnection:v,getTransform:w,getFromHandle:S,autoPanSpeed:M,dragThreshold:E=1,handleDomNode:C}){let N,k=eC(e.target),j=0,{x:P,y:I}=ej(e),A=e6(i,C),$=l?.getBoundingClientRect(),z=!1;if(!$||!A)return;let _=e4(r,A,o,s,t);if(!_)return;let R=ej(e,$),D=!1,O=null,L=!1,B=null,T={..._,nodeId:r,type:A,position:_.position},V=s.get(r),F={inProgress:!0,isValid:null,from:eF(V,T,p.Left,!0),fromHandle:T,fromPosition:T.position,fromNode:V,to:R,toHandle:null,toPosition:H[T.position],toNode:null,pointer:R};function Z(){z=!0,v(F),g?.(e,{nodeId:r,handleId:o,handleType:A})}function W(e){var i,l;let f;if(!z){let{x:t,y:n}=ej(e),o=t-P,r=n-I;if(!(o*o+r*r>E*E))return;Z()}if(!S()||!T)return void X(e);let g=w();N=function(e,t,n,o){let r=[],i=1/0;for(let a of function(e,t,n){let o=[],r={x:e.x-n,y:e.y-n,width:2*n,height:2*n};for(let e of t.values())es(r,ei(e))>0&&o.push(e);return o}(e,n,t+250))for(let n of[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]]){if(o.nodeId===n.nodeId&&o.type===n.type&&o.id===n.id)continue;let{x:l,y:s}=eF(a,n,n.position,!0),d=Math.sqrt(Math.pow(l-e.x,2)+Math.pow(s-e.y,2));d>t||(d<i?(r=[{...n,x:l,y:s}],i=d):d===i&&r.push({...n,x:l,y:s}))}if(!r.length)return null;if(r.length>1){let e="source"===o.type?"target":"source";return r.find(t=>t.type===e)??r[0]}return r[0]}(ef(R=ej(e,$),g,!1,[1,1]),n,s,T),D||(!function e(){if(!c||!$)return;let[t,n]=et(R,$,M);h({x:t,y:n}),j=requestAnimationFrame(e)}(),D=!0);let m=e7(e,{handle:N,connectionMode:t,fromNodeId:r,fromHandleId:o,fromType:a?"target":"source",isValidConnection:y,doc:k,lib:d,flowId:u,nodeLookup:s});B=m.handleDomNode,O=m.connection,i=!!N,l=m.isValid,f=null,l?f=!0:i&&!l&&(f=!1),L=f;let x=s.get(r),b=x?eF(x,T,p.Left,!0):F.from,C={...F,from:b,isValid:L,to:m.toHandle&&L?ep({x:m.toHandle.x,y:m.toHandle.y},g):R,toHandle:m.toHandle,toPosition:L&&m.toHandle?m.toHandle.position:H[T.position],toNode:m.toHandle?s.get(m.toHandle.nodeId):null,pointer:R};v(C),F=C}function X(e){if(!("touches"in e)||!(e.touches.length>0)){if(z){(N||B)&&O&&L&&m?.(O);let{inProgress:t,...n}=F,o={...n,toPosition:F.toHandle?F.toPosition:null};x?.(e,o),i&&b?.(e,o)}f(),cancelAnimationFrame(j),D=!1,L=!1,O=null,B=null,k.removeEventListener("mousemove",W),k.removeEventListener("mouseup",X),k.removeEventListener("touchmove",W),k.removeEventListener("touchend",X)}}0===E&&Z(),k.addEventListener("mousemove",W),k.addEventListener("mouseup",X),k.addEventListener("touchmove",W),k.addEventListener("touchend",X)},te=e=>({x:e.x,y:e.y,zoom:e.k}),tt=({x:e,y:t,zoom:n})=>z.identity.translate(e,t).scale(n),tn=(e,t)=>e.target.closest(`.${t}`),to=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),tr=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,ti=(e,t=0,n=tr,o=()=>{})=>{let r="number"==typeof t&&t>0;return r||o(),r?e.transition().duration(t).ease(n).on("end",o):e},ta=e=>{let t=e.ctrlKey&&ex()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t};function tl(e){let t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:e.includes("left"),affectsY:e.includes("top")}}function ts(e,t){return Math.max(0,t-e)}function td(e,t){return Math.max(0,e-t)}function tc(e,t,n){return Math.max(0,t-e,e-n)}(l=g||(g={})).Line="line",l.Handle="handle";let tu={width:0,height:0,x:0,y:0},th={...tu,pointerX:0,pointerY:0,aspectRatio:1};var tf=e.i(51165);let tp={get url(){return`file://${e.P("node_modules/.pnpm/zustand@4.5.7_@types+react@19.2.7_immer@11.1.3_react@19.2.3/node_modules/zustand/esm/vanilla.mjs")}`}},tg=e=>{let t,n=new Set,o=(e,o)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=o?o:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,i={setState:o,getState:r,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{(tp.env?tp.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(o,r,i);return i},{useDebugValue:tm}=y.default,{useSyncExternalStoreWithSelector:tx}=tf.default,ty=e=>e;function tb(e,t=ty,n){let o=tx(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return tm(o),o}let tv=(e,t)=>{let n=e?tg(e):tg,o=(e,o=t)=>tb(n,e,o);return Object.assign(o,n),o};function tw(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[n,o]of e)if(!Object.is(o,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let o of n)if(!Object.prototype.hasOwnProperty.call(t,o)||!Object.is(e[o],t[o]))return!1;return!0}var tS=e.i(60840);let tM=(0,y.createContext)(null),tE=tM.Provider,tC="[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001";function tN(e,t){let n=(0,y.useContext)(tM);if(null===n)throw Error(tC);return tb(n,e,t)}function tk(){let e=(0,y.useContext)(tM);if(null===e)throw Error(tC);return(0,y.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}let tj={display:"none"},tP={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},tI="react-flow__node-desc",tA="react-flow__edge-desc",t$=e=>e.ariaLiveMessage,tz=e=>e.ariaLabelConfig;function t_({rfId:e}){let t=tN(t$);return(0,x.jsx)("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:tP,children:t})}function tR({rfId:e,disableKeyboardA11y:t}){let n=tN(tz);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{id:`${tI}-${e}`,style:tj,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),(0,x.jsx)("div",{id:`${tA}-${e}`,style:tj,children:n["edge.a11yDescription.default"]}),!t&&(0,x.jsx)(t_,{rfId:e})]})}let tD=(0,y.forwardRef)(({position:e="top-left",children:t,className:n,style:o,...r},i)=>{let a=`${e}`.split("-");return(0,x.jsx)("div",{className:b(["react-flow__panel",n,...a]),style:o,ref:i,...r,children:t})});function tO({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:(0,x.jsx)(tD,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,x.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}tD.displayName="Panel";let tL=e=>{let t=[],n=[];for(let[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(let[,t]of e.edgeLookup)t.selected&&n.push(t);return{selectedNodes:t,selectedEdges:n}},tB=e=>e.id;function tT(e,t){return tw(e.selectedNodes.map(tB),t.selectedNodes.map(tB))&&tw(e.selectedEdges.map(tB),t.selectedEdges.map(tB))}function tH({onSelectionChange:e}){let t=tk(),{selectedNodes:n,selectedEdges:o}=tN(tL,tT);return(0,y.useEffect)(()=>{let r={nodes:n,edges:o};e?.(r),t.getState().onSelectionChangeHandlers.forEach(e=>e(r))},[n,o,e]),null}let tV=e=>!!e.onSelectionChangeHandlers;function tF({onSelectionChange:e}){let t=tN(tV);return e||t?(0,x.jsx)(tH,{onSelectionChange:e}):null}let tZ=[0,0],tW={x:0,y:0,zoom:1},tX=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode","rfId"],tK=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),tY={translateExtent:O,nodeOrigin:tZ,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function tq(e){let{setNodes:t,setEdges:n,setMinZoom:o,setMaxZoom:r,setTranslateExtent:i,setNodeExtent:a,reset:l,setDefaultNodesAndEdges:s}=tN(tK,tw),d=tk();(0,y.useEffect)(()=>(s(e.defaultNodes,e.defaultEdges),()=>{c.current=tY,l()}),[]);let c=(0,y.useRef)(tY);return(0,y.useEffect)(()=>{for(let l of tX){let s=e[l];if(s!==c.current[l]&&void 0!==e[l])if("nodes"===l)t(s);else if("edges"===l)n(s);else if("minZoom"===l)o(s);else if("maxZoom"===l)r(s);else if("translateExtent"===l)i(s);else if("nodeExtent"===l)a(s);else if("ariaLabelConfig"===l)d.setState({ariaLabelConfig:{...B,...s||{}}});else"fitView"===l?d.setState({fitViewQueued:s}):"fitViewOptions"===l?d.setState({fitViewOptions:s}):d.setState({[l]:s})}c.current=e},tX.map(t=>e[t])),null}function tU(){return"undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null}let tG="undefined"!=typeof document?document:null;function tQ(e=null,t={target:tG,actInsideInputWithModifier:!0}){let[n,o]=(0,y.useState)(!1),r=(0,y.useRef)(!1),i=(0,y.useRef)(new Set([])),[a,l]=(0,y.useMemo)(()=>{if(null!==e){let t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.replace("+","\n").replace("\n\n","\n+").split("\n")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,y.useEffect)(()=>{let n=t?.target??tG,s=t?.actInsideInputWithModifier??!0;if(null!==e){let e=e=>{if(r.current=e.ctrlKey||e.metaKey||e.shiftKey||e.altKey,(!r.current||r.current&&!s)&&ek(e))return!1;let n=t0(e.code,l);if(i.current.add(e[n]),tJ(a,i.current,!1)){let n=e.composedPath?.()?.[0]||e.target,i=n?.nodeName==="BUTTON"||n?.nodeName==="A";!1!==t.preventDefault&&(r.current||!i)&&e.preventDefault(),o(!0)}},d=e=>{let t=t0(e.code,l);tJ(a,i.current,!0)?(o(!1),i.current.clear()):i.current.delete(e[t]),"Meta"===e.key&&i.current.clear(),r.current=!1},c=()=>{i.current.clear(),o(!1)};return n?.addEventListener("keydown",e),n?.addEventListener("keyup",d),window.addEventListener("blur",c),window.addEventListener("contextmenu",c),()=>{n?.removeEventListener("keydown",e),n?.removeEventListener("keyup",d),window.removeEventListener("blur",c),window.removeEventListener("contextmenu",c)}}},[e,o]),n}function tJ(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function t0(e,t){return t.includes(e)?"code":"key"}function t1(e,t){let n=[],o=new Map,r=[];for(let t of e)if("add"===t.type){r.push(t);continue}else if("remove"===t.type||"replace"===t.type)o.set(t.id,[t]);else{let e=o.get(t.id);e?e.push(t):o.set(t.id,[t])}for(let e of t){let t=o.get(e.id);if(!t){n.push(e);continue}if("remove"===t[0].type)continue;if("replace"===t[0].type){n.push({...t[0].item});continue}let r={...e};for(let e of t){var i=e,a=r;switch(i.type){case"select":a.selected=i.selected;break;case"position":void 0!==i.position&&(a.position=i.position),void 0!==i.dragging&&(a.dragging=i.dragging);break;case"dimensions":void 0!==i.dimensions&&(a.measured={...i.dimensions},i.setAttributes&&((!0===i.setAttributes||"width"===i.setAttributes)&&(a.width=i.dimensions.width),(!0===i.setAttributes||"height"===i.setAttributes)&&(a.height=i.dimensions.height))),"boolean"==typeof i.resizing&&(a.resizing=i.resizing)}}n.push(r)}return r.length&&r.forEach(e=>{void 0!==e.index?n.splice(e.index,0,{...e.item}):n.push({...e.item})}),n}function t2(e,t){return{id:e,type:"select",selected:t}}function t5(e,t=new Set,n=!1){let o=[];for(let[r,i]of e){let e=t.has(r);(void 0!==i.selected||e)&&i.selected!==e&&(n&&(i.selected=e),o.push(t2(i.id,e)))}return o}function t3({items:e=[],lookup:t}){let n=[],o=new Map(e.map(e=>[e.id,e]));for(let[o,r]of e.entries()){let e=t.get(r.id),i=e?.internals?.userNode??e;void 0!==i&&i!==r&&n.push({id:r.id,item:r,type:"replace"}),void 0===i&&n.push({item:r,type:"add",index:o})}for(let[e]of t)void 0===o.get(e)&&n.push({id:e,type:"remove"});return n}function t4(e){return{id:e.id,type:"remove"}}let t6=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e);function t8(e){return(0,y.forwardRef)(e)}let t7="undefined"!=typeof window?y.useLayoutEffect:y.useEffect;function t9(e){let[t,n]=(0,y.useState)(BigInt(0)),[o]=(0,y.useState)(()=>{var e;let t;return e=()=>n(e=>e+BigInt(1)),t=[],{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}});return t7(()=>{let t=o.get();t.length&&(e(t),o.reset())},[t]),o}let ne=(0,y.createContext)(null);function nt({children:e}){let t=tk(),n=t9((0,y.useCallback)(e=>{let{nodes:n=[],setNodes:o,hasDefaultNodes:r,onNodesChange:i,nodeLookup:a,fitViewQueued:l,onNodesChangeMiddlewareMap:s}=t.getState(),d=n;for(let t of e)d="function"==typeof t?t(d):t;let c=t3({items:d,lookup:a});for(let e of s.values())c=e(c);r&&o(d),c.length>0?i?.(c):l&&window.requestAnimationFrame(()=>{let{fitViewQueued:e,nodes:n,setNodes:o}=t.getState();e&&o(n)})},[])),o=t9((0,y.useCallback)(e=>{let{edges:n=[],setEdges:o,hasDefaultEdges:r,onEdgesChange:i,edgeLookup:a}=t.getState(),l=n;for(let t of e)l="function"==typeof t?t(l):t;r?o(l):i&&i(t3({items:l,lookup:a}))},[])),r=(0,y.useMemo)(()=>({nodeQueue:n,edgeQueue:o}),[]);return(0,x.jsx)(ne.Provider,{value:r,children:e})}let nn=e=>!!e.panZoom;function no(){let e,t=(e=tk(),(0,y.useMemo)(()=>({zoomIn:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{let{panZoom:o}=e.getState();return o?o.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{let{transform:[o,r,i],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??o,y:t.y??r,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{let[t,n,o]=e.getState().transform;return{x:t,y:n,zoom:o}},setCenter:async(t,n,o)=>e.getState().setCenter(t,n,o),fitBounds:async(t,n)=>{let{width:o,height:r,minZoom:i,maxZoom:a,panZoom:l}=e.getState(),s=em(t,o,r,i,a,n?.padding??.1);return l?(await l.setViewport(s,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{let{transform:o,snapGrid:r,snapToGrid:i,domNode:a}=e.getState();if(!a)return t;let{x:l,y:s}=a.getBoundingClientRect(),d={x:t.x-l,y:t.y-s},c=n.snapGrid??r;return ef(d,o,n.snapToGrid??i,c)},flowToScreenPosition:t=>{let{transform:n,domNode:o}=e.getState();if(!o)return t;let{x:r,y:i}=o.getBoundingClientRect(),a=ep(t,n);return{x:a.x+r,y:a.y+i}}}),[])),n=tk(),o=function(){let e=(0,y.useContext)(ne);if(!e)throw Error("useBatchContext must be used within a BatchProvider");return e}(),r=tN(nn),i=(0,y.useMemo)(()=>{let e=e=>n.getState().nodeLookup.get(e),t=e=>{o.nodeQueue.push(e)},r=e=>{o.edgeQueue.push(e)},i=e=>{let{nodeLookup:t,nodeOrigin:o}=n.getState(),r=t6(e)?e:t.get(e.id),i=r.parentId?ew(r.position,r.measured,r.parentId,t,o):r.position;return ei({...r,position:i,width:r.measured?.width??r.width,height:r.measured?.height??r.height})},a=(e,n,o={replace:!1})=>{t(t=>t.map(t=>{if(t.id===e){let e="function"==typeof n?n(t):n;return o.replace&&t6(e)?e:{...t,...e}}return t}))},l=(e,t,n={replace:!1})=>{r(o=>o.map(o=>{if(o.id===e){let e="function"==typeof t?t(o):t;return n.replace&&F(e)?e:{...o,...e}}return o}))};return{getNodes:()=>n.getState().nodes.map(e=>({...e})),getNode:t=>e(t)?.internals.userNode,getInternalNode:e,getEdges:()=>{let{edges:e=[]}=n.getState();return e.map(e=>({...e}))},getEdge:e=>n.getState().edgeLookup.get(e),setNodes:t,setEdges:r,addNodes:e=>{let t=Array.isArray(e)?e:[e];o.nodeQueue.push(e=>[...e,...t])},addEdges:e=>{let t=Array.isArray(e)?e:[e];o.edgeQueue.push(e=>[...e,...t])},toObject:()=>{let{nodes:e=[],edges:t=[],transform:o}=n.getState(),[r,i,a]=o;return{nodes:e.map(e=>({...e})),edges:t.map(e=>({...e})),viewport:{x:r,y:i,zoom:a}}},deleteElements:async({nodes:e=[],edges:t=[]})=>{let{nodes:o,edges:r,onNodesDelete:i,onEdgesDelete:a,triggerNodeChanges:l,triggerEdgeChanges:s,onDelete:d,onBeforeDelete:c}=n.getState(),{nodes:u,edges:h}=await U({nodesToRemove:e,edgesToRemove:t,nodes:o,edges:r,onBeforeDelete:c}),f=h.length>0,p=u.length>0;if(f){let e=h.map(t4);a?.(h),s(e)}if(p){let e=u.map(t4);i?.(u),l(e)}return(p||f)&&d?.({nodes:u,edges:h}),{deletedNodes:u,deletedEdges:h}},getIntersectingNodes:(e,t=!0,o)=>{let r=ed(e),a=r?e:i(e),l=void 0!==o;return a?(o||n.getState().nodes).filter(o=>{let i=n.getState().nodeLookup.get(o.id);if(i&&!r&&(o.id===e.id||!i.internals.positionAbsolute))return!1;let s=ei(l?o:i),d=es(s,a);return t&&d>0||d>=s.width*s.height||d>=a.width*a.height}):[]},isNodeIntersecting:(e,t,n=!0)=>{let o=ed(e)?e:i(e);if(!o)return!1;let r=es(o,t);return n&&r>0||r>=t.width*t.height||r>=o.width*o.height},updateNode:a,updateNodeData:(e,t,n={replace:!1})=>{a(e,e=>{let o="function"==typeof t?t(e):t;return n.replace?{...e,data:o}:{...e,data:{...e.data,...o}}},n)},updateEdge:l,updateEdgeData:(e,t,n={replace:!1})=>{l(e,e=>{let o="function"==typeof t?t(e):t;return n.replace?{...e,data:o}:{...e,data:{...e.data,...o}}},n)},getNodesBounds:e=>{let{nodeLookup:t,nodeOrigin:o}=n.getState();return((e,t={nodeOrigin:[0,0]})=>0===e.length?{x:0,y:0,width:0,height:0}:er(e.reduce((e,n)=>{let o="string"==typeof n,r=t.nodeLookup||o?void 0:n;return t.nodeLookup&&(r=o?t.nodeLookup.get(n):Z(n)?n:t.nodeLookup.get(n.id)),en(e,r?ea(r,t.nodeOrigin):{x:0,y:0,x2:0,y2:0})},{x:1/0,y:1/0,x2:-1/0,y2:-1/0})))(e,{nodeLookup:t,nodeOrigin:o})},getHandleConnections:({type:e,id:t,nodeId:o})=>Array.from(n.getState().connectionLookup.get(`${o}-${e}${t?`-${t}`:""}`)?.values()??[]),getNodeConnections:({type:e,handleId:t,nodeId:o})=>Array.from(n.getState().connectionLookup.get(`${o}${e?t?`-${e}-${t}`:`-${e}`:""}`)?.values()??[]),fitView:async e=>{let t,r,i=n.getState().fitViewResolver??{promise:new Promise((e,n)=>{t=e,r=n}),resolve:t,reject:r};return n.setState({fitViewQueued:!0,fitViewOptions:e,fitViewResolver:i}),o.nodeQueue.push(e=>[...e]),i.promise}}},[]);return(0,y.useMemo)(()=>({...i,...t,viewportInitialized:r}),[r])}let nr=e=>e.selected,ni="undefined"!=typeof window?window:void 0,na={position:"absolute",width:"100%",height:"100%",top:0,left:0},nl=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function ns({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:o=!1,panOnScrollSpeed:r=.5,panOnScrollMode:i=c.Free,zoomOnDoubleClick:a=!0,panOnDrag:l=!0,defaultViewport:s,translateExtent:d,minZoom:u,maxZoom:h,zoomActivationKeyCode:f,preventScrolling:p=!0,children:g,noWheelClassName:m,noPanClassName:b,onViewportChange:v,isControlledViewport:M,paneClickDistance:E,selectionOnDrag:C}){let N,k=tk(),j=(0,y.useRef)(null),{userSelectionActive:P,lib:I,connectionInProgress:A}=tN(nl,tw),z=tQ(f),O=(0,y.useRef)();N=tk(),(0,y.useEffect)(()=>{let e=()=>{if(!j.current||!(j.current.checkVisibility?.()??!0))return!1;let e=eE(j.current);(0===e.height||0===e.width)&&N.getState().onError?.("004","The React Flow parent container needs a width and a height to render the graph."),N.setState({width:e.width||500,height:e.height||500})};if(j.current){e(),window.addEventListener("resize",e);let t=new ResizeObserver(()=>e());return t.observe(j.current),()=>{window.removeEventListener("resize",e),t&&j.current&&t.unobserve(j.current)}}},[]);let L=(0,y.useCallback)(e=>{v?.({x:e[0],y:e[1],zoom:e[2]}),M||k.setState({transform:e})},[v,M]);return(0,y.useEffect)(()=>{if(j.current){O.current=function({domNode:e,minZoom:t,maxZoom:n,translateExtent:o,viewport:r,onPanZoom:i,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:s}){let d={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},u=e.getBoundingClientRect(),h=(0,$.default)().scaleExtent([t,n]).translateExtent(o),f=(0,w.select)(e).call(h);y({x:r.x,y:r.y,zoom:G(r.zoom,t,n)},[[0,0],[u.width,u.height]],o);let p=f.on("wheel.zoom"),g=f.on("dblclick.zoom");function m(e,t){return f?new Promise(n=>{h?.interpolate(t?.interpolate==="linear"?D.interpolate:R.interpolateZoom).transform(ti(f,t?.duration,t?.ease,()=>n(!0)),e)}):Promise.resolve(!1)}function x(){h.on("zoom",null)}async function y(e,t,n){let o=tt(e),r=h?.constrain()(o,t,n);return r&&await m(r),new Promise(e=>e(r))}return h.wheelDelta(ta),{update:function({noWheelClassName:e,noPanClassName:t,onPaneContextMenu:n,userSelectionActive:o,panOnScroll:r,panOnDrag:u,panOnScrollMode:m,panOnScrollSpeed:y,preventScrolling:b,zoomOnPinch:v,zoomOnScroll:w,zoomOnDoubleClick:M,zoomActivationKeyPressed:E,lib:C,onTransformChange:N,connectionInProgress:k,paneClickDistance:j,selectionOnDrag:P}){o&&!d.isZoomingOrPanning&&x();let I=r&&!E&&!o;h.clickDistance(P?1/0:!ec(j)||j<0?0:j);let A=I?function({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:o,panOnScrollMode:r,panOnScrollSpeed:i,zoomOnPinch:a,onPanZoomStart:l,onPanZoom:s,onPanZoomEnd:d}){return u=>{if(tn(u,t))return u.ctrlKey&&u.preventDefault(),!1;u.preventDefault(),u.stopImmediatePropagation();let h=n.property("__zoom").k||1;if(u.ctrlKey&&a){let e=(0,S.pointer)(u),t=h*Math.pow(2,ta(u));o.scaleTo(n,t,e,u);return}let f=1===u.deltaMode?20:1,p=r===c.Vertical?0:u.deltaX*f,g=r===c.Horizontal?0:u.deltaY*f;!ex()&&u.shiftKey&&r!==c.Vertical&&(p=u.deltaY*f,g=0),o.translateBy(n,-(p/h)*i,-(g/h)*i,{internal:!0});let m=te(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(s?.(u,m),e.panScrollTimeout=setTimeout(()=>{d?.(u,m),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l?.(u,m))}}({zoomPanValues:d,noWheelClassName:e,d3Selection:f,d3Zoom:h,panOnScrollMode:m,panOnScrollSpeed:y,zoomOnPinch:v,onPanZoomStart:a,onPanZoom:i,onPanZoomEnd:l}):function({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(o,r){let i="wheel"===o.type,a=!t&&i&&!o.ctrlKey,l=tn(o,e);if(o.ctrlKey&&i&&l&&o.preventDefault(),a||l)return null;o.preventDefault(),n.call(this,o,r)}}({noWheelClassName:e,preventScrolling:b,d3ZoomHandler:p});if(f.on("wheel.zoom",A,{passive:!1}),!o){let e=function({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return o=>{if(o.sourceEvent?.internal)return;let r=te(o.transform);e.mouseButton=o.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=r,o.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(o.sourceEvent,r)}}({zoomPanValues:d,onDraggingChange:s,onPanZoomStart:a});h.on("start",e);let t=function({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:o,onPanZoom:r}){return i=>{e.usedRightMouseButton=!!(n&&to(t,e.mouseButton??0)),i.sourceEvent?.sync||o([i.transform.x,i.transform.y,i.transform.k]),r&&!i.sourceEvent?.internal&&r?.(i.sourceEvent,te(i.transform))}}({zoomPanValues:d,panOnDrag:u,onPaneContextMenu:!!n,onPanZoom:i,onTransformChange:N});h.on("zoom",t);let o=function({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:o,onPanZoomEnd:r,onPaneContextMenu:i}){return a=>{if(!a.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,i&&to(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&i(a.sourceEvent),e.usedRightMouseButton=!1,o(!1),r)){let t=te(a.transform);e.prevViewport=t,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{r?.(a.sourceEvent,t)},150*!!n)}}}({zoomPanValues:d,panOnDrag:u,panOnScroll:r,onPaneContextMenu:n,onPanZoomEnd:l,onDraggingChange:s});h.on("end",o)}let $=function({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:o,panOnScroll:r,zoomOnDoubleClick:i,userSelectionActive:a,noWheelClassName:l,noPanClassName:s,lib:d,connectionInProgress:c}){return u=>{let h=e||t,f=n&&u.ctrlKey,p="wheel"===u.type;if(1===u.button&&"mousedown"===u.type&&(tn(u,`${d}-flow__node`)||tn(u,`${d}-flow__edge`)))return!0;if(!o&&!h&&!r&&!i&&!n||a||c&&!p||tn(u,l)&&p||tn(u,s)&&(!p||r&&p&&!e)||!n&&u.ctrlKey&&p)return!1;if(!n&&"touchstart"===u.type&&u.touches?.length>1)return u.preventDefault(),!1;if(!h&&!r&&!f&&p||!o&&("mousedown"===u.type||"touchstart"===u.type)||Array.isArray(o)&&!o.includes(u.button)&&"mousedown"===u.type)return!1;let g=Array.isArray(o)&&o.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||p)&&g}}({zoomActivationKeyPressed:E,panOnDrag:u,zoomOnScroll:w,panOnScroll:r,zoomOnDoubleClick:M,zoomOnPinch:v,userSelectionActive:o,noPanClassName:t,noWheelClassName:e,lib:C,connectionInProgress:k});h.filter($),M?f.on("dblclick.zoom",g):f.on("dblclick.zoom",null)},destroy:x,setViewport:async function e(e,t){let n=tt(e);return await m(n,t),new Promise(e=>e(n))},setViewportConstrained:y,getViewport:function(){let e=f?(0,_.default)(f.node()):{x:0,y:0,k:1};return{x:e.x,y:e.y,zoom:e.k}},scaleTo:function(e,t){return f?new Promise(n=>{h?.interpolate(t?.interpolate==="linear"?D.interpolate:R.interpolateZoom).scaleTo(ti(f,t?.duration,t?.ease,()=>n(!0)),e)}):Promise.resolve(!1)},scaleBy:function(e,t){return f?new Promise(n=>{h?.interpolate(t?.interpolate==="linear"?D.interpolate:R.interpolateZoom).scaleBy(ti(f,t?.duration,t?.ease,()=>n(!0)),e)}):Promise.resolve(!1)},setScaleExtent:function(e){h?.scaleExtent(e)},setTranslateExtent:function(e){h?.translateExtent(e)},syncViewport:function(e){if(f){let t=tt(e),n=f.property("__zoom");(n.k!==e.zoom||n.x!==e.x||n.y!==e.y)&&h?.transform(f,t,null,{sync:!0})}},setClickDistance:function(e){let t=!ec(e)||e<0?0:e;h?.clickDistance(t)}}}({domNode:j.current,minZoom:u,maxZoom:h,translateExtent:d,viewport:s,onDraggingChange:e=>k.setState({paneDragging:e}),onPanZoomStart:(e,t)=>{let{onViewportChangeStart:n,onMoveStart:o}=k.getState();o?.(e,t),n?.(t)},onPanZoom:(e,t)=>{let{onViewportChange:n,onMove:o}=k.getState();o?.(e,t),n?.(t)},onPanZoomEnd:(e,t)=>{let{onViewportChangeEnd:n,onMoveEnd:o}=k.getState();o?.(e,t),n?.(t)}});let{x:e,y:t,zoom:n}=O.current.getViewport();return k.setState({panZoom:O.current,transform:[e,t,n],domNode:j.current.closest(".react-flow")}),()=>{O.current?.destroy()}}},[]),(0,y.useEffect)(()=>{O.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:o,panOnScrollSpeed:r,panOnScrollMode:i,zoomOnDoubleClick:a,panOnDrag:l,zoomActivationKeyPressed:z,preventScrolling:p,noPanClassName:b,userSelectionActive:P,noWheelClassName:m,lib:I,onTransformChange:L,connectionInProgress:A,selectionOnDrag:C,paneClickDistance:E})},[e,t,n,o,r,i,a,l,z,p,b,P,m,I,L,A,C,E]),(0,x.jsx)("div",{className:"react-flow__renderer",ref:j,style:na,children:g})}let nd=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function nc(){let{userSelectionActive:e,userSelectionRect:t}=tN(nd,tw);return e&&t?(0,x.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}let nu=(e,t)=>n=>{n.target===t.current&&e?.(n)},nh=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function nf({isSelecting:e,selectionKeyPressed:t,selectionMode:n=u.Full,panOnDrag:o,paneClickDistance:r,selectionOnDrag:i,onSelectionStart:a,onSelectionEnd:l,onPaneClick:s,onPaneContextMenu:d,onPaneScroll:c,onPaneMouseEnter:h,onPaneMouseMove:f,onPaneMouseLeave:p,children:g}){let m=tk(),{userSelectionActive:v,elementsSelectable:w,dragging:S,connectionInProgress:M}=tN(nh,tw),E=w&&(e||v),C=(0,y.useRef)(null),N=(0,y.useRef)(),k=(0,y.useRef)(new Set),j=(0,y.useRef)(new Set),P=(0,y.useRef)(!1),I=e=>{if(P.current||M){P.current=!1;return}s?.(e),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},A=!0===o||Array.isArray(o)&&o.includes(0);return(0,x.jsxs)("div",{className:b(["react-flow__pane",{draggable:A,dragging:S,selection:e}]),onClick:E?void 0:nu(I,C),onContextMenu:nu(e=>{Array.isArray(o)&&o?.includes(2)?e.preventDefault():d?.(e)},C),onWheel:nu(c?e=>c(e):void 0,C),onPointerEnter:E?void 0:h,onPointerMove:E?e=>{let{userSelectionRect:o,transform:i,nodeLookup:l,edgeLookup:s,connectionLookup:d,triggerNodeChanges:c,triggerEdgeChanges:h,defaultEdgeOptions:f,resetSelectedElements:p}=m.getState();if(!N.current||!o)return;let{x:g,y:x}=ej(e.nativeEvent,N.current),{startX:y,startY:b}=o;if(!P.current){if(Math.hypot(g-y,x-b)<=(t?0:r))return;p(),a?.(e)}P.current=!0;let v={startX:y,startY:b,x:g<y?g:y,y:x<b?x:b,width:Math.abs(g-y),height:Math.abs(x-b)},w=k.current,S=j.current;k.current=new Set(K(l,v,i,n===u.Partial,!0).map(e=>e.id)),j.current=new Set;let M=f?.selectable??!0;for(let e of k.current){let t=d.get(e);if(t)for(let{edgeId:e}of t.values()){let t=s.get(e);t&&(t.selectable??M)&&j.current.add(e)}}eS(w,k.current)||c(t5(l,k.current,!0)),eS(S,j.current)||h(t5(s,j.current)),m.setState({userSelectionRect:v,userSelectionActive:!0,nodesSelectionActive:!1})}:f,onPointerUp:E?e=>{0===e.button&&(e.target?.releasePointerCapture?.(e.pointerId),!v&&e.target===C.current&&m.getState().userSelectionRect&&I?.(e),m.setState({userSelectionActive:!1,userSelectionRect:null}),P.current&&(l?.(e),m.setState({nodesSelectionActive:k.current.size>0})))}:void 0,onPointerDownCapture:E?n=>{let{domNode:o}=m.getState();if(N.current=o?.getBoundingClientRect(),!N.current)return;let r=n.target===C.current;if(!r&&n.target.closest(".nokey")||!e||!(i&&r||t)||0!==n.button||!n.isPrimary)return;n.target?.setPointerCapture?.(n.pointerId),P.current=!1;let{x:a,y:l}=ej(n.nativeEvent,N.current);m.setState({userSelectionRect:{width:0,height:0,startX:a,startY:l,x:a,y:l}}),r||(n.stopPropagation(),n.preventDefault())}:void 0,onClickCapture:E?e=>{P.current&&(e.stopPropagation(),P.current=!1)}:void 0,onPointerLeave:p,ref:C,style:na,children:[g,(0,x.jsx)(nc,{})]})}function np({id:e,store:t,unselect:n=!1,nodeRef:o}){let r,{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:l,nodeLookup:s,onError:d}=t.getState(),c=s.get(e);c?(t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&l)&&(a({nodes:[c],edges:[]}),requestAnimationFrame(()=>o?.current?.blur())):i([e])):d?.("012",(r=e,`Node with id "${r}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`))}function ng({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:o,nodeId:r,isSelectable:i,nodeClickDistance:a}){let l=tk(),[s,d]=(0,y.useState)(!1),c=(0,y.useRef)();return(0,y.useEffect)(()=>{c.current=function({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:o,onDragStop:r}){let i={x:null,y:null},a=0,l=new Map,s=!1,d={x:0,y:0},c=null,u=!1,h=null,f=!1,p=!1,g=null;return{update:function({noDragClassName:m,handleSelector:x,domNode:y,isSelectable:b,nodeId:v,nodeClickDistance:S=0}){function M({x:e,y:n}){let{nodeLookup:r,nodeExtent:a,snapGrid:s,snapToGrid:d,nodeOrigin:c,onNodeDrag:u,onSelectionDrag:h,onError:f,updateNodePositions:m}=t();i={x:e,y:n};let x=!1,y=l.size>1,b=y&&a?eo(X(l)):null,w=y&&d?function({dragItems:e,snapGrid:t,x:n,y:o}){let r=e.values().next().value;if(!r)return null;let i={x:n-r.distance.x,y:o-r.distance.y},a=eh(i,t);return{x:a.x-i.x,y:a.y-i.y}}({dragItems:l,snapGrid:s,x:e,y:n}):null;for(let[t,o]of l){if(!r.has(t))continue;let i={x:e-o.distance.x,y:n-o.distance.y};d&&(i=w?{x:Math.round(i.x+w.x),y:Math.round(i.y+w.y)}:eh(i,s));let l=null;if(y&&a&&!o.extent&&b){let{positionAbsolute:e}=o.internals,t=e.x-b.x+a[0][0],n=e.x+o.measured.width-b.x2+a[1][0];l=[[t,e.y-b.y+a[0][1]],[n,e.y+o.measured.height-b.y2+a[1][1]]]}let{position:u,positionAbsolute:h}=q({nodeId:t,nextPosition:i,nodeLookup:r,nodeExtent:l||a,nodeOrigin:c,onError:f});x=x||o.position.x!==u.x||o.position.y!==u.y,o.position=u,o.internals.positionAbsolute=h}if(p=p||x,x&&(m(l,!0),g&&(o||u||!v&&h))){let[e,t]=e3({nodeId:v,dragItems:l,nodeLookup:r});o?.(g,l,e,t),u?.(g,e,t),v||h?.(g,t)}}async function E(){if(!c)return;let{transform:e,panBy:n,autoPanSpeed:o,autoPanOnNodeDrag:r}=t();if(!r){s=!1,cancelAnimationFrame(a);return}let[l,u]=et(d,c,o);(0!==l||0!==u)&&(i.x=(i.x??0)-l/e[2],i.y=(i.y??0)-u/e[2],await n({x:l,y:u})&&M(i)),a=requestAnimationFrame(E)}function C(o){let{nodeLookup:r,multiSelectionActive:a,nodesDraggable:s,transform:d,snapGrid:h,snapToGrid:f,selectNodesOnDrag:p,onNodeDragStart:g,onSelectionDragStart:m,unselectNodesAndEdges:x}=t();u=!0,p&&b||a||!v||r.get(v)?.selected||x(),b&&p&&v&&e?.(v);let y=eM(o.sourceEvent,{transform:d,snapGrid:h,snapToGrid:f,containerBounds:c});if(i=y,(l=function(e,t,n,o){let r=new Map;for(let[i,a]of e)if((a.selected||a.id===o)&&(!a.parentId||!function e(t,n){if(!t.parentId)return!1;let o=n.get(t.parentId);return!!o&&(!!o.selected||e(o,n))}(a,e))&&(a.draggable||t&&void 0===a.draggable)){let t=e.get(i);t&&r.set(i,{id:i,position:t.position||{x:0,y:0},distance:{x:n.x-t.internals.positionAbsolute.x,y:n.y-t.internals.positionAbsolute.y},extent:t.extent,parentId:t.parentId,origin:t.origin,expandParent:t.expandParent,internals:{positionAbsolute:t.internals.positionAbsolute||{x:0,y:0}},measured:{width:t.measured.width??0,height:t.measured.height??0}})}return r}(r,s,y,v)).size>0&&(n||g||!v&&m)){let[e,t]=e3({nodeId:v,dragItems:l,nodeLookup:r});n?.(o.sourceEvent,l,e,t),g?.(o.sourceEvent,e,t),v||m?.(o.sourceEvent,t)}}h=(0,w.select)(y);let N=A().clickDistance(S).on("start",e=>{let{domNode:n,nodeDragThreshold:o,transform:r,snapGrid:a,snapToGrid:l}=t();c=n?.getBoundingClientRect()||null,f=!1,p=!1,g=e.sourceEvent,0===o&&C(e),i=eM(e.sourceEvent,{transform:r,snapGrid:a,snapToGrid:l,containerBounds:c}),d=ej(e.sourceEvent,c)}).on("drag",e=>{let{autoPanOnNodeDrag:n,transform:o,snapGrid:r,snapToGrid:a,nodeDragThreshold:h,nodeLookup:p}=t(),m=eM(e.sourceEvent,{transform:o,snapGrid:r,snapToGrid:a,containerBounds:c});if(g=e.sourceEvent,("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1||v&&!p.has(v))&&(f=!0),!f){if(!s&&n&&u&&(s=!0,E()),!u){let t=ej(e.sourceEvent,c),n=t.x-d.x,o=t.y-d.y;Math.sqrt(n*n+o*o)>h&&C(e)}(i.x!==m.xSnapped||i.y!==m.ySnapped)&&l&&u&&(d=ej(e.sourceEvent,c),M(m))}}).on("end",e=>{if(u&&!f&&(s=!1,u=!1,cancelAnimationFrame(a),l.size>0)){let{nodeLookup:n,updateNodePositions:o,onNodeDragStop:i,onSelectionDragStop:a}=t();if(p&&(o(l,!1),p=!1),r||i||!v&&a){let[t,o]=e3({nodeId:v,dragItems:l,nodeLookup:n,dragging:!1});r?.(e.sourceEvent,l,t,o),i?.(e.sourceEvent,t,o),v||a?.(e.sourceEvent,o)}}}).filter(e=>{let t=e.target;return!e.button&&(!m||!e5(t,`.${m}`,y))&&(!x||e5(t,x,y))});h.call(N)},destroy:function(){h?.on(".drag",null)}}}({getStoreItems:()=>l.getState(),onNodeMouseDown:t=>{np({id:t,store:l,nodeRef:e})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),(0,y.useEffect)(()=>{if(t)c.current?.destroy();else if(e.current)return c.current?.update({noDragClassName:n,handleSelector:o,domNode:e.current,isSelectable:i,nodeId:r,nodeClickDistance:a}),()=>{c.current?.destroy()}},[n,o,t,i,e,r]),s}function nm(){let e=tk();return(0,y.useCallback)(t=>{let{nodeExtent:n,snapToGrid:o,snapGrid:r,nodesDraggable:i,onError:a,updateNodePositions:l,nodeLookup:s,nodeOrigin:d}=e.getState(),c=new Map,u=e=>e.selected&&(e.draggable||i&&void 0===e.draggable),h=o?r[0]:5,f=o?r[1]:5,p=t.direction.x*h*t.factor,g=t.direction.y*f*t.factor;for(let[,e]of s){if(!u(e))continue;let t={x:e.internals.positionAbsolute.x+p,y:e.internals.positionAbsolute.y+g};o&&(t=eh(t,r));let{position:i,positionAbsolute:l}=q({nodeId:e.id,nextPosition:t,nodeLookup:s,nodeExtent:n,nodeOrigin:d,onError:a});e.position=i,e.internals.positionAbsolute=l,c.set(e.id,e)}l(c)},[])}let nx=(0,y.createContext)(null),ny=nx.Provider;nx.Consumer;let nb=()=>(0,y.useContext)(nx),nv=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),nw=(0,y.memo)(t8(function({type:e="source",position:t=p.Top,isValidConnection:n,isConnectable:o=!0,isConnectableStart:r=!0,isConnectableEnd:i=!0,id:a,onConnect:l,children:s,className:c,onMouseDown:u,onTouchStart:h,...f},g){let m=a||null,y="target"===e,v=tk(),w=nb(),{connectOnClick:S,noPanClassName:M,rfId:E}=tN(nv,tw),{connectingFrom:C,connectingTo:N,clickConnecting:k,isPossibleEndHandle:j,connectionInProcess:P,clickConnectionInProcess:I,valid:A}=tN(t=>{let{connectionClickStartHandle:n,connectionMode:o,connection:r}=t,{fromHandle:i,toHandle:a,isValid:l}=r,s=a?.nodeId===w&&a?.id===m&&a?.type===e;return{connectingFrom:i?.nodeId===w&&i?.id===m&&i?.type===e,connectingTo:s,clickConnecting:n?.nodeId===w&&n?.id===m&&n?.type===e,isPossibleEndHandle:o===d.Strict?i?.type!==e:w!==i?.nodeId||m!==i?.id,connectionInProcess:!!i,clickConnectionInProcess:!!n,valid:s&&l}},tw);w||v.getState().onError?.("010","Handle: No node id found. Make sure to only use a Handle inside a custom Node.");let $=e=>{let{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:o}=v.getState(),r={...t,...e};if(o){let{edges:e,setEdges:t}=v.getState();t(((e,t,n={})=>{let o,r;if(!e.source||!e.target)return eu("006","Can't create edge. An edge needs a source and a target."),t;let i=n.getEdgeId||eR;return(r=o=F(e)?{...e}:{...e,id:i(e)},t.some(e=>e.source===r.source&&e.target===r.target&&(e.sourceHandle===r.sourceHandle||!e.sourceHandle&&!r.sourceHandle)&&(e.targetHandle===r.targetHandle||!e.targetHandle&&!r.targetHandle)))?t:(null===o.sourceHandle&&delete o.sourceHandle,null===o.targetHandle&&delete o.targetHandle,t.concat(o))})(r,e))}n?.(r),l?.(r)},z=e=>{if(!w)return;let t="clientX"in e.nativeEvent;if(r&&(t&&0===e.button||!t)){let t=v.getState();e9(e.nativeEvent,{handleDomNode:e.currentTarget,autoPanOnConnect:t.autoPanOnConnect,connectionMode:t.connectionMode,connectionRadius:t.connectionRadius,domNode:t.domNode,nodeLookup:t.nodeLookup,lib:t.lib,isTarget:y,handleId:m,nodeId:w,flowId:t.rfId,panBy:t.panBy,cancelConnection:t.cancelConnection,onConnectStart:t.onConnectStart,onConnectEnd:t.onConnectEnd,updateConnection:t.updateConnection,onConnect:$,isValidConnection:n||t.isValidConnection,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,autoPanSpeed:t.autoPanSpeed,dragThreshold:t.connectionDragThreshold})}t?u?.(e):h?.(e)};return(0,x.jsx)("div",{"data-handleid":m,"data-nodeid":w,"data-handlepos":t,"data-id":`${E}-${w}-${m}-${e}`,className:b(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",M,c,{source:!y,target:y,connectable:o,connectablestart:r,connectableend:i,clickconnecting:k,connectingfrom:C,connectingto:N,valid:A,connectionindicator:o&&(!P||j)&&(P||I?i:r)}]),onMouseDown:z,onTouchStart:z,onClick:S?t=>{let{onClickConnectStart:o,onClickConnectEnd:i,connectionClickStartHandle:a,connectionMode:l,isValidConnection:s,lib:d,rfId:c,nodeLookup:u,connection:h}=v.getState();if(!w||!a&&!r)return;if(!a){o?.(t.nativeEvent,{nodeId:w,handleId:m,handleType:e}),v.setState({connectionClickStartHandle:{nodeId:w,type:e,id:m}});return}let f=eC(t.target),p=n||s,{connection:g,isValid:x}=e7(t.nativeEvent,{handle:{nodeId:w,id:m,type:e},connectionMode:l,fromNodeId:a.nodeId,fromHandleId:a.id||null,fromType:a.type,isValidConnection:p,flowId:c,doc:f,lib:d,nodeLookup:u});x&&g&&$(g);let y=structuredClone(h);delete y.inProgress,y.toPosition=y.toHandle?y.toHandle.position:null,i?.(t,y),v.setState({connectionClickStartHandle:null})}:void 0,ref:g,...f,children:s})})),nS={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},nM={input:function({data:e,isConnectable:t,sourcePosition:n=p.Bottom}){return(0,x.jsxs)(x.Fragment,{children:[e?.label,(0,x.jsx)(nw,{type:"source",position:n,isConnectable:t})]})},default:function({data:e,isConnectable:t,targetPosition:n=p.Top,sourcePosition:o=p.Bottom}){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(nw,{type:"target",position:n,isConnectable:t}),e?.label,(0,x.jsx)(nw,{type:"source",position:o,isConnectable:t})]})},output:function({data:e,isConnectable:t,targetPosition:n=p.Top}){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(nw,{type:"target",position:n,isConnectable:t}),e?.label]})},group:function(){return null}},nE=e=>{let{width:t,height:n,x:o,y:r}=X(e.nodeLookup,{filter:e=>!!e.selected});return{width:ec(t)?t:null,height:ec(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${o}px,${r}px)`}};function nC({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){let o=tk(),{width:r,height:i,transformString:a,userSelectionActive:l}=tN(nE,tw),s=nm(),d=(0,y.useRef)(null);if((0,y.useEffect)(()=>{n||d.current?.focus({preventScroll:!0})},[n]),ng({nodeRef:d}),l||!r||!i)return null;let c=e?t=>{e(t,o.getState().nodes.filter(e=>e.selected))}:void 0;return(0,x.jsx)("div",{className:b(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a},children:(0,x.jsx)("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:c,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(nS,e.key)&&(e.preventDefault(),s({direction:nS[e.key],factor:e.shiftKey?4:1}))},style:{width:r,height:i}})})}let nN="undefined"!=typeof window?window:void 0,nk=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function nj({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:a,paneClickDistance:l,deleteKeyCode:s,selectionKeyCode:d,selectionOnDrag:c,selectionMode:u,onSelectionStart:h,onSelectionEnd:f,multiSelectionKeyCode:p,panActivationKeyCode:g,zoomActivationKeyCode:m,elementsSelectable:b,zoomOnScroll:v,zoomOnPinch:w,panOnScroll:S,panOnScrollSpeed:M,panOnScrollMode:E,zoomOnDoubleClick:C,panOnDrag:N,defaultViewport:k,translateExtent:j,minZoom:P,maxZoom:I,preventScrolling:A,onSelectionContextMenu:$,noWheelClassName:z,noPanClassName:_,disableKeyboardA11y:R,onViewportChange:D,isControlledViewport:O}){let{nodesSelectionActive:L,userSelectionActive:B}=tN(nk,tw),T=tQ(d,{target:nN}),H=tQ(g,{target:nN}),V=H||N,F=H||S,Z=c&&!0!==V,W=T||B||Z;return!function({deleteKeyCode:e,multiSelectionKeyCode:t}){let n=tk(),{deleteElements:o}=no(),r=tQ(e,{actInsideInputWithModifier:!1}),i=tQ(t,{target:ni});(0,y.useEffect)(()=>{if(r){let{edges:e,nodes:t}=n.getState();o({nodes:t.filter(nr),edges:e.filter(nr)}),n.setState({nodesSelectionActive:!1})}},[r]),(0,y.useEffect)(()=>{n.setState({multiSelectionActive:i})},[i])}({deleteKeyCode:s,multiSelectionKeyCode:p}),(0,x.jsx)(ns,{onPaneContextMenu:i,elementsSelectable:b,zoomOnScroll:v,zoomOnPinch:w,panOnScroll:F,panOnScrollSpeed:M,panOnScrollMode:E,zoomOnDoubleClick:C,panOnDrag:!T&&V,defaultViewport:k,translateExtent:j,minZoom:P,maxZoom:I,zoomActivationKeyCode:m,preventScrolling:A,noWheelClassName:z,noPanClassName:_,onViewportChange:D,isControlledViewport:O,paneClickDistance:l,selectionOnDrag:Z,children:(0,x.jsxs)(nf,{onSelectionStart:h,onSelectionEnd:f,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:o,onPaneMouseLeave:r,onPaneContextMenu:i,onPaneScroll:a,panOnDrag:V,isSelecting:!!W,selectionMode:u,selectionKeyPressed:T,paneClickDistance:l,selectionOnDrag:Z,children:[e,L&&(0,x.jsx)(nC,{onSelectionContextMenu:$,noPanClassName:_,disableKeyboardA11y:R})]})})}nj.displayName="FlowRenderer";let nP=(0,y.memo)(nj),nI=e=>e.updateNodeInternals;var nA=(0,y.memo)(function({id:e,onClick:t,onMouseEnter:n,onMouseMove:o,onMouseLeave:r,onContextMenu:i,onDoubleClick:a,nodesDraggable:l,elementsSelectable:s,nodesConnectable:d,nodesFocusable:c,resizeObserver:u,noDragClassName:h,noPanClassName:f,disableKeyboardA11y:p,rfId:g,nodeTypes:m,nodeClickDistance:v,onError:w}){let S,{node:M,internals:E,isParent:C}=tN(t=>{let n=t.nodeLookup.get(e),o=t.parentLookup.has(e);return{node:n,internals:n.internals,isParent:o}},tw),N=M.type||"default",k=m?.[N]||nM[N];void 0===k&&(w?.("003",(S=N,`Node type "${S}" not found. Using fallback type "default".`)),N="default",k=m?.default||nM.default);let j=!!(M.draggable||l&&void 0===M.draggable),P=!!(M.selectable||s&&void 0===M.selectable),I=!!(M.connectable||d&&void 0===M.connectable),A=!!(M.focusable||c&&void 0===M.focusable),$=tk(),z=ev(M),_=function({node:e,nodeType:t,hasDimensions:n,resizeObserver:o}){let r=tk(),i=(0,y.useRef)(null),a=(0,y.useRef)(null),l=(0,y.useRef)(e.sourcePosition),s=(0,y.useRef)(e.targetPosition),d=(0,y.useRef)(t),c=n&&!!e.internals.handleBounds;return(0,y.useEffect)(()=>{!i.current||e.hidden||c&&a.current===i.current||(a.current&&o?.unobserve(a.current),o?.observe(i.current),a.current=i.current)},[c,e.hidden]),(0,y.useEffect)(()=>()=>{a.current&&(o?.unobserve(a.current),a.current=null)},[]),(0,y.useEffect)(()=>{if(i.current){let n=d.current!==t,o=l.current!==e.sourcePosition,a=s.current!==e.targetPosition;(n||o||a)&&(d.current=t,l.current=e.sourcePosition,s.current=e.targetPosition,r.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}({node:M,nodeType:N,hasDimensions:z,resizeObserver:u}),R=ng({nodeRef:_,disabled:M.hidden||!j,noDragClassName:h,handleSelector:M.dragHandle,nodeId:e,isSelectable:P,nodeClickDistance:v}),D=nm();if(M.hidden)return null;let O=eb(M),B=void 0===M.internals.handleBounds?{width:M.width??M.initialWidth??M.style?.width,height:M.height??M.initialHeight??M.style?.height}:{width:M.width??M.style?.width,height:M.height??M.style?.height},T=P||j||t||n||o||r,H=n?e=>n(e,{...E.userNode}):void 0,V=o?e=>o(e,{...E.userNode}):void 0,F=r?e=>r(e,{...E.userNode}):void 0,Z=i?e=>i(e,{...E.userNode}):void 0,W=a?e=>a(e,{...E.userNode}):void 0;return(0,x.jsx)("div",{className:b(["react-flow__node",`react-flow__node-${N}`,{[f]:j},M.className,{selected:M.selected,selectable:P,parent:C,draggable:j,dragging:R}]),ref:_,style:{zIndex:E.z,transform:`translate(${E.positionAbsolute.x}px,${E.positionAbsolute.y}px)`,pointerEvents:T?"all":"none",visibility:z?"visible":"hidden",...M.style,...B},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:H,onMouseMove:V,onMouseLeave:F,onContextMenu:Z,onClick:n=>{let{selectNodesOnDrag:o,nodeDragThreshold:r}=$.getState();P&&(!o||!j||r>0)&&np({id:e,store:$,nodeRef:_}),t&&t(n,{...E.userNode})},onDoubleClick:W,onKeyDown:A?t=>{if(!ek(t.nativeEvent)&&!p){if(L.includes(t.key)&&P)np({id:e,store:$,unselect:"Escape"===t.key,nodeRef:_});else if(j&&M.selected&&Object.prototype.hasOwnProperty.call(nS,t.key)){t.preventDefault();let{ariaLabelConfig:e}=$.getState();$.setState({ariaLiveMessage:e["node.a11yDescription.ariaLiveMessage"]({direction:t.key.replace("Arrow","").toLowerCase(),x:~~E.positionAbsolute.x,y:~~E.positionAbsolute.y})}),D({direction:nS[t.key],factor:t.shiftKey?4:1})}}}:void 0,tabIndex:A?0:void 0,onFocus:A?()=>{if(p||!_.current?.matches(":focus-visible"))return;let{transform:t,width:n,height:o,autoPanOnNodeFocus:r,setCenter:i}=$.getState();!r||K(new Map([[e,M]]),{x:0,y:0,width:n,height:o},t,!0).length>0||i(M.position.x+O.width/2,M.position.y+O.height/2,{zoom:t[2]})}:void 0,role:M.ariaRole??(A?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${tI}-${g}`,"aria-label":M.ariaLabel,...M.domAttributes,children:(0,x.jsx)(ny,{value:e,children:(0,x.jsx)(k,{id:e,data:M.data,type:N,positionAbsoluteX:E.positionAbsolute.x,positionAbsoluteY:E.positionAbsolute.y,selected:M.selected??!1,selectable:P,draggable:j,deletable:M.deletable??!0,isConnectable:I,sourcePosition:M.sourcePosition,targetPosition:M.targetPosition,dragging:R,dragHandle:M.dragHandle,zIndex:E.z,parentId:M.parentId,...O})})})});let n$=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function nz(e){var t;let{nodesDraggable:n,nodesConnectable:o,nodesFocusable:r,elementsSelectable:i,onError:a}=tN(n$,tw),l=(t=e.onlyRenderVisibleElements,tN((0,y.useCallback)(e=>t?K(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(e=>e.id):Array.from(e.nodeLookup.keys()),[t]),tw)),s=function(){let e=tN(nI),[t]=(0,y.useState)(()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver(t=>{let n=new Map;t.forEach(e=>{let t=e.target.getAttribute("data-id");n.set(t,{id:t,nodeElement:e.target,force:!0})}),e(n)}));return(0,y.useEffect)(()=>()=>{t?.disconnect()},[t]),t}();return(0,x.jsx)("div",{className:"react-flow__nodes",style:na,children:l.map(t=>(0,x.jsx)(nA,{id:t,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:s,nodesDraggable:n,nodesConnectable:o,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:a},t))})}nz.displayName="NodeRenderer";let n_=(0,y.memo)(nz),nR={[f.Arrow]:({color:e="none",strokeWidth:t=1})=>{let n={strokeWidth:t,...e&&{stroke:e}};return(0,x.jsx)("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},[f.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>{let n={strokeWidth:t,...e&&{stroke:e,fill:e}};return(0,x.jsx)("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}},nD=({id:e,type:t,color:n,width:o=12.5,height:r=12.5,markerUnits:i="strokeWidth",strokeWidth:a,orient:l="auto-start-reverse"})=>{let s,d=(s=tk(),(0,y.useMemo)(()=>{let e;return Object.prototype.hasOwnProperty.call(nR,t)?nR[t]:(s.getState().onError?.("009",(e=t,`Marker type "${e}" doesn't exist.`)),null)},[t]));return d?(0,x.jsx)("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0",children:(0,x.jsx)(d,{color:n,strokeWidth:a})}):null},nO=({defaultColor:e,rfId:t})=>{let n=tN(e=>e.edges),o=tN(e=>e.defaultEdgeOptions),r=(0,y.useMemo)(()=>(function(e,{id:t,defaultColor:n,defaultMarkerStart:o,defaultMarkerEnd:r}){let i=new Set;return e.reduce((e,a)=>([a.markerStart||o,a.markerEnd||r].forEach(o=>{if(o&&"object"==typeof o){let r=eW(o,t);i.has(r)||(e.push({id:r,color:o.color||n,...o}),i.add(r))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))})(n,{id:t,defaultColor:e,defaultMarkerStart:o?.markerStart,defaultMarkerEnd:o?.markerEnd}),[n,o,t,e]);return r.length?(0,x.jsx)("svg",{className:"react-flow__marker","aria-hidden":"true",children:(0,x.jsx)("defs",{children:r.map(e=>(0,x.jsx)(nD,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id))})}):null};nO.displayName="MarkerDefinitions";var nL=(0,y.memo)(nO);function nB({x:e,y:t,label:n,labelStyle:o,labelShowBg:r=!0,labelBgStyle:i,labelBgPadding:a=[2,4],labelBgBorderRadius:l=2,children:s,className:d,...c}){let[u,h]=(0,y.useState)({x:1,y:0,width:0,height:0}),f=b(["react-flow__edge-textwrapper",d]),p=(0,y.useRef)(null);return((0,y.useEffect)(()=>{if(p.current){let e=p.current.getBBox();h({x:e.x,y:e.y,width:e.width,height:e.height})}},[n]),n)?(0,x.jsxs)("g",{transform:`translate(${e-u.width/2} ${t-u.height/2})`,className:f,visibility:u.width?"visible":"hidden",...c,children:[r&&(0,x.jsx)("rect",{width:u.width+2*a[0],x:-a[0],y:-a[1],height:u.height+2*a[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),(0,x.jsx)("text",{className:"react-flow__edge-text",y:u.height/2,dy:"0.3em",ref:p,style:o,children:n}),s]}):null}nB.displayName="EdgeText";let nT=(0,y.memo)(nB);function nH({path:e,labelX:t,labelY:n,label:o,labelStyle:r,labelShowBg:i,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:s,interactionWidth:d=20,...c}){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("path",{...c,d:e,fill:"none",className:b(["react-flow__edge-path",c.className])}),d?(0,x.jsx)("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}):null,o&&ec(t)&&ec(n)?(0,x.jsx)(nT,{x:t,y:n,label:o,labelStyle:r,labelShowBg:i,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:s}):null]})}function nV({pos:e,x1:t,y1:n,x2:o,y2:r}){return e===p.Left||e===p.Right?[.5*(t+o),n]:[t,.5*(n+r)]}function nF({sourceX:e,sourceY:t,sourcePosition:n=p.Bottom,targetX:o,targetY:r,targetPosition:i=p.Top}){let[a,l]=nV({pos:n,x1:e,y1:t,x2:o,y2:r}),[s,d]=nV({pos:i,x1:o,y1:r,x2:e,y2:t}),[c,u,h,f]=eI({sourceX:e,sourceY:t,targetX:o,targetY:r,sourceControlX:a,sourceControlY:l,targetControlX:s,targetControlY:d});return[`M${e},${t} C${a},${l} ${s},${d} ${o},${r}`,c,u,h,f]}function nZ(e){return(0,y.memo)(({id:t,sourceX:n,sourceY:o,targetX:r,targetY:i,sourcePosition:a,targetPosition:l,label:s,labelStyle:d,labelShowBg:c,labelBgStyle:u,labelBgPadding:h,labelBgBorderRadius:f,style:p,markerEnd:g,markerStart:m,interactionWidth:y})=>{let[b,v,w]=nF({sourceX:n,sourceY:o,sourcePosition:a,targetX:r,targetY:i,targetPosition:l}),S=e.isInternal?void 0:t;return(0,x.jsx)(nH,{id:S,path:b,labelX:v,labelY:w,label:s,labelStyle:d,labelShowBg:c,labelBgStyle:u,labelBgPadding:h,labelBgBorderRadius:f,style:p,markerEnd:g,markerStart:m,interactionWidth:y})})}let nW=nZ({isInternal:!1}),nX=nZ({isInternal:!0});function nK(e){return(0,y.memo)(({id:t,sourceX:n,sourceY:o,targetX:r,targetY:i,label:a,labelStyle:l,labelShowBg:s,labelBgStyle:d,labelBgPadding:c,labelBgBorderRadius:u,style:h,sourcePosition:f=p.Bottom,targetPosition:g=p.Top,markerEnd:m,markerStart:y,pathOptions:b,interactionWidth:v})=>{let[w,S,M]=eT({sourceX:n,sourceY:o,sourcePosition:f,targetX:r,targetY:i,targetPosition:g,borderRadius:b?.borderRadius,offset:b?.offset,stepPosition:b?.stepPosition}),E=e.isInternal?void 0:t;return(0,x.jsx)(nH,{id:E,path:w,labelX:S,labelY:M,label:a,labelStyle:l,labelShowBg:s,labelBgStyle:d,labelBgPadding:c,labelBgBorderRadius:u,style:h,markerEnd:m,markerStart:y,interactionWidth:v})})}nW.displayName="SimpleBezierEdge",nX.displayName="SimpleBezierEdgeInternal";let nY=nK({isInternal:!1}),nq=nK({isInternal:!0});function nU(e){return(0,y.memo)(({id:t,...n})=>{let o=e.isInternal?void 0:t;return(0,x.jsx)(nY,{...n,id:o,pathOptions:(0,y.useMemo)(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}nY.displayName="SmoothStepEdge",nq.displayName="SmoothStepEdgeInternal";let nG=nU({isInternal:!1}),nQ=nU({isInternal:!0});function nJ(e){return(0,y.memo)(({id:t,sourceX:n,sourceY:o,targetX:r,targetY:i,label:a,labelStyle:l,labelShowBg:s,labelBgStyle:d,labelBgPadding:c,labelBgBorderRadius:u,style:h,markerEnd:f,markerStart:p,interactionWidth:g})=>{let[m,y,b]=eD({sourceX:n,sourceY:o,targetX:r,targetY:i}),v=e.isInternal?void 0:t;return(0,x.jsx)(nH,{id:v,path:m,labelX:y,labelY:b,label:a,labelStyle:l,labelShowBg:s,labelBgStyle:d,labelBgPadding:c,labelBgBorderRadius:u,style:h,markerEnd:f,markerStart:p,interactionWidth:g})})}nG.displayName="StepEdge",nQ.displayName="StepEdgeInternal";let n0=nJ({isInternal:!1}),n1=nJ({isInternal:!0});function n2(e){return(0,y.memo)(({id:t,sourceX:n,sourceY:o,targetX:r,targetY:i,sourcePosition:a=p.Bottom,targetPosition:l=p.Top,label:s,labelStyle:d,labelShowBg:c,labelBgStyle:u,labelBgPadding:h,labelBgBorderRadius:f,style:g,markerEnd:m,markerStart:y,pathOptions:b,interactionWidth:v})=>{let[w,S,M]=ez({sourceX:n,sourceY:o,sourcePosition:a,targetX:r,targetY:i,targetPosition:l,curvature:b?.curvature}),E=e.isInternal?void 0:t;return(0,x.jsx)(nH,{id:E,path:w,labelX:S,labelY:M,label:s,labelStyle:d,labelShowBg:c,labelBgStyle:u,labelBgPadding:h,labelBgBorderRadius:f,style:g,markerEnd:m,markerStart:y,interactionWidth:v})})}n0.displayName="StraightEdge",n1.displayName="StraightEdgeInternal";let n5=n2({isInternal:!1}),n3=n2({isInternal:!0});n5.displayName="BezierEdge",n3.displayName="BezierEdgeInternal";let n4={default:n3,straight:n1,step:nQ,smoothstep:nq,simplebezier:nX},n6={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},n8="react-flow__edgeupdater";function n7({position:e,centerX:t,centerY:n,radius:o=10,onMouseDown:r,onMouseEnter:i,onMouseOut:a,type:l}){return(0,x.jsx)("circle",{onMouseDown:r,onMouseEnter:i,onMouseOut:a,className:b([n8,`${n8}-${l}`]),cx:e===p.Left?t-o:e===p.Right?t+o:t,cy:e===p.Top?n-o:e===p.Bottom?n+o:n,r:o,stroke:"transparent",fill:"transparent"})}function n9({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:o,sourceY:r,targetX:i,targetY:a,sourcePosition:l,targetPosition:s,onReconnect:d,onReconnectStart:c,onReconnectEnd:u,setReconnecting:h,setUpdateHover:f}){let p=tk(),g=(e,t)=>{if(0!==e.button)return;let{autoPanOnConnect:o,domNode:r,isValidConnection:i,connectionMode:a,connectionRadius:l,lib:s,onConnectStart:f,onConnectEnd:g,cancelConnection:m,nodeLookup:x,rfId:y,panBy:b,updateConnection:v}=p.getState(),w="target"===t.type;e9(e.nativeEvent,{autoPanOnConnect:o,connectionMode:a,connectionRadius:l,domNode:r,handleId:t.id,nodeId:t.nodeId,nodeLookup:x,isTarget:w,edgeUpdaterType:t.type,lib:s,flowId:y,cancelConnection:m,panBy:b,isValidConnection:i,onConnect:e=>d?.(n,e),onConnectStart:(o,r)=>{h(!0),c?.(e,n,t.type),f?.(o,r)},onConnectEnd:g,onReconnectEnd:(e,o)=>{h(!1),u?.(e,n,t.type,o)},updateConnection:v,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold,handleDomNode:e.currentTarget})},m=()=>f(!0),y=()=>f(!1);return(0,x.jsxs)(x.Fragment,{children:[(!0===e||"source"===e)&&(0,x.jsx)(n7,{position:l,centerX:o,centerY:r,radius:t,onMouseDown:e=>g(e,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),onMouseEnter:m,onMouseOut:y,type:"source"}),(!0===e||"target"===e)&&(0,x.jsx)(n7,{position:s,centerX:i,centerY:a,radius:t,onMouseDown:e=>g(e,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),onMouseEnter:m,onMouseOut:y,type:"target"})]})}var oe=(0,y.memo)(function({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:o,onClick:r,onDoubleClick:i,onContextMenu:a,onMouseEnter:l,onMouseMove:s,onMouseLeave:c,reconnectRadius:u,onReconnect:h,onReconnectStart:f,onReconnectEnd:g,rfId:m,edgeTypes:v,noPanClassName:w,onError:S,disableKeyboardA11y:M}){let E,C=tN(t=>t.edgeLookup.get(e)),N=tN(e=>e.defaultEdgeOptions),k=(C=N?{...N,...C}:C).type||"default",j=v?.[k]||n4[k];void 0===j&&(S?.("011",(E=k,`Edge type "${E}" not found. Using fallback type "default".`)),k="default",j=v?.default||n4.default);let P=!!(C.focusable||t&&void 0===C.focusable),I=void 0!==h&&(C.reconnectable||n&&void 0===C.reconnectable),A=!!(C.selectable||o&&void 0===C.selectable),$=(0,y.useRef)(null),[z,_]=(0,y.useState)(!1),[R,D]=(0,y.useState)(!1),O=tk(),{zIndex:B,sourceX:T,sourceY:H,targetX:V,targetY:F,sourcePosition:Z,targetPosition:W}=tN((0,y.useCallback)(t=>{let n=t.nodeLookup.get(C.source),o=t.nodeLookup.get(C.target);if(!n||!o)return{zIndex:C.zIndex,...n6};let r=function(e){let{sourceNode:t,targetNode:n}=e;if(!eH(t)||!eH(n))return null;let o=t.internals.handleBounds||eV(t.handles),r=n.internals.handleBounds||eV(n.handles),i=eZ(o?.source??[],e.sourceHandle),a=eZ(e.connectionMode===d.Strict?r?.target??[]:(r?.target??[]).concat(r?.source??[]),e.targetHandle);if(!i||!a)return e.onError?.("008",((e,{id:t,sourceHandle:n,targetHandle:o})=>`Couldn't create edge for ${e} handle id: "${"source"===e?n:o}", edge id: ${t}.`)(!i?"source":"target",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;let l=i?.position||p.Bottom,s=a?.position||p.Top,c=eF(t,i,l),u=eF(n,a,s);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:l,targetPosition:s}}({id:e,sourceNode:n,targetNode:o,sourceHandle:C.sourceHandle||null,targetHandle:C.targetHandle||null,connectionMode:t.connectionMode,onError:S});return{zIndex:function({sourceNode:e,targetNode:t,selected:n=!1,zIndex:o=0,elevateOnSelect:r=!1,zIndexMode:i="basic"}){if("manual"===i)return o;let a=Math.max(e.parentId||r&&e.selected?e.internals.z:0,t.parentId||r&&t.selected?t.internals.z:0);return(r&&n?o+1e3:o)+a}({selected:C.selected,zIndex:C.zIndex,sourceNode:n,targetNode:o,elevateOnSelect:t.elevateEdgesOnSelect,zIndexMode:t.zIndexMode}),...r||n6}},[C.source,C.target,C.sourceHandle,C.targetHandle,C.selected,C.zIndex]),tw),X=(0,y.useMemo)(()=>C.markerStart?`url('#${eW(C.markerStart,m)}')`:void 0,[C.markerStart,m]),K=(0,y.useMemo)(()=>C.markerEnd?`url('#${eW(C.markerEnd,m)}')`:void 0,[C.markerEnd,m]);if(C.hidden||null===T||null===H||null===V||null===F)return null;let Y=i?e=>{i(e,{...C})}:void 0,q=a?e=>{a(e,{...C})}:void 0,U=l?e=>{l(e,{...C})}:void 0,G=s?e=>{s(e,{...C})}:void 0,Q=c?e=>{c(e,{...C})}:void 0;return(0,x.jsx)("svg",{style:{zIndex:B},children:(0,x.jsxs)("g",{className:b(["react-flow__edge",`react-flow__edge-${k}`,C.className,w,{selected:C.selected,animated:C.animated,inactive:!A&&!r,updating:z,selectable:A}]),onClick:t=>{let{addSelectedEdges:n,unselectNodesAndEdges:o,multiSelectionActive:i}=O.getState();A&&(O.setState({nodesSelectionActive:!1}),C.selected&&i?(o({nodes:[],edges:[C]}),$.current?.blur()):n([e])),r&&r(t,C)},onDoubleClick:Y,onContextMenu:q,onMouseEnter:U,onMouseMove:G,onMouseLeave:Q,onKeyDown:P?t=>{if(!M&&L.includes(t.key)&&A){let{unselectNodesAndEdges:n,addSelectedEdges:o}=O.getState();"Escape"===t.key?($.current?.blur(),n({edges:[C]})):o([e])}}:void 0,tabIndex:P?0:void 0,role:C.ariaRole??(P?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":null===C.ariaLabel?void 0:C.ariaLabel||`Edge from ${C.source} to ${C.target}`,"aria-describedby":P?`${tA}-${m}`:void 0,ref:$,...C.domAttributes,children:[!R&&(0,x.jsx)(j,{id:e,source:C.source,target:C.target,type:C.type,selected:C.selected,animated:C.animated,selectable:A,deletable:C.deletable??!0,label:C.label,labelStyle:C.labelStyle,labelShowBg:C.labelShowBg,labelBgStyle:C.labelBgStyle,labelBgPadding:C.labelBgPadding,labelBgBorderRadius:C.labelBgBorderRadius,sourceX:T,sourceY:H,targetX:V,targetY:F,sourcePosition:Z,targetPosition:W,data:C.data,style:C.style,sourceHandleId:C.sourceHandle,targetHandleId:C.targetHandle,markerStart:X,markerEnd:K,pathOptions:"pathOptions"in C?C.pathOptions:void 0,interactionWidth:C.interactionWidth}),I&&(0,x.jsx)(n9,{edge:C,isReconnectable:I,reconnectRadius:u,onReconnect:h,onReconnectStart:f,onReconnectEnd:g,sourceX:T,sourceY:H,targetX:V,targetY:F,sourcePosition:Z,targetPosition:W,setUpdateHover:_,setReconnecting:D})]})})});let ot=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function on({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:o,noPanClassName:r,onReconnect:i,onEdgeContextMenu:a,onEdgeMouseEnter:l,onEdgeMouseMove:s,onEdgeMouseLeave:d,onEdgeClick:c,reconnectRadius:u,onEdgeDoubleClick:h,onReconnectStart:f,onReconnectEnd:p,disableKeyboardA11y:g}){let{edgesFocusable:m,edgesReconnectable:b,elementsSelectable:v,onError:w}=tN(ot,tw),S=tN((0,y.useCallback)(e=>{if(!t)return e.edges.map(e=>e.id);let n=[];if(e.width&&e.height)for(let t of e.edges){let o=e.nodeLookup.get(t.source),r=e.nodeLookup.get(t.target);o&&r&&function({sourceNode:e,targetNode:t,width:n,height:o,transform:r}){let i=en(ea(e),ea(t));return i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1),es({x:-r[0]/r[2],y:-r[1]/r[2],width:n/r[2],height:o/r[2]},er(i))>0}({sourceNode:o,targetNode:r,width:e.width,height:e.height,transform:e.transform})&&n.push(t.id)}return n},[t]),tw);return(0,x.jsxs)("div",{className:"react-flow__edges",children:[(0,x.jsx)(nL,{defaultColor:e,rfId:n}),S.map(e=>(0,x.jsx)(oe,{id:e,edgesFocusable:m,edgesReconnectable:b,elementsSelectable:v,noPanClassName:r,onReconnect:i,onContextMenu:a,onMouseEnter:l,onMouseMove:s,onMouseLeave:d,onClick:c,reconnectRadius:u,onDoubleClick:h,onReconnectStart:f,onReconnectEnd:p,rfId:n,onError:w,edgeTypes:o,disableKeyboardA11y:g},e))]})}on.displayName="EdgeRenderer";let oo=(0,y.memo)(on),or=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function oi({children:e}){let t=tN(or);return(0,x.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}let oa=e=>e.panZoom?.syncViewport;function ol(e){return e.connection.inProgress?{...e.connection,to:ef(e.connection.to,e.transform)}:{...e.connection}}let os=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function od({containerStyle:e,style:t,type:n,component:o}){let{nodesConnectable:r,width:i,height:a,isValid:l,inProgress:s}=tN(os,tw);return i&&r&&s?(0,x.jsx)("svg",{style:e,width:i,height:a,className:"react-flow__connectionline react-flow__container",children:(0,x.jsx)("g",{className:b(["react-flow__connection",V(l)]),children:(0,x.jsx)(oc,{style:t,type:n,CustomComponent:o,isValid:l})})}):null}let oc=({style:e,type:t=h.Bezier,CustomComponent:n,isValid:o})=>{let{inProgress:r,from:i,fromNode:a,fromHandle:l,fromPosition:s,to:d,toNode:c,toHandle:u,toPosition:f,pointer:p}=tN(ol,tw);if(!r)return;if(n)return(0,x.jsx)(n,{connectionLineType:t,connectionLineStyle:e,fromNode:a,fromHandle:l,fromX:i.x,fromY:i.y,toX:d.x,toY:d.y,fromPosition:s,toPosition:f,connectionStatus:V(o),toNode:c,toHandle:u,pointer:p});let g="",m={sourceX:i.x,sourceY:i.y,sourcePosition:s,targetX:d.x,targetY:d.y,targetPosition:f};switch(t){case h.Bezier:[g]=ez(m);break;case h.SimpleBezier:[g]=nF(m);break;case h.Step:[g]=eT({...m,borderRadius:0});break;case h.SmoothStep:[g]=eT(m);break;default:[g]=eD(m)}return(0,x.jsx)("path",{d:g,fill:"none",className:"react-flow__connection-path",style:e})};oc.displayName="ConnectionLine";let ou={};function oh(e=ou){(0,y.useRef)(e),tk(),(0,y.useEffect)(()=>{},[e])}function of({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:o,onEdgeClick:r,onNodeDoubleClick:i,onEdgeDoubleClick:a,onNodeMouseEnter:l,onNodeMouseMove:s,onNodeMouseLeave:d,onNodeContextMenu:c,onSelectionContextMenu:u,onSelectionStart:h,onSelectionEnd:f,connectionLineType:p,connectionLineStyle:g,connectionLineComponent:m,connectionLineContainerStyle:b,selectionKeyCode:v,selectionOnDrag:w,selectionMode:S,multiSelectionKeyCode:M,panActivationKeyCode:E,zoomActivationKeyCode:C,deleteKeyCode:N,onlyRenderVisibleElements:k,elementsSelectable:j,defaultViewport:P,translateExtent:I,minZoom:A,maxZoom:$,preventScrolling:z,defaultMarkerColor:_,zoomOnScroll:R,zoomOnPinch:D,panOnScroll:O,panOnScrollSpeed:L,panOnScrollMode:B,zoomOnDoubleClick:T,panOnDrag:H,onPaneClick:V,onPaneMouseEnter:F,onPaneMouseMove:Z,onPaneMouseLeave:W,onPaneScroll:X,onPaneContextMenu:K,paneClickDistance:Y,nodeClickDistance:q,onEdgeContextMenu:U,onEdgeMouseEnter:G,onEdgeMouseMove:Q,onEdgeMouseLeave:J,reconnectRadius:ee,onReconnect:et,onReconnectStart:en,onReconnectEnd:eo,noDragClassName:er,noWheelClassName:ei,noPanClassName:ea,disableKeyboardA11y:el,nodeExtent:es,rfId:ed,viewport:ec,onViewportChange:eu}){let eh,ef,ep,eg;return oh(e),oh(t),tk(),(0,y.useRef)(!1),(0,y.useEffect)(()=>{},[]),eh=no(),ef=(0,y.useRef)(!1),(0,y.useEffect)(()=>{!ef.current&&eh.viewportInitialized&&n&&(setTimeout(()=>n(eh),1),ef.current=!0)},[n,eh.viewportInitialized]),ep=tN(oa),eg=tk(),(0,y.useEffect)(()=>{ec&&(ep?.(ec),eg.setState({transform:[ec.x,ec.y,ec.zoom]}))},[ec,ep]),(0,x.jsx)(nP,{onPaneClick:V,onPaneMouseEnter:F,onPaneMouseMove:Z,onPaneMouseLeave:W,onPaneContextMenu:K,onPaneScroll:X,paneClickDistance:Y,deleteKeyCode:N,selectionKeyCode:v,selectionOnDrag:w,selectionMode:S,onSelectionStart:h,onSelectionEnd:f,multiSelectionKeyCode:M,panActivationKeyCode:E,zoomActivationKeyCode:C,elementsSelectable:j,zoomOnScroll:R,zoomOnPinch:D,zoomOnDoubleClick:T,panOnScroll:O,panOnScrollSpeed:L,panOnScrollMode:B,panOnDrag:H,defaultViewport:P,translateExtent:I,minZoom:A,maxZoom:$,onSelectionContextMenu:u,preventScrolling:z,noDragClassName:er,noWheelClassName:ei,noPanClassName:ea,disableKeyboardA11y:el,onViewportChange:eu,isControlledViewport:!!ec,children:(0,x.jsxs)(oi,{children:[(0,x.jsx)(oo,{edgeTypes:t,onEdgeClick:r,onEdgeDoubleClick:a,onReconnect:et,onReconnectStart:en,onReconnectEnd:eo,onlyRenderVisibleElements:k,onEdgeContextMenu:U,onEdgeMouseEnter:G,onEdgeMouseMove:Q,onEdgeMouseLeave:J,reconnectRadius:ee,defaultMarkerColor:_,noPanClassName:ea,disableKeyboardA11y:el,rfId:ed}),(0,x.jsx)(od,{style:g,type:p,component:m,containerStyle:b}),(0,x.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,x.jsx)(n_,{nodeTypes:e,onNodeClick:o,onNodeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:s,onNodeMouseLeave:d,onNodeContextMenu:c,nodeClickDistance:q,onlyRenderVisibleElements:k,noPanClassName:ea,noDragClassName:er,disableKeyboardA11y:el,nodeExtent:es,rfId:ed}),(0,x.jsx)("div",{className:"react-flow__viewport-portal"})]})})}of.displayName="GraphView";let op=(0,y.memo)(of),og=({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:r,height:i,fitView:a,fitViewOptions:l,minZoom:s=.5,maxZoom:c=2,nodeOrigin:u,nodeExtent:h,zIndexMode:f="basic"}={})=>{let p=new Map,g=new Map,m=new Map,x=new Map,y=o??t??[],b=n??e??[],v=u??[0,0],w=h??O;e2(m,x,y);let S=eU(b,p,g,{nodeOrigin:v,nodeExtent:w,zIndexMode:f}),M=[0,0,1];if(a&&r&&i){let{x:e,y:t,zoom:n}=em(X(p,{filter:e=>!!((e.width||e.initialWidth)&&(e.height||e.initialHeight))}),r,i,s,c,l?.padding??.1);M=[e,t,n]}return{rfId:"1",width:r??0,height:i??0,transform:M,nodes:b,nodesInitialized:S,nodeLookup:p,parentLookup:g,edges:y,edgeLookup:x,connectionLookup:m,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==n,hasDefaultEdges:void 0!==o,panZoom:null,minZoom:s,maxZoom:c,translateExtent:O,nodeExtent:w,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:d.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:v,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:l,fitViewResolver:null,connection:{...T},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:eu,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:B,zIndexMode:f,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}};function om({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:o,initialWidth:r,initialHeight:i,initialMinZoom:a,initialMaxZoom:l,initialFitViewOptions:s,fitView:d,nodeOrigin:c,nodeExtent:u,zIndexMode:h,children:f}){let[g]=(0,y.useState)(()=>(({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:r,height:i,fitView:a,fitViewOptions:l,minZoom:s,maxZoom:d,nodeOrigin:c,nodeExtent:u,zIndexMode:h})=>{let f,g;return f=(f,g)=>{async function m(){let{nodeLookup:e,panZoom:t,fitViewOptions:n,fitViewResolver:o,width:r,height:i,minZoom:a,maxZoom:l}=g();t&&(await Y({nodes:e,width:r,height:i,panZoom:t,minZoom:a,maxZoom:l},n),o?.resolve(!0),f({fitViewResolver:null}))}return{...og({nodes:e,edges:t,width:r,height:i,fitView:a,fitViewOptions:l,minZoom:s,maxZoom:d,nodeOrigin:c,nodeExtent:u,defaultNodes:n,defaultEdges:o,zIndexMode:h}),setNodes:e=>{let{nodeLookup:t,parentLookup:n,nodeOrigin:o,elevateNodesOnSelect:r,fitViewQueued:i,zIndexMode:a}=g(),l=eU(e,t,n,{nodeOrigin:o,nodeExtent:u,elevateNodesOnSelect:r,checkEquality:!0,zIndexMode:a});i&&l?(m(),f({nodes:e,nodesInitialized:l,fitViewQueued:!1,fitViewOptions:void 0})):f({nodes:e,nodesInitialized:l})},setEdges:e=>{let{connectionLookup:t,edgeLookup:n}=g();e2(t,n,e),f({edges:e})},setDefaultNodesAndEdges:(e,t)=>{if(e){let{setNodes:t}=g();t(e),f({hasDefaultNodes:!0})}if(t){let{setEdges:e}=g();e(t),f({hasDefaultEdges:!0})}},updateNodeInternals:e=>{let{triggerNodeChanges:t,nodeLookup:n,parentLookup:o,domNode:r,nodeOrigin:i,nodeExtent:a,debug:l,fitViewQueued:s,zIndexMode:d}=g(),{changes:c,updatedInternals:u}=function(e,t,n,o,r,i,a){let l=o?.querySelector(".xyflow__viewport"),s=!1;if(!l)return{changes:[],updatedInternals:s};let d=[],c=window.getComputedStyle(l),{m22:u}=new window.DOMMatrixReadOnly(c.transform),h=[];for(let o of e.values()){let e=t.get(o.id);if(!e)continue;if(e.hidden){t.set(e.id,{...e,internals:{...e.internals,handleBounds:void 0}}),s=!0;continue}let l=eE(o.nodeElement),c=e.measured.width!==l.width||e.measured.height!==l.height;if(l.width&&l.height&&(c||!e.internals.handleBounds||o.force)){let f=o.nodeElement.getBoundingClientRect(),p=ey(e.extent)?e.extent:i,{positionAbsolute:g}=e.internals;e.parentId&&"parent"===e.extent?g=J(g,l,t.get(e.parentId)):p&&(g=Q(g,p,l));let m={...e,measured:l,internals:{...e.internals,positionAbsolute:g,handleBounds:{source:eP("source",o.nodeElement,f,u,e.id),target:eP("target",o.nodeElement,f,u,e.id)}}};t.set(e.id,m),e.parentId&&eG(m,t,n,{nodeOrigin:r,zIndexMode:a}),s=!0,c&&(d.push({id:e.id,type:"dimensions",dimensions:l}),e.expandParent&&e.parentId&&h.push({id:e.id,parentId:e.parentId,rect:ei(m,r)}))}}if(h.length>0){let e=eJ(h,t,n,r);d.push(...e)}return{changes:d,updatedInternals:s}}(e,n,o,r,i,a,d);u&&(!function(e,t,n){let o=eY(eX,n);for(let n of e.values())if(n.parentId)eG(n,e,t,o);else{let e=Q(W(n,o.nodeOrigin),ey(n.extent)?n.extent:o.nodeExtent,eb(n));n.internals.positionAbsolute=e}}(n,o,{nodeOrigin:i,nodeExtent:a,zIndexMode:d}),s?(m(),f({fitViewQueued:!1,fitViewOptions:void 0})):f({}),c?.length>0&&(l&&console.log("React Flow: trigger node changes",c),t?.(c)))},updateNodePositions:(e,t=!1)=>{let n=[],o=[],{nodeLookup:r,triggerNodeChanges:i,connection:a,updateConnection:l,onNodesChangeMiddlewareMap:s}=g();for(let[i,s]of e){let e=r.get(i),d=!!(e?.expandParent&&e?.parentId&&s?.position),c={id:i,type:"position",position:d?{x:Math.max(0,s.position.x),y:Math.max(0,s.position.y)}:s.position,dragging:t};if(e&&a.inProgress&&a.fromNode.id===e.id){let t=eF(e,a.fromHandle,p.Left,!0);l({...a,from:t})}d&&e.parentId&&n.push({id:i,parentId:e.parentId,rect:{...s.internals.positionAbsolute,width:s.measured.width??0,height:s.measured.height??0}}),o.push(c)}if(n.length>0){let{parentLookup:e,nodeOrigin:t}=g(),i=eJ(n,r,e,t);o.push(...i)}for(let e of s.values())o=e(o);i(o)},triggerNodeChanges:e=>{let{onNodesChange:t,setNodes:n,nodes:o,hasDefaultNodes:r,debug:i}=g();e?.length&&(r&&n(t1(e,o)),i&&console.log("React Flow: trigger node changes",e),t?.(e))},triggerEdgeChanges:e=>{let{onEdgesChange:t,setEdges:n,edges:o,hasDefaultEdges:r,debug:i}=g();e?.length&&(r&&n(t1(e,o)),i&&console.log("React Flow: trigger edge changes",e),t?.(e))},addSelectedNodes:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:o,triggerNodeChanges:r,triggerEdgeChanges:i}=g();t?r(e.map(e=>t2(e,!0))):(r(t5(o,new Set([...e]),!0)),i(t5(n)))},addSelectedEdges:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:o,triggerNodeChanges:r,triggerEdgeChanges:i}=g();t?i(e.map(e=>t2(e,!0))):(i(t5(n,new Set([...e]))),r(t5(o,new Set,!0)))},unselectNodesAndEdges:({nodes:e,edges:t}={})=>{let{edges:n,nodes:o,nodeLookup:r,triggerNodeChanges:i,triggerEdgeChanges:a}=g(),l=(e||o).map(e=>{let t=r.get(e.id);return t&&(t.selected=!1),t2(e.id,!1)}),s=(t||n).map(e=>t2(e.id,!1));i(l),a(s)},setMinZoom:e=>{let{panZoom:t,maxZoom:n}=g();t?.setScaleExtent([e,n]),f({minZoom:e})},setMaxZoom:e=>{let{panZoom:t,minZoom:n}=g();t?.setScaleExtent([n,e]),f({maxZoom:e})},setTranslateExtent:e=>{g().panZoom?.setTranslateExtent(e),f({translateExtent:e})},resetSelectedElements:()=>{let{edges:e,nodes:t,triggerNodeChanges:n,triggerEdgeChanges:o,elementsSelectable:r}=g();if(!r)return;let i=t.reduce((e,t)=>t.selected?[...e,t2(t.id,!1)]:e,[]),a=e.reduce((e,t)=>t.selected?[...e,t2(t.id,!1)]:e,[]);n(i),o(a)},setNodeExtent:e=>{let{nodes:t,nodeLookup:n,parentLookup:o,nodeOrigin:r,elevateNodesOnSelect:i,nodeExtent:a,zIndexMode:l}=g();(e[0][0]!==a[0][0]||e[0][1]!==a[0][1]||e[1][0]!==a[1][0]||e[1][1]!==a[1][1])&&(eU(t,n,o,{nodeOrigin:r,nodeExtent:e,elevateNodesOnSelect:i,checkEquality:!1,zIndexMode:l}),f({nodeExtent:e}))},panBy:e=>{let{transform:t,width:n,height:o,panZoom:r,translateExtent:i}=g();return e0({delta:e,panZoom:r,transform:t,translateExtent:i,width:n,height:o})},setCenter:async(e,t,n)=>{let{width:o,height:r,maxZoom:i,panZoom:a}=g();if(!a)return Promise.resolve(!1);let l=void 0!==n?.zoom?n.zoom:i;return await a.setViewport({x:o/2-e*l,y:r/2-t*l,zoom:l},{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{f({connection:{...T}})},updateConnection:e=>{f({connection:e})},reset:()=>f({...og()})}},g=Object.is,f?tv(f,g):tv})({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,width:r,height:i,fitView:d,minZoom:a,maxZoom:l,fitViewOptions:s,nodeOrigin:c,nodeExtent:u,zIndexMode:h}));return(0,x.jsx)(tE,{value:g,children:(0,x.jsx)(nt,{children:f})})}function ox({children:e,nodes:t,edges:n,defaultNodes:o,defaultEdges:r,width:i,height:a,fitView:l,fitViewOptions:s,minZoom:d,maxZoom:c,nodeOrigin:u,nodeExtent:h,zIndexMode:f}){return(0,y.useContext)(tM)?(0,x.jsx)(x.Fragment,{children:e}):(0,x.jsx)(om,{initialNodes:t,initialEdges:n,defaultNodes:o,defaultEdges:r,initialWidth:i,initialHeight:a,fitView:l,initialFitViewOptions:s,initialMinZoom:d,initialMaxZoom:c,nodeOrigin:u,nodeExtent:h,zIndexMode:f,children:e})}let oy={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var ob=t8(function({nodes:e,edges:t,defaultNodes:n,defaultEdges:o,className:r,nodeTypes:i,edgeTypes:a,onNodeClick:l,onEdgeClick:s,onInit:d,onMove:f,onMoveStart:p,onMoveEnd:g,onConnect:m,onConnectStart:v,onConnectEnd:w,onClickConnectStart:S,onClickConnectEnd:M,onNodeMouseEnter:E,onNodeMouseMove:C,onNodeMouseLeave:N,onNodeContextMenu:k,onNodeDoubleClick:j,onNodeDragStart:P,onNodeDrag:I,onNodeDragStop:A,onNodesDelete:$,onEdgesDelete:z,onDelete:_,onSelectionChange:R,onSelectionDragStart:D,onSelectionDrag:L,onSelectionDragStop:B,onSelectionContextMenu:T,onSelectionStart:H,onSelectionEnd:V,onBeforeDelete:F,connectionMode:Z,connectionLineType:W=h.Bezier,connectionLineStyle:X,connectionLineComponent:K,connectionLineContainerStyle:Y,deleteKeyCode:q="Backspace",selectionKeyCode:U="Shift",selectionOnDrag:G=!1,selectionMode:Q=u.Full,panActivationKeyCode:J="Space",multiSelectionKeyCode:ee=ex()?"Meta":"Control",zoomActivationKeyCode:et=ex()?"Meta":"Control",snapToGrid:en,snapGrid:eo,onlyRenderVisibleElements:er=!1,selectNodesOnDrag:ei,nodesDraggable:ea,autoPanOnNodeFocus:el,nodesConnectable:es,nodesFocusable:ed,nodeOrigin:ec=tZ,edgesFocusable:eu,edgesReconnectable:eh,elementsSelectable:ef=!0,defaultViewport:ep=tW,minZoom:eg=.5,maxZoom:em=2,translateExtent:ey=O,preventScrolling:eb=!0,nodeExtent:ev,defaultMarkerColor:ew="#b1b1b7",zoomOnScroll:eS=!0,zoomOnPinch:eM=!0,panOnScroll:eE=!1,panOnScrollSpeed:eC=.5,panOnScrollMode:eN=c.Free,zoomOnDoubleClick:ek=!0,panOnDrag:ej=!0,onPaneClick:eP,onPaneMouseEnter:eI,onPaneMouseMove:eA,onPaneMouseLeave:e$,onPaneScroll:ez,onPaneContextMenu:e_,paneClickDistance:eR=1,nodeClickDistance:eD=0,children:eO,onReconnect:eL,onReconnectStart:eB,onReconnectEnd:eT,onEdgeContextMenu:eH,onEdgeDoubleClick:eV,onEdgeMouseEnter:eF,onEdgeMouseMove:eZ,onEdgeMouseLeave:eW,reconnectRadius:eX=10,onNodesChange:eK,onEdgesChange:eY,noDragClassName:eq="nodrag",noWheelClassName:eU="nowheel",noPanClassName:eG="nopan",fitView:eQ,fitViewOptions:eJ,connectOnClick:e0,attributionPosition:e1,proOptions:e2,defaultEdgeOptions:e5,elevateNodesOnSelect:e3=!0,elevateEdgesOnSelect:e4=!1,disableKeyboardA11y:e6=!1,autoPanOnConnect:e8,autoPanOnNodeDrag:e7,autoPanSpeed:e9,connectionRadius:te,isValidConnection:tt,onError:tn,style:to,id:tr,nodeDragThreshold:ti,connectionDragThreshold:ta,viewport:tl,onViewportChange:ts,width:td,height:tc,colorMode:tu="light",debug:th,onScroll:tf,ariaLabelConfig:tp,zIndexMode:tg="basic",...tm},tx){let ty=tr||"1",tb=function(e){let[t,n]=(0,y.useState)("system"===e?null:e);return(0,y.useEffect)(()=>{if("system"!==e)return void n(e);let t=tU(),o=()=>n(t?.matches?"dark":"light");return o(),t?.addEventListener("change",o),()=>{t?.removeEventListener("change",o)}},[e]),null!==t?t:tU()?.matches?"dark":"light"}(tu),tv=(0,y.useCallback)(e=>{e.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),tf?.(e)},[tf]);return(0,x.jsx)("div",{"data-testid":"rf__wrapper",...tm,onScroll:tv,style:{...to,...oy},ref:tx,className:b(["react-flow",r,tb]),id:tr,role:"application",children:(0,x.jsxs)(ox,{nodes:e,edges:t,width:td,height:tc,fitView:eQ,fitViewOptions:eJ,minZoom:eg,maxZoom:em,nodeOrigin:ec,nodeExtent:ev,zIndexMode:tg,children:[(0,x.jsx)(op,{onInit:d,onNodeClick:l,onEdgeClick:s,onNodeMouseEnter:E,onNodeMouseMove:C,onNodeMouseLeave:N,onNodeContextMenu:k,onNodeDoubleClick:j,nodeTypes:i,edgeTypes:a,connectionLineType:W,connectionLineStyle:X,connectionLineComponent:K,connectionLineContainerStyle:Y,selectionKeyCode:U,selectionOnDrag:G,selectionMode:Q,deleteKeyCode:q,multiSelectionKeyCode:ee,panActivationKeyCode:J,zoomActivationKeyCode:et,onlyRenderVisibleElements:er,defaultViewport:ep,translateExtent:ey,minZoom:eg,maxZoom:em,preventScrolling:eb,zoomOnScroll:eS,zoomOnPinch:eM,zoomOnDoubleClick:ek,panOnScroll:eE,panOnScrollSpeed:eC,panOnScrollMode:eN,panOnDrag:ej,onPaneClick:eP,onPaneMouseEnter:eI,onPaneMouseMove:eA,onPaneMouseLeave:e$,onPaneScroll:ez,onPaneContextMenu:e_,paneClickDistance:eR,nodeClickDistance:eD,onSelectionContextMenu:T,onSelectionStart:H,onSelectionEnd:V,onReconnect:eL,onReconnectStart:eB,onReconnectEnd:eT,onEdgeContextMenu:eH,onEdgeDoubleClick:eV,onEdgeMouseEnter:eF,onEdgeMouseMove:eZ,onEdgeMouseLeave:eW,reconnectRadius:eX,defaultMarkerColor:ew,noDragClassName:eq,noWheelClassName:eU,noPanClassName:eG,rfId:ty,disableKeyboardA11y:e6,nodeExtent:ev,viewport:tl,onViewportChange:ts}),(0,x.jsx)(tq,{nodes:e,edges:t,defaultNodes:n,defaultEdges:o,onConnect:m,onConnectStart:v,onConnectEnd:w,onClickConnectStart:S,onClickConnectEnd:M,nodesDraggable:ea,autoPanOnNodeFocus:el,nodesConnectable:es,nodesFocusable:ed,edgesFocusable:eu,edgesReconnectable:eh,elementsSelectable:ef,elevateNodesOnSelect:e3,elevateEdgesOnSelect:e4,minZoom:eg,maxZoom:em,nodeExtent:ev,onNodesChange:eK,onEdgesChange:eY,snapToGrid:en,snapGrid:eo,connectionMode:Z,translateExtent:ey,connectOnClick:e0,defaultEdgeOptions:e5,fitView:eQ,fitViewOptions:eJ,onNodesDelete:$,onEdgesDelete:z,onDelete:_,onNodeDragStart:P,onNodeDrag:I,onNodeDragStop:A,onSelectionDrag:L,onSelectionDragStart:D,onSelectionDragStop:B,onMove:f,onMoveStart:p,onMoveEnd:g,noPanClassName:eG,nodeOrigin:ec,rfId:ty,autoPanOnConnect:e8,autoPanOnNodeDrag:e7,autoPanSpeed:e9,onError:tn,connectionRadius:te,isValidConnection:tt,selectNodesOnDrag:ei,nodeDragThreshold:ti,connectionDragThreshold:ta,onBeforeDelete:F,debug:th,ariaLabelConfig:tp,zIndexMode:tg}),(0,x.jsx)(tF,{onSelectionChange:R}),eO,(0,x.jsx)(tO,{proOptions:e2,position:e1}),(0,x.jsx)(tR,{rfId:ty,disableKeyboardA11y:e6})]})})});let ov=e=>e.domNode?.querySelector(".react-flow__edgelabel-renderer");function ow({children:e}){let t=tN(ov);return t?(0,tS.createPortal)(e,t):null}function oS({dimensions:e,lineWidth:t,variant:n,className:o}){return(0,x.jsx)("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:b(["react-flow__background-pattern",n,o])})}function oM({radius:e,className:t}){return(0,x.jsx)("circle",{cx:e,cy:e,r:e,className:b(["react-flow__background-pattern","dots",t])})}(s=m||(m={})).Lines="lines",s.Dots="dots",s.Cross="cross";let oE={[m.Dots]:1,[m.Lines]:1,[m.Cross]:6},oC=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function oN({id:e,variant:t=m.Dots,gap:n=20,size:o,lineWidth:r=1,offset:i=0,color:a,bgColor:l,style:s,className:d,patternClassName:c}){let u=(0,y.useRef)(null),{transform:h,patternId:f}=tN(oC,tw),p=o||oE[t],g=t===m.Dots,v=t===m.Cross,w=Array.isArray(n)?n:[n,n],S=[w[0]*h[2]||1,w[1]*h[2]||1],M=p*h[2],E=Array.isArray(i)?i:[i,i],C=v?[M,M]:S,N=[E[0]*h[2]||1+C[0]/2,E[1]*h[2]||1+C[1]/2],k=`${f}${e||""}`;return(0,x.jsxs)("svg",{className:b(["react-flow__background",d]),style:{...s,...na,"--xy-background-color-props":l,"--xy-background-pattern-color-props":a},ref:u,"data-testid":"rf__background",children:[(0,x.jsx)("pattern",{id:k,x:h[0]%S[0],y:h[1]%S[1],width:S[0],height:S[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`,children:g?(0,x.jsx)(oM,{radius:M/2,className:c}):(0,x.jsx)(oS,{dimensions:C,lineWidth:r,variant:t,className:c})}),(0,x.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${k})`})]})}oN.displayName="Background";let ok=(0,y.memo)(oN);function oj(){return(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,x.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function oP(){return(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,x.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function oI(){return(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,x.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function oA(){return(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,x.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function o$(){return(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,x.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function oz({children:e,className:t,...n}){return(0,x.jsx)("button",{type:"button",className:b(["react-flow__controls-button",t]),...n,children:e})}let o_=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function oR({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:o=!0,fitViewOptions:r,onZoomIn:i,onZoomOut:a,onFitView:l,onInteractiveChange:s,className:d,children:c,position:u="bottom-left",orientation:h="vertical","aria-label":f}){let p=tk(),{isInteractive:g,minZoomReached:m,maxZoomReached:y,ariaLabelConfig:v}=tN(o_,tw),{zoomIn:w,zoomOut:S,fitView:M}=no();return(0,x.jsxs)(tD,{className:b(["react-flow__controls","horizontal"===h?"horizontal":"vertical",d]),position:u,style:e,"data-testid":"rf__controls","aria-label":f??v["controls.ariaLabel"],children:[t&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(oz,{onClick:()=>{w(),i?.()},className:"react-flow__controls-zoomin",title:v["controls.zoomIn.ariaLabel"],"aria-label":v["controls.zoomIn.ariaLabel"],disabled:y,children:(0,x.jsx)(oj,{})}),(0,x.jsx)(oz,{onClick:()=>{S(),a?.()},className:"react-flow__controls-zoomout",title:v["controls.zoomOut.ariaLabel"],"aria-label":v["controls.zoomOut.ariaLabel"],disabled:m,children:(0,x.jsx)(oP,{})})]}),n&&(0,x.jsx)(oz,{className:"react-flow__controls-fitview",onClick:()=>{M(r),l?.()},title:v["controls.fitView.ariaLabel"],"aria-label":v["controls.fitView.ariaLabel"],children:(0,x.jsx)(oI,{})}),o&&(0,x.jsx)(oz,{className:"react-flow__controls-interactive",onClick:()=>{p.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),s?.(!g)},title:v["controls.interactive.ariaLabel"],"aria-label":v["controls.interactive.ariaLabel"],children:g?(0,x.jsx)(o$,{}):(0,x.jsx)(oA,{})}),c]})}oR.displayName="Controls",(0,y.memo)(oR);let oD=(0,y.memo)(function({id:e,x:t,y:n,width:o,height:r,style:i,color:a,strokeColor:l,strokeWidth:s,className:d,borderRadius:c,shapeRendering:u,selected:h,onClick:f}){let{background:p,backgroundColor:g}=i||{};return(0,x.jsx)("rect",{className:b(["react-flow__minimap-node",{selected:h},d]),x:t,y:n,rx:c,ry:c,width:o,height:r,style:{fill:a||p||g,stroke:l,strokeWidth:s},shapeRendering:u,onClick:f?t=>f(t,e):void 0})}),oO=e=>e.nodes.map(e=>e.id),oL=e=>e instanceof Function?e:()=>e,oB=(0,y.memo)(function({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:o,nodeBorderRadius:r,nodeStrokeWidth:i,shapeRendering:a,NodeComponent:l,onClick:s}){let{node:d,x:c,y:u,width:h,height:f}=tN(t=>{let{internals:n}=t.nodeLookup.get(e),o=n.userNode,{x:r,y:i}=n.positionAbsolute,{width:a,height:l}=eb(o);return{node:o,x:r,y:i,width:a,height:l}},tw);return d&&!d.hidden&&ev(d)?(0,x.jsx)(l,{x:c,y:u,width:h,height:f,style:d.style,selected:!!d.selected,className:o(d),color:t(d),borderRadius:r,strokeColor:n(d),strokeWidth:i,shapeRendering:a,onClick:s,id:d.id}):null});var oT=(0,y.memo)(function({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:o=5,nodeStrokeWidth:r,nodeComponent:i=oD,onClick:a}){let l=tN(oO,tw),s=oL(t),d=oL(e),c=oL(n),u="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return(0,x.jsx)(x.Fragment,{children:l.map(e=>(0,x.jsx)(oB,{id:e,nodeColorFunc:s,nodeStrokeColorFunc:d,nodeClassNameFunc:c,nodeBorderRadius:o,nodeStrokeWidth:r,NodeComponent:i,onClick:a,shapeRendering:u},e))})});let oH=e=>!e.hidden,oV=e=>{let t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?el(X(e.nodeLookup,{filter:oH}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}};function oF({style:e,className:t,nodeStrokeColor:n,nodeColor:o,nodeClassName:r="",nodeBorderRadius:i=5,nodeStrokeWidth:a,nodeComponent:l,bgColor:s,maskColor:d,maskStrokeColor:c,maskStrokeWidth:u,position:h="bottom-right",onClick:f,onNodeClick:p,pannable:g=!1,zoomable:m=!1,ariaLabel:v,inversePan:M,zoomStep:E=1,offsetScale:C=5}){let N=tk(),k=(0,y.useRef)(null),{boundingRect:j,viewBB:P,rfId:I,panZoom:A,translateExtent:z,flowWidth:_,flowHeight:R,ariaLabelConfig:D}=tN(oV,tw),O=e?.width??200,L=e?.height??150,B=Math.max(j.width/O,j.height/L),T=B*O,H=B*L,V=C*B,F=j.x-(T-j.width)/2-V,Z=j.y-(H-j.height)/2-V,W=T+2*V,X=H+2*V,K=`react-flow__minimap-desc-${I}`,Y=(0,y.useRef)(0),q=(0,y.useRef)();Y.current=B,(0,y.useEffect)(()=>{if(k.current&&A)return q.current=function({domNode:e,panZoom:t,getTransform:n,getViewScale:o}){let r=(0,w.select)(e);return{update:function({translateExtent:e,width:i,height:a,zoomStep:l=1,pannable:s=!0,zoomable:d=!0,inversePan:c=!1}){let u=[0,0],h=(0,$.default)().on("start",e=>{("mousedown"===e.sourceEvent.type||"touchstart"===e.sourceEvent.type)&&(u=[e.sourceEvent.clientX??e.sourceEvent.touches[0].clientX,e.sourceEvent.clientY??e.sourceEvent.touches[0].clientY])}).on("zoom",s?r=>{let l=n();if("mousemove"!==r.sourceEvent.type&&"touchmove"!==r.sourceEvent.type||!t)return;let s=[r.sourceEvent.clientX??r.sourceEvent.touches[0].clientX,r.sourceEvent.clientY??r.sourceEvent.touches[0].clientY],d=[s[0]-u[0],s[1]-u[1]];u=s;let h=o()*Math.max(l[2],Math.log(l[2]))*(c?-1:1),f={x:l[0]-d[0]*h,y:l[1]-d[1]*h};t.setViewportConstrained({x:f.x,y:f.y,zoom:l[2]},[[0,0],[i,a]],e)}:null).on("zoom.wheel",d?e=>{if("wheel"!==e.sourceEvent.type||!t)return;let o=n(),r=e.sourceEvent.ctrlKey&&ex()?10:1,i=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*l,a=o[2]*Math.pow(2,i*r);t.scaleTo(a)}:null);r.call(h,{})},destroy:function(){r.on("zoom",null)},pointer:S.pointer}}({domNode:k.current,panZoom:A,getTransform:()=>N.getState().transform,getViewScale:()=>Y.current}),()=>{q.current?.destroy()}},[A]),(0,y.useEffect)(()=>{q.current?.update({translateExtent:z,width:_,height:R,inversePan:M,pannable:g,zoomStep:E,zoomable:m})},[g,m,M,E,z,_,R]);let U=f?e=>{let[t,n]=q.current?.pointer(e)||[0,0];f(e,{x:t,y:n})}:void 0,G=p?(0,y.useCallback)((e,t)=>{p(e,N.getState().nodeLookup.get(t).internals.userNode)},[]):void 0,Q=v??D["minimap.ariaLabel"];return(0,x.jsx)(tD,{position:h,style:{...e,"--xy-minimap-background-color-props":"string"==typeof s?s:void 0,"--xy-minimap-mask-background-color-props":"string"==typeof d?d:void 0,"--xy-minimap-mask-stroke-color-props":"string"==typeof c?c:void 0,"--xy-minimap-mask-stroke-width-props":"number"==typeof u?u*B:void 0,"--xy-minimap-node-background-color-props":"string"==typeof o?o:void 0,"--xy-minimap-node-stroke-color-props":"string"==typeof n?n:void 0,"--xy-minimap-node-stroke-width-props":"number"==typeof a?a:void 0},className:b(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:(0,x.jsxs)("svg",{width:O,height:L,viewBox:`${F} ${Z} ${W} ${X}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":K,ref:k,onClick:U,children:[Q&&(0,x.jsx)("title",{id:K,children:Q}),(0,x.jsx)(oT,{onClick:G,nodeColor:o,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:r,nodeStrokeWidth:a,nodeComponent:l}),(0,x.jsx)("path",{className:"react-flow__minimap-mask",d:`M${F-V},${Z-V}h${W+2*V}v${X+2*V}h${-W-2*V}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}oF.displayName="MiniMap";let oZ=(0,y.memo)(oF),oW={[g.Line]:"right",[g.Handle]:"bottom-right"};(0,y.memo)(function({nodeId:e,position:t,variant:n=g.Handle,className:o,style:r,children:i,color:a,minWidth:l=10,minHeight:s=10,maxWidth:d=Number.MAX_VALUE,maxHeight:c=Number.MAX_VALUE,keepAspectRatio:u=!1,resizeDirection:h,autoScale:f=!0,shouldResize:p,onResizeStart:m,onResize:v,onResizeEnd:S}){let M,E=nb(),C="string"==typeof e?e:E,N=tk(),k=(0,y.useRef)(null),j=n===g.Handle,P=tN((0,y.useCallback)((M=j&&f,e=>M?`${Math.max(1/e.transform[2],1)}`:void 0),[j,f]),tw),I=(0,y.useRef)(null),$=t??oW[n];(0,y.useEffect)(()=>{if(k.current&&C)return I.current||(I.current=function({domNode:e,nodeId:t,getStoreItems:n,onChange:o,onEnd:r}){let i=(0,w.select)(e),a={controlDirection:tl("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};return{update:function({controlPosition:e,boundaries:l,keepAspectRatio:s,resizeDirection:d,onResizeStart:c,onResize:u,onResizeEnd:h,shouldResize:f}){let p,g,m,x,y={...tu},b={...th};a={boundaries:l,resizeDirection:d,keepAspectRatio:s,controlDirection:tl(e)};let v=null,w=[],S=!1,M=A().on("start",e=>{let{nodeLookup:o,transform:r,snapGrid:i,snapToGrid:a,nodeOrigin:l,paneDomNode:s}=n();if(!(p=o.get(t)))return;v=s?.getBoundingClientRect()??null;let{xSnapped:d,ySnapped:u}=eM(e.sourceEvent,{transform:r,snapGrid:i,snapToGrid:a,containerBounds:v});if(b={...y={width:p.measured.width??0,height:p.measured.height??0,x:p.position.x??0,y:p.position.y??0},pointerX:d,pointerY:u,aspectRatio:y.width/y.height},g=void 0,p.parentId&&("parent"===p.extent||p.expandParent)){var h;m=(g=o.get(p.parentId))&&"parent"===p.extent?[[0,0],[(h=g).measured.width,h.measured.height]]:void 0}for(let[e,n]of(w=[],x=void 0,o))if(n.parentId===t&&(w.push({id:e,position:{...n.position},extent:n.extent}),"parent"===n.extent||n.expandParent)){let e=function(e,t,n){let o=t.position.x+e.position.x,r=t.position.y+e.position.y,i=e.measured.width??0,a=e.measured.height??0,l=n[0]*i,s=n[1]*a;return[[o-l,r-s],[o+i-l,r+a-s]]}(n,p,n.origin??l);x=x?[[Math.min(e[0][0],x[0][0]),Math.min(e[0][1],x[0][1])],[Math.max(e[1][0],x[1][0]),Math.max(e[1][1],x[1][1])]]:e}c?.(e,{...y})}).on("drag",e=>{let{transform:t,snapGrid:r,snapToGrid:i,nodeOrigin:l}=n(),s=eM(e.sourceEvent,{transform:t,snapGrid:r,snapToGrid:i,containerBounds:v}),d=[];if(!p)return;let{x:c,y:h,width:M,height:E}=y,C={},N=p.origin??l,{width:k,height:j,x:P,y:I}=function(e,t,n,o,r,i,a,l){var s,d,c,u;let{affectsX:h,affectsY:f}=t,{isHorizontal:p,isVertical:g}=t,m=p&&g,{xSnapped:x,ySnapped:y}=n,{minWidth:b,maxWidth:v,minHeight:w,maxHeight:S}=o,{x:M,y:E,width:C,height:N,aspectRatio:k}=e,j=Math.floor(p?x-e.pointerX:0),P=Math.floor(g?y-e.pointerY:0),I=C+(h?-j:j),A=N+(f?-P:P),$=-i[0]*C,z=-i[1]*N,_=tc(I,b,v),R=tc(A,w,S);if(a){let e=0,t=0;h&&j<0?e=ts(M+j+$,a[0][0]):!h&&j>0&&(e=td(M+I+$,a[1][0])),f&&P<0?t=ts(E+P+z,a[0][1]):!f&&P>0&&(t=td(E+A+z,a[1][1])),_=Math.max(_,e),R=Math.max(R,t)}if(l){let e=0,t=0;h&&j>0?e=td(M+j,l[0][0]):!h&&j<0&&(e=ts(M+I,l[1][0])),f&&P>0?t=td(E+P,l[0][1]):!f&&P<0&&(t=ts(E+A,l[1][1])),_=Math.max(_,e),R=Math.max(R,t)}if(r){if(p){(_=Math.max(_,tc(I/k,w,S)*k),a)&&(_=Math.max(_,(h||f)&&(!h||f||!m)?ts(E+z+(h?j:-j)/k,a[0][1])*k:td(E+z+I/k,a[1][1])*k));l&&(_=Math.max(_,(h||f)&&(!h||f||!m)?td(E+(h?j:-j)/k,l[0][1])*k:ts(E+I/k,l[1][1])*k))}if(g){(R=Math.max(R,tc(A*k,b,v)/k),a)&&(R=Math.max(R,(h||f)&&(!f||h||!m)?ts(M+(f?P:-P)*k+$,a[0][0])/k:td(M+A*k+$,a[1][0])/k));l&&(R=Math.max(R,(h||f)&&(!f||h||!m)?td(M+(f?P:-P)*k,l[0][0])/k:ts(M+A*k,l[1][0])/k))}}P+=P<0?R:-R,j+=j<0?_:-_,r&&(m?I>A*k?P=((s=h,d=f,s?!d:d)?-j:j)/k:j=((c=h,u=f,c?!u:u)?-P:P)*k:p?(P=j/k,f=h):(j=P*k,h=f));let D=h?M+j:M,O=f?E+P:E;return{width:C+(h?-j:j),height:N+(f?-P:P),x:i[0]*j*(h?-1:1)+D,y:i[1]*P*(f?-1:1)+O}}(b,a.controlDirection,s,a.boundaries,a.keepAspectRatio,N,m,x),A=k!==M,$=j!==E,z=P!==c&&A,_=I!==h&&$;if(!z&&!_&&!A&&!$)return;if((z||_||1===N[0]||1===N[1])&&(C.x=z?P:y.x,C.y=_?I:y.y,y.x=C.x,y.y=C.y,w.length>0)){let e=P-c,t=I-h;for(let n of w)n.position={x:n.position.x-e+N[0]*(k-M),y:n.position.y-t+N[1]*(j-E)},d.push(n)}if((A||$)&&(C.width=A&&(!a.resizeDirection||"horizontal"===a.resizeDirection)?k:y.width,C.height=$&&(!a.resizeDirection||"vertical"===a.resizeDirection)?j:y.height,y.width=C.width,y.height=C.height),g&&p.expandParent){let e=N[0]*(C.width??0);C.x&&C.x<e&&(y.x=e,b.x=b.x-(C.x-e));let t=N[1]*(C.height??0);C.y&&C.y<t&&(y.y=t,b.y=b.y-(C.y-t))}let R=function({width:e,prevWidth:t,height:n,prevHeight:o,affectsX:r,affectsY:i}){let a=e-t,l=n-o,s=[a>0?1:a<0?-1:0,l>0?1:l<0?-1:0];return a&&r&&(s[0]=-1*s[0]),l&&i&&(s[1]=-1*s[1]),s}({width:y.width,prevWidth:M,height:y.height,prevHeight:E,affectsX:a.controlDirection.affectsX,affectsY:a.controlDirection.affectsY}),D={...y,direction:R};!1!==f?.(e,D)&&(S=!0,u?.(e,D),o(C,d))}).on("end",e=>{S&&(h?.(e,{...y}),r?.({...y}),S=!1)});i.call(M)},destroy:function(){i.on(".drag",null)}}}({domNode:k.current,nodeId:C,getStoreItems:()=>{let{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:o,nodeOrigin:r,domNode:i}=N.getState();return{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:o,nodeOrigin:r,paneDomNode:i}},onChange:(e,t)=>{let{triggerNodeChanges:n,nodeLookup:o,parentLookup:r,nodeOrigin:i}=N.getState(),a=[],l={x:e.x,y:e.y},s=o.get(C);if(s&&s.expandParent&&s.parentId){let t=s.origin??i,n=e.width??s.measured.width??0,d=e.height??s.measured.height??0,c=eJ([{id:s.id,parentId:s.parentId,rect:{width:n,height:d,...ew({x:e.x??s.position.x,y:e.y??s.position.y},{width:n,height:d},s.parentId,o,t)}}],o,r,i);a.push(...c),l.x=e.x?Math.max(t[0]*n,e.x):void 0,l.y=e.y?Math.max(t[1]*d,e.y):void 0}if(void 0!==l.x&&void 0!==l.y){let e={id:C,type:"position",position:{...l}};a.push(e)}if(void 0!==e.width&&void 0!==e.height){let t={id:C,type:"dimensions",resizing:!0,setAttributes:!h||("horizontal"===h?"width":"height"),dimensions:{width:e.width,height:e.height}};a.push(t)}for(let e of t){let t={...e,type:"position"};a.push(t)}n(a)},onEnd:({width:e,height:t})=>{N.getState().triggerNodeChanges([{id:C,type:"dimensions",resizing:!1,dimensions:{width:e,height:t}}])}})),I.current.update({controlPosition:$,boundaries:{minWidth:l,minHeight:s,maxWidth:d,maxHeight:c},keepAspectRatio:u,resizeDirection:h,onResizeStart:m,onResize:v,onResizeEnd:S,shouldResize:p}),()=>{I.current?.destroy()}},[$,l,s,d,c,u,m,v,S,p]);let z=$.split("-");return(0,x.jsx)("div",{className:b(["react-flow__resize-control","nodrag",...z,n,o]),ref:k,style:{...r,scale:P,...a&&{[j?"backgroundColor":"borderColor"]:a}},children:i})});var oX=e.i(47163),oK=e.i(49236),oY=e.i(69742),oq=e.i(62318),oU=e.i(70856),oG=e.i(72115),oQ=e.i(67470),oJ=e.i(96493),o0=e.i(56625);let o1={orchestrator:{icon:oJ.Cpu,color:"#f43f5e",size:80,ringWidth:3,label:"Orchestrator"},specialist:{icon:oU.Brain,color:"#8b5cf6",size:64,ringWidth:2,label:"Specialist"},analyzer:{icon:oq.Bot,color:"#3b82f6",size:64,ringWidth:2,label:"Analyzer"},tool:{icon:oG.Wrench,color:"#22d3ee",size:52,ringWidth:2,label:"Tool"},assistant:{icon:oQ.Users,color:"#34d399",size:52,ringWidth:2,label:"Assistant"}},o2={trabalhando:{color:"#22d3ee",pulse:!0,label:"Working"},disponivel:{color:"#6b7280",pulse:!1,label:"Available"},esperando_voce:{color:"#fbbf24",pulse:!0,label:"Awaiting Input"},offline:{color:"#374151",pulse:!1,label:"Offline"},erro:{color:"#ef4444",pulse:!0,label:"Error"}},o5=(0,y.memo)(function({data:e,selected:t}){let n=o1[e.type]??o1.tool,o=o2[e.status]??o2.disponivel,r=n.icon,i=n.size,a="trabalhando"===e.status,l="erro"===e.status,s="esperando_voce"===e.status;return(0,x.jsxs)("div",{className:"relative",style:{width:i,height:i},children:[(0,x.jsx)(nw,{type:"target",position:p.Top,className:(0,oX.cn)("w-2 h-2 !bg-white/20 !border-white/30","transition-all duration-200","hover:!bg-white/40 hover:!border-white/50")}),(t||a)&&(0,x.jsx)(oY.motion.div,{className:"absolute inset-0 rounded-full",style:{boxShadow:`0 0 ${t?30:20}px ${n.color}40`},animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),(0,x.jsxs)(oY.motion.div,{className:(0,oX.cn)("relative w-full h-full rounded-full","bg-gradient-to-br from-white/10 to-white/5","backdrop-blur-xl","border-2 transition-all duration-300",t&&"scale-110"),style:{borderColor:t?n.color:`${n.color}60`,boxShadow:t?`0 0 20px ${n.color}40, inset 0 0 20px rgba(255,255,255,0.05)`:"inset 0 0 20px rgba(255,255,255,0.05)"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,x.jsx)("div",{className:"absolute inset-1 rounded-full bg-gradient-to-br from-white/5 via-transparent to-transparent"}),(0,x.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,x.jsx)(r,{className:"transition-colors duration-200",style:{color:t?n.color:`${n.color}cc`,width:.4*i,height:.4*i}})}),(0,x.jsx)("div",{className:(0,oX.cn)("absolute -bottom-1 -right-1","w-4 h-4 rounded-full","border-2 border-[#0a0a0f]",o.pulse&&"animate-pulse"),style:{backgroundColor:o.color},title:o.label}),l&&(0,x.jsx)(oY.motion.div,{className:"absolute -top-1 -right-1",animate:{scale:[1,1.2,1]},transition:{duration:.5,repeat:1/0},children:(0,x.jsx)(o0.AlertCircle,{className:"w-4 h-4 text-rose-500"})}),s&&(0,x.jsx)(oY.motion.div,{className:"absolute -top-1 -left-1",animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:1/0},children:(0,x.jsx)(oQ.Users,{className:"w-4 h-4 text-amber-400"})})]}),(0,x.jsx)(nw,{type:"source",position:p.Bottom,className:(0,oX.cn)("w-2 h-2 !bg-white/20 !border-white/30","transition-all duration-200","hover:!bg-white/40 hover:!border-white/50")}),(0,x.jsx)("div",{className:(0,oX.cn)("absolute left-1/2 -translate-x-1/2","mt-2 px-2 py-0.5 rounded-md","bg-black/60 backdrop-blur-sm","border border-white/10","whitespace-nowrap"),style:{top:i},children:(0,x.jsx)("span",{className:"text-[10px] font-medium text-white/80",children:e.name})}),(t||a)&&e.metrics&&(0,x.jsx)(oY.motion.div,{className:(0,oX.cn)("absolute left-1/2 -translate-x-1/2","px-2 py-1 rounded-md","bg-black/80 backdrop-blur-sm","border border-white/10","whitespace-nowrap"),style:{top:i+24},initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},children:(0,x.jsxs)("div",{className:"flex items-center gap-3 text-[9px]",children:[(0,x.jsxs)("span",{className:"text-white/50",children:[e.metrics.requestsPerMin," ",(0,x.jsx)("span",{className:"text-white/30",children:"req/m"})]}),(0,x.jsxs)("span",{className:"text-white/50",children:[e.metrics.p95Latency," ",(0,x.jsx)("span",{className:"text-white/30",children:"ms"})]}),e.metrics.errorRate>0&&(0,x.jsxs)("span",{className:"text-rose-400",children:[(100*e.metrics.errorRate).toFixed(1),"% ",(0,x.jsx)("span",{className:"text-rose-400/60",children:"err"})]})]})}),e.currentTask&&t&&(0,x.jsx)(oY.motion.div,{className:(0,oX.cn)("absolute left-1/2 -translate-x-1/2","px-2 py-1 rounded-md","bg-black/80 backdrop-blur-sm","border border-cyan-500/30","whitespace-nowrap max-w-[200px]"),style:{bottom:i+8,transform:"translateX(-50%)"},initial:{opacity:0,y:5},animate:{opacity:1,y:0},children:(0,x.jsx)("span",{className:"text-[9px] text-cyan-300 line-clamp-1",children:e.currentTask})})]})}),o3={delegation:{color:"#f43f5e",label:"Delegation",dashArray:void 0},tool_call:{color:"#22d3ee",label:"Tool Call",dashArray:void 0},response:{color:"#34d399",label:"Response",dashArray:"5,5"},notification:{color:"#fbbf24",label:"Notification",dashArray:"8,4"},unknown:{color:"#6b7280",label:"Message",dashArray:"2,2"}},o4=(0,y.memo)(function({id:e,sourceX:t,sourceY:n,targetX:o,targetY:r,sourcePosition:i,targetPosition:a,data:l,selected:s}){let[d,c,u]=ez({sourceX:t,sourceY:n,sourcePosition:i,targetX:o,targetY:r,targetPosition:a,curvature:.25}),h=o3[l?.messageType??"delegation"]??o3.delegation,f=l?.isActive??!1,p=f?2.5:1.5,g=f?1:.4,m=`edge-gradient-${e}`,b=`edge-glow-${e}`;return(0,y.useMemo)(()=>{let e=o-t,i=r-n;return 1.2*Math.sqrt(e*e+i*i)},[t,n,o,r]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("defs",{children:[f&&(0,x.jsxs)("linearGradient",{id:m,gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{offset:"0%",stopColor:h.color,stopOpacity:"0.2"}),(0,x.jsx)("stop",{offset:"50%",stopColor:h.color,stopOpacity:"1"}),(0,x.jsx)("stop",{offset:"100%",stopColor:h.color,stopOpacity:"0.2"}),(0,x.jsx)("animate",{attributeName:"x1",from:"-100%",to:"100%",dur:"1.5s",repeatCount:"indefinite"}),(0,x.jsx)("animate",{attributeName:"x2",from:"0%",to:"200%",dur:"1.5s",repeatCount:"indefinite"})]}),(f||s)&&(0,x.jsxs)("filter",{id:b,x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,x.jsx)("feGaussianBlur",{stdDeviation:"3",result:"blur"}),(0,x.jsxs)("feMerge",{children:[(0,x.jsx)("feMergeNode",{in:"blur"}),(0,x.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),f&&(0,x.jsx)("path",{d:d,fill:"none",stroke:h.color,strokeWidth:p+4,strokeOpacity:.15,filter:`url(#${b})`}),(0,x.jsx)(nH,{id:e,path:d,style:{stroke:f?`url(#${m})`:h.color,strokeWidth:p,strokeOpacity:g,strokeDasharray:h.dashArray,transition:"stroke-width 0.2s, stroke-opacity 0.2s"}}),f&&(0,x.jsx)("circle",{r:"3",fill:h.color,children:(0,x.jsx)("animateMotion",{dur:"2s",repeatCount:"indefinite",path:d})}),(s||f)&&l?.lastMessage&&(0,x.jsx)(ow,{children:(0,x.jsx)(oY.motion.div,{className:(0,oX.cn)("absolute px-2 py-1 rounded-md","bg-black/80 backdrop-blur-sm","border border-white/10","pointer-events-none","max-w-[150px]"),style:{transform:`translate(-50%, -50%) translate(${c}px, ${u}px)`},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:(0,x.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,x.jsx)("span",{className:"text-[8px] font-medium uppercase tracking-wider",style:{color:h.color},children:h.label}),(0,x.jsx)("span",{className:"text-[9px] text-white/70 line-clamp-2",children:l.lastMessage})]})})}),s&&l?.lastActivity&&(0,x.jsx)(ow,{children:(0,x.jsx)("div",{className:(0,oX.cn)("absolute px-1.5 py-0.5 rounded","bg-black/60 backdrop-blur-sm","pointer-events-none"),style:{transform:`translate(-50%, 10px) translate(${c}px, ${u}px)`},children:(0,x.jsx)("span",{className:"text-[8px] text-white/40",children:new Date(l.lastActivity).toLocaleTimeString()})})})]})});var o6=e.i(28338),o8=e.i(31351),o7=e.i(51407),o9=e.i(48162),re=e.i(98631);let rt=(0,re.default)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),rn=(0,re.default)("circle-dot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);var ro=e.i(28299);function rr({icon:e,label:t,onClick:n,active:o,disabled:r}){return(0,x.jsx)(oY.motion.button,{onClick:n,disabled:r,className:(0,oX.cn)("p-2 rounded-lg","transition-all duration-200",o?"bg-cyan-500/20 text-cyan-400 border-cyan-500/30":"bg-white/5 text-white/50 border-white/10","border","hover:bg-white/10 hover:text-white/80","disabled:opacity-30 disabled:cursor-not-allowed"),whileHover:{scale:1.05},whileTap:{scale:.95},title:t,children:(0,x.jsx)(e,{className:"w-4 h-4"})})}function ri({layout:e,onLayoutChange:t,onRecalculateLayout:n,className:o}){let{zoomIn:r,zoomOut:i,fitView:a}=no();return(0,x.jsxs)("div",{className:(0,oX.cn)("flex flex-col gap-2",o),children:[(0,x.jsxs)("div",{className:(0,oX.cn)("flex flex-col gap-1 p-1.5 rounded-xl","bg-black/60 backdrop-blur-sm","border border-white/10"),children:[(0,x.jsx)(rr,{icon:o6.ZoomIn,label:"Zoom In",onClick:()=>r({duration:200})}),(0,x.jsx)(rr,{icon:o8.ZoomOut,label:"Zoom Out",onClick:()=>i({duration:200})}),(0,x.jsx)(rr,{icon:o7.Maximize2,label:"Fit View",onClick:()=>{a({padding:.2,duration:400})}})]}),(0,x.jsxs)("div",{className:(0,oX.cn)("flex flex-col gap-1 p-1.5 rounded-xl","bg-black/60 backdrop-blur-sm","border border-white/10"),children:[(0,x.jsx)(rr,{icon:rn,label:"Radial Layout",onClick:()=>t("radial"),active:"radial"===e}),(0,x.jsx)(rr,{icon:ro.Layers,label:"Hierarchical Layout",onClick:()=>t("hierarchical"),active:"hierarchical"===e}),(0,x.jsx)(rr,{icon:rt,label:"Grid Layout",onClick:()=>t("grid"),active:"grid"===e})]}),(0,x.jsx)("div",{className:(0,oX.cn)("flex flex-col gap-1 p-1.5 rounded-xl","bg-black/60 backdrop-blur-sm","border border-white/10"),children:(0,x.jsx)(rr,{icon:o9.RotateCcw,label:"Reset Layout",onClick:n})})]})}var ra=e.i(53557),rl=e.i(16);let rs={agent:o5},rd={"agent-connection":o4};function rc({className:e}){let[t,n]=(0,y.useState)("radial"),{nodes:o,edges:r,onNodesChange:i,onEdgesChange:a,selectedNodeId:l,setSelectedNodeId:s,recalculateLayout:d,getNode:c}=function(e={}){let{agents:t=oK.mockAgents,connections:n=oK.mockConnections,layout:o="radial"}=e,[r,i]=(0,y.useState)(null),[a,l]=(0,y.useState)(0),s=(0,y.useMemo)(()=>{if("hierarchical"===o){let e,n,o;return e=new Map,n={orchestrator:[],specialist:[],analyzer:[],tool:[],assistant:[]},t.forEach(e=>{n[e.type]&&n[e.type].push(e)}),o=50,["orchestrator","specialist","analyzer","tool","assistant"].forEach(t=>{let r=n[t];if(0===r.length)return;let i=400-(r.length-1)*200/2;r.forEach(t=>{e.set(t.id,{x:i,y:o}),i+=200}),o+=150}),e}{let e,n,o,r,i;return e=new Map,n=t.find(e=>"orchestrator"===e.type),o=t.filter(e=>"orchestrator"!==e.type),n&&e.set(n.id,{x:400,y:300}),r={specialist:1,analyzer:1,tool:2,assistant:2},i=[[],[]],o.forEach(e=>{i[(r[e.type]??1)-1].push(e)}),i.forEach((t,n)=>{let o=180+140*n,r=2*Math.PI/Math.max(t.length,1),i=-Math.PI/2;t.forEach((t,n)=>{let a=i+n*r;e.set(t.id,{x:400+o*Math.cos(a),y:300+o*Math.sin(a)})})}),e}},[t,o,a]),d=(0,y.useMemo)(()=>t.map(e=>{let t=s.get(e.id)??{x:0,y:0};return{id:e.id,type:"agent",position:t,data:e,selected:e.id===r}}),[t,s,r]),c=(0,y.useMemo)(()=>n.map((e,t)=>{let n,o;return{id:`edge-${e.sourceId}-${e.targetId}-${t}`,type:"agent-connection",source:e.sourceId,target:e.targetId,data:e,...(n={strokeWidth:2,stroke:e.isActive?"#22d3ee":"#374151"},o=e.isActive?{animated:!0}:{},{style:{...n,stroke:e.isActive?({delegation:"#f43f5e",tool_call:"#22d3ee",response:"#34d399",error:"#ef4444"})[e.messageType]??n.stroke:n.stroke},...o})}}),[n]),[u,h]=(0,y.useState)(d),[f,p]=(0,y.useState)(c);(0,y.useMemo)(()=>{h(d)},[d]),(0,y.useMemo)(()=>{p(c)},[c]);let g=(0,y.useCallback)(e=>{h(t=>t1(e,t))},[]),m=(0,y.useCallback)(e=>{p(t=>t1(e,t))},[]),x=(0,y.useCallback)(e=>u.find(t=>t.id===e),[u]);return{nodes:u,edges:f,onNodesChange:g,onEdgesChange:m,getNode:x,selectedNodeId:r,setSelectedNodeId:i,recalculateLayout:(0,y.useCallback)(()=>{l(e=>e+1)},[])}}({layout:t}),u=(0,y.useCallback)(({nodes:e})=>{e.length>0?s(e[0].id):s(null)},[s]),h=(0,y.useCallback)(e=>{n(e)},[]),f=(0,y.useMemo)(()=>l?c(l):null,[l,c]);return(0,x.jsxs)("div",{className:(0,oX.cn)("relative w-full h-full",e),children:[(0,x.jsxs)(ob,{nodes:o,edges:r,onNodesChange:i,onEdgesChange:a,onSelectionChange:u,nodeTypes:rs,edgeTypes:rd,fitView:!0,fitViewOptions:{padding:rl.REACT_FLOW_CONFIG.fitViewPadding},minZoom:rl.REACT_FLOW_CONFIG.minZoom,maxZoom:rl.REACT_FLOW_CONFIG.maxZoom,defaultViewport:{x:0,y:0,zoom:rl.REACT_FLOW_CONFIG.defaultZoom},nodeDragThreshold:rl.REACT_FLOW_CONFIG.nodeDragThreshold,proOptions:{hideAttribution:!0},className:"bg-transparent",children:[(0,x.jsx)(ok,{variant:m.Dots,gap:20,size:1,color:"rgba(255, 255, 255, 0.05)"}),(0,x.jsx)(oZ,{nodeColor:e=>({orchestrator:"#f43f5e",specialist:"#8b5cf6",analyzer:"#3b82f6",tool:"#22d3ee",assistant:"#34d399"})[e.data?.type]??"#6b7280",maskColor:"rgba(0, 0, 0, 0.8)",className:(0,oX.cn)("!absolute !bottom-4 !left-4","!bg-black/60 !backdrop-blur-sm","!border !border-white/10 !rounded-lg","!overflow-hidden"),style:{width:150,height:100},pannable:!0,zoomable:!0})]}),(0,x.jsx)(ri,{layout:t,onLayoutChange:h,onRecalculateLayout:d,className:"absolute top-4 right-4"}),f&&(0,x.jsx)(ru,{node:f,onClose:()=>s(null)}),(0,x.jsx)(rf,{className:"absolute bottom-4 right-4"})]})}function ru({node:e,onClose:t}){let n=e.data;return(0,x.jsxs)(ra.GlassPanel,{variant:"elevated",padding:"md",className:"absolute top-4 left-4 w-72",children:[(0,x.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{className:"text-sm font-semibold text-white/90",children:n.name}),(0,x.jsx)("p",{className:"text-xs text-white/50 capitalize",children:n.type})]}),(0,x.jsx)("button",{onClick:t,className:(0,oX.cn)("p-1 rounded-md","text-white/40 hover:text-white/80","hover:bg-white/10 transition-colors"),children:""})]}),(0,x.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,x.jsx)("span",{className:"text-xs text-white/50",children:"Status:"}),(0,x.jsx)("span",{className:(0,oX.cn)("text-xs font-medium px-2 py-0.5 rounded-full","trabalhando"===n.status&&"bg-cyan-500/20 text-cyan-400","disponivel"===n.status&&"bg-white/10 text-white/60","esperando_voce"===n.status&&"bg-amber-500/20 text-amber-400","erro"===n.status&&"bg-rose-500/20 text-rose-400","offline"===n.status&&"bg-white/5 text-white/40"),children:{trabalhando:"Working",disponivel:"Available",esperando_voce:"Awaiting Input",offline:"Offline",erro:"Error"}[n.status]??n.status})]}),n.metrics&&(0,x.jsxs)("div",{className:"space-y-2 pt-2 border-t border-white/10",children:[(0,x.jsx)(rh,{label:"Requests/min",value:n.metrics.requestsPerMin}),(0,x.jsx)(rh,{label:"P95 Latency",value:`${n.metrics.p95Latency}ms`}),(0,x.jsx)(rh,{label:"Error Rate",value:`${(100*n.metrics.errorRate).toFixed(2)}%`,warning:n.metrics.errorRate>.05}),(0,x.jsx)(rh,{label:"Active Runs",value:n.metrics.activeRuns}),(0,x.jsx)(rh,{label:"Cost/hour",value:`$${n.metrics.costPerHour.toFixed(2)}`})]}),n.currentTask&&(0,x.jsxs)("div",{className:"mt-3 pt-2 border-t border-white/10",children:[(0,x.jsx)("p",{className:"text-xs text-white/50 mb-1",children:"Current Task:"}),(0,x.jsx)("p",{className:"text-xs text-white/80",children:n.currentTask})]}),n.pendingDecision&&(0,x.jsxs)("div",{className:"mt-3 pt-2 border-t border-amber-500/30 bg-amber-500/5 -mx-4 px-4 pb-1",children:[(0,x.jsx)("p",{className:"text-xs text-amber-400 mb-1",children:" Awaiting Decision:"}),(0,x.jsx)("p",{className:"text-xs text-white/80",children:n.pendingDecision})]})]})}function rh({label:e,value:t,warning:n}){return(0,x.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,x.jsx)("span",{className:"text-white/50",children:e}),(0,x.jsx)("span",{className:(0,oX.cn)("font-medium",n?"text-rose-400":"text-white/80"),children:t})]})}function rf({className:e}){return(0,x.jsxs)(ra.GlassPanel,{variant:"subtle",padding:"sm",className:(0,oX.cn)("w-36",e),children:[(0,x.jsx)("p",{className:"text-[10px] font-medium text-white/50 uppercase tracking-wider mb-2",children:"Agent Types"}),(0,x.jsx)("div",{className:"space-y-1.5",children:[{type:"Orchestrator",color:"#f43f5e"},{type:"Specialist",color:"#8b5cf6"},{type:"Analyzer",color:"#3b82f6"},{type:"Tool",color:"#22d3ee"},{type:"Assistant",color:"#34d399"}].map(({type:e,color:t})=>(0,x.jsxs)("div",{className:"flex items-center gap-2",children:[(0,x.jsx)("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:t}}),(0,x.jsx)("span",{className:"text-[10px] text-white/60",children:e})]},e))})]})}function rp({className:e}){return(0,x.jsx)(om,{children:(0,x.jsx)(rc,{className:e})})}e.s(["LiveMap",()=>rp,"default",0,rp],56643)}]);