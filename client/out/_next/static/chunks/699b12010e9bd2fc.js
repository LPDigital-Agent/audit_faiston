(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23145,e=>{"use strict";let t=(0,e.i(98631).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],23145)},23750,e=>{"use strict";var t=e.i(49973),s=e.i(47163);function a({className:e,type:a,...r}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}e.s(["Input",()=>a])},54754,e=>{"use strict";let t=(0,e.i(98631).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],54754)},20334,e=>{"use strict";let t=(0,e.i(98631).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>t],20334)},2138,e=>{"use strict";e.s(["handleAuthError",0,e=>{let t=e.code||e.name||"UnknownError",s=e.message||"Erro desconhecido";switch(t){case"UsernameExistsException":return{code:t,message:s,userMessage:"Já existe uma conta com este email.",action:"redirect",redirectTo:"/login"};case"InvalidPasswordException":return{code:t,message:s,userMessage:"A senha deve ter pelo menos 8 caracteres, incluindo maiúscula, minúscula, número e caractere especial.",action:"retry"};case"UserNotConfirmedException":return{code:t,message:s,userMessage:"Por favor, verifique seu email antes de fazer login.",action:"redirect",redirectTo:"/confirm-signup"};case"CodeMismatchException":return{code:t,message:s,userMessage:"Código de verificação inválido. Por favor, tente novamente.",action:"retry"};case"ExpiredCodeException":return{code:t,message:s,userMessage:"Este código expirou. Por favor, solicite um novo código.",action:"resend"};case"AliasExistsException":return{code:t,message:s,userMessage:"Este email já está verificado em outra conta.",action:"redirect",redirectTo:"/login"};case"NotAuthorizedException":case"UserNotFoundException":return{code:t,message:s,userMessage:"Email ou senha incorretos.",action:"retry"};case"NewPasswordRequired":return{code:t,message:s,userMessage:"Você precisa definir uma nova senha.",action:"redirect",redirectTo:"/new-password"};case"PasswordResetRequiredException":return{code:t,message:s,userMessage:'Sua senha precisa ser redefinida. Por favor, use "Esqueci minha senha".',action:"redirect",redirectTo:"/forgot-password"};case"UserDisabledException":return{code:t,message:s,userMessage:"Esta conta foi desativada. Entre em contato com o suporte.",action:"retry"};case"LimitExceededException":case"TooManyRequestsException":return{code:t,message:s,userMessage:"Muitas tentativas. Por favor, aguarde alguns minutos e tente novamente.",action:"wait"};case"TooManyFailedAttemptsException":return{code:t,message:s,userMessage:"Conta temporariamente bloqueada por muitas tentativas incorretas. Tente novamente mais tarde.",action:"wait"};case"InvalidParameterException":return{code:t,message:s,userMessage:"Dados inválidos. Por favor, verifique as informações e tente novamente.",action:"retry"};case"InvalidEmailRoleAccessPolicyException":return{code:t,message:s,userMessage:"Não foi possível enviar o email. Tente novamente mais tarde.",action:"retry"};case"NetworkError":return{code:t,message:s,userMessage:"Erro de conexão. Verifique sua internet e tente novamente.",action:"retry"};default:return{code:t,message:s,userMessage:"Ocorreu um erro inesperado. Por favor, tente novamente.",action:"retry"}}}])},98227,e=>{"use strict";let t=(0,e.i(98631).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],98227)},91438,e=>{"use strict";var t=e.i(49973),s=e.i(18939),a=e.i(93149),r=e.i(91514),i=e.i(69742),n=e.i(79278),c=e.i(98227),o=e.i(23145),l=e.i(20334),d=e.i(29126),u=e.i(54754);let m=(0,e.i(98631).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var x=e.i(67881),h=e.i(23750),p=e.i(83642),f=e.i(2138),v=e.i(62465);function b(){let e=(0,a.useRouter)(),{changePassword:b,user:y}=(0,p.useAuth)(),[j,w]=(0,s.useState)(""),[N,E]=(0,s.useState)(""),[k,M]=(0,s.useState)(""),[C,A]=(0,s.useState)(!1),[P,S]=(0,s.useState)(!1),[T,U]=(0,s.useState)(!1),[q,L]=(0,s.useState)(!1),[I,R]=(0,s.useState)(null),[z,F]=(0,s.useState)(!1),O=(0,v.validatePassword)(N),V=N===k,B=j.length>0&&N.length>0&&k.length>0&&O.isValid&&V&&!q,D=async e=>{if(e.preventDefault(),R(null),F(!1),!O.isValid)return void R("A nova senha não atende aos requisitos.");if(!V)return void R("As senhas não coincidem.");if(j===N)return void R("A nova senha deve ser diferente da senha atual.");L(!0);try{await b(j,N),w(""),E(""),M(""),F(!0)}catch(e){R((0,f.handleAuthError)(e).userMessage)}finally{L(!1)}};return(0,t.jsx)("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center p-6",children:(0,t.jsx)(i.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full max-w-md",children:(0,t.jsxs)("div",{className:"bg-faiston-bg-glass backdrop-blur-md rounded-2xl border border-border p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("div",{className:"flex justify-center mb-4",children:(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-accent-primary/10 flex items-center justify-center",children:(0,t.jsx)(m,{className:"w-8 h-8 text-accent-primary"})})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-text-primary",children:"Alterar Senha"}),(0,t.jsx)("p",{className:"text-sm text-text-secondary mt-1",children:y?.email||"Atualize sua senha de acesso"})]}),z&&(0,t.jsx)(i.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"p-4 rounded-lg bg-accent-success/10 border border-accent-success/30 mb-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(d.CheckCircle2,{className:"w-5 h-5 text-accent-success flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-accent-success",children:"Senha alterada com sucesso!"}),(0,t.jsx)("p",{className:"text-xs text-accent-success/80 mt-1",children:"Sua nova senha já está ativa."})]})]})}),(0,t.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[I&&(0,t.jsx)(i.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 rounded-lg bg-accent-warning/10 border border-accent-warning/30",children:(0,t.jsx)("p",{className:"text-sm text-accent-warning",children:I})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"currentPassword",className:"text-sm font-medium text-text-secondary",children:"Senha Atual"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.Lock,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),(0,t.jsx)(h.Input,{id:"currentPassword",type:C?"text":"password",placeholder:"••••••••",value:j,onChange:e=>w(e.target.value),className:"pl-10 pr-10 bg-faiston-bg border-border",disabled:q,autoComplete:"current-password",autoFocus:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>A(!C),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-secondary transition-colors",tabIndex:-1,children:C?(0,t.jsx)(l.EyeOff,{className:"w-4 h-4"}):(0,t.jsx)(o.Eye,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"relative py-2",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-border"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-xs",children:(0,t.jsx)("span",{className:"bg-faiston-bg-glass px-2 text-text-muted",children:"Nova senha"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"newPassword",className:"text-sm font-medium text-text-secondary",children:"Nova Senha"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.Lock,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),(0,t.jsx)(h.Input,{id:"newPassword",type:P?"text":"password",placeholder:"••••••••",value:N,onChange:e=>E(e.target.value),className:"pl-10 pr-10 bg-faiston-bg border-border",disabled:q,autoComplete:"new-password"}),(0,t.jsx)("button",{type:"button",onClick:()=>S(!P),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-secondary transition-colors",tabIndex:-1,children:P?(0,t.jsx)(l.EyeOff,{className:"w-4 h-4"}):(0,t.jsx)(o.Eye,{className:"w-4 h-4"})})]}),N.length>0&&(0,t.jsxs)("div",{className:"space-y-1 pt-2",children:[(0,t.jsx)(g,{met:O.checks.minLength,text:`M\xednimo ${v.passwordRequirements.minLength} caracteres`}),(0,t.jsx)(g,{met:O.checks.hasUppercase,text:"Uma letra maiúscula"}),(0,t.jsx)(g,{met:O.checks.hasLowercase,text:"Uma letra minúscula"}),(0,t.jsx)(g,{met:O.checks.hasNumber,text:"Um número"}),(0,t.jsx)(g,{met:O.checks.hasSpecial,text:"Um caractere especial (!@#$%^&*)"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-text-secondary",children:"Confirmar Nova Senha"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.Lock,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),(0,t.jsx)(h.Input,{id:"confirmPassword",type:T?"text":"password",placeholder:"••••••••",value:k,onChange:e=>M(e.target.value),className:`pl-10 pr-10 bg-faiston-bg border-border ${k.length>0&&!V?"border-accent-warning focus-visible:ring-accent-warning":""}`,disabled:q,autoComplete:"new-password"}),(0,t.jsx)("button",{type:"button",onClick:()=>U(!T),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-muted hover:text-text-secondary transition-colors",tabIndex:-1,children:T?(0,t.jsx)(l.EyeOff,{className:"w-4 h-4"}):(0,t.jsx)(o.Eye,{className:"w-4 h-4"})})]}),k.length>0&&!V&&(0,t.jsx)("p",{className:"text-xs text-accent-warning",children:"As senhas não coincidem."})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,t.jsxs)(x.Button,{type:"button",variant:"outline",onClick:()=>e.back(),className:"flex-1 border-border hover:bg-white/5",disabled:q,children:[(0,t.jsx)(u.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Voltar"]}),(0,t.jsx)(x.Button,{type:"submit",className:"flex-1 bg-gradient-to-r from-magenta-dark to-magenta-mid hover:from-magenta-mid hover:to-magenta-light text-white font-medium",disabled:!B,children:q?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Alterando..."]}):"Alterar Senha"})]}),(0,t.jsx)("div",{className:"text-center pt-4 border-t border-border",children:(0,t.jsxs)("p",{className:"text-sm text-text-secondary",children:["Esqueceu sua senha atual?"," ",(0,t.jsx)(r.default,{href:"/forgot-password",className:"text-accent-primary hover:underline font-medium",children:"Redefinir senha"})]})})]})]})})})}function g({met:e,text:s}){return(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[e?(0,t.jsx)(d.CheckCircle2,{className:"w-3.5 h-3.5 text-accent-success"}):(0,t.jsx)("div",{className:"w-3.5 h-3.5 rounded-full border border-text-muted"}),(0,t.jsx)("span",{className:e?"text-accent-success":"text-text-muted",children:s})]})}e.s(["default",()=>b],91438)}]);