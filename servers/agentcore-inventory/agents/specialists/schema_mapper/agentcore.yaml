# =============================================================================
# AgentCore Deployment Configuration - Schema Mapper
# =============================================================================
# Phase 3: Semantic Mapping (Column-to-Schema Matching)
#
# Deploy command:
#   cd server/agentcore-inventory/agents/specialists/schema_mapper
#   agentcore deploy --profile faiston-aio
#
# Reference: https://aws.github.io/bedrock-agentcore-starter-toolkit/api-reference/cli.html
# =============================================================================

# Runtime configuration
runtime:
  id: faiston_schema_mapper
  description: "Schema Mapper - Semantic Column Mapping (Phase 3)"

  # Memory configuration (STM + LTM for pattern learning)
  memory:
    type: hybrid  # STM for session + LTM for cross-user learning
    # LTM enables learning from HIL confirmations across all imports
    # Patterns stored in /strategy/import/company namespace

  # Network configuration
  port: 9018

  # Scaling (LLM reasoning requires more resources than simple analysis)
  scaling:
    min_instances: 0
    max_instances: 3

  # Timeout settings (Gemini Pro + Thinking mode needs more time)
  timeout:
    invoke_timeout_seconds: 120  # Pro model + thinking + MCP calls

  # Health check
  health_check:
    path: /health
    interval_seconds: 30

# Environment variables
environment:
  # AWS Configuration
  AWS_REGION: us-east-2
  AWS_ACCOUNT_ID: "377311924364"

  # S3 Bucket for documents
  DOCUMENTS_BUCKET: faiston-one-sga-documents-prod

  # MCP Gateway for schema introspection
  MCP_GATEWAY_ENABLED: "true"

  # Logging level
  LOG_LEVEL: INFO

# Agent metadata
metadata:
  name: SchemaMapper
  version: "2026-01-21"
  phase: "3-semantic-mapping"
  owner: "faiston-sga-team"
  tags:
    - inventory
    - schema-mapping
    - semantic-matching
    - mcp-gateway
    - phase-3
    - gemini-pro
    - thinking-mode
