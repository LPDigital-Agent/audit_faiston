[pytest]
testpaths = tests
python_files = test_*.py
python_functions = test_*
python_classes = Test*
addopts =
    -v
    --strict-markers
    --tb=short
    --disable-warnings
    # -------------------------------------------------------------------------
    # IGNORED TESTS (Tech Debt) - GitHub Issue: #71
    # -------------------------------------------------------------------------
    # Category 1: Tests requiring production dependencies (boto3, strands, bedrock_agentcore)
    # TODO: Add proper mocking or move dependencies to requirements-test.txt
    --ignore=tests/manual/
    --ignore=tests/test_code_inspector.py
    --ignore=tests/unit/test_nexo_transform.py
    --ignore=tests/unit/test_nexo_handler.py
    --ignore=tests/test_validation_errors.py
    #
    # Category 2: Integration tests (require live AWS infrastructure: AgentCore, A2A, etc.)
    # These tests are meant for manual/E2E runs, not CI unit testing
    --ignore=tests/integration/
    #
    # Category 3: Tests with SecurityAuditHook import error (shared.hooks module coupling)
    # TODO: Fix shared/hooks/__init__.py exports or update agent imports
    --ignore=tests/test_debug_hook.py
    --ignore=tests/test_debug_agent_tools.py
    #
    # Category 4: Tests with code/test mismatches (schema changes, API changes)
    # TODO: Update tests to match current code or fix code to match tests
    --ignore=tests/test_agent_room_service.py
    --ignore=tests/test_agent_schemas.py
    --ignore=tests/test_circuit_breaker.py
    --ignore=tests/test_memory_manager.py
markers =
    unit: Unit tests
    integration: Integration tests
    slow: Slow running tests
